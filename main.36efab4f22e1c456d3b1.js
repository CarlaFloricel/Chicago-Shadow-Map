(self.webpackChunkshadow_maps=self.webpackChunkshadow_maps||[]).push([[179],{255:Ho=>{function mr(Uo){return Promise.resolve().then(()=>{var yr=new Error("Cannot find module '"+Uo+"'");throw yr.code="MODULE_NOT_FOUND",yr})}mr.keys=()=>[],mr.resolve=mr,mr.id=255,Ho.exports=mr},630:(Ho,mr,Uo)=>{"use strict";function yr(e){return"function"==typeof e}let Dc=!1;const rn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Dc&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Dc=e},get useDeprecatedSynchronousErrorHandling(){return Dc}};function Ci(e){setTimeout(()=>{throw e},0)}const Ta={closed:!0,next(e){},error(e){if(rn.useDeprecatedSynchronousErrorHandling)throw e;Ci(e)},complete(){}},CI=Array.isArray||(e=>e&&"number"==typeof e.length);function Eg(e){return null!==e&&"object"==typeof e}const xa=(()=>{function e(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e})();class je{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof je)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(yr(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof xa?Cg(s.errors):[s]}}if(CI(o)){let s=-1,a=o.length;for(;++s<a;){const u=o[s];if(Eg(u))try{u.unsubscribe()}catch(l){t=t||[],l instanceof xa?t=t.concat(Cg(l.errors)):t.push(l)}}}if(t)throw new xa(t)}add(t){let n=t;if(!t)return je.EMPTY;switch(typeof t){case"function":n=new je(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof je)){const o=n;n=new je,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof je){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const n=this._subscriptions;if(n){const r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}var e;function Cg(e){return e.reduce((t,n)=>t.concat(n instanceof xa?n.errors:n),[])}je.EMPTY=((e=new je).closed=!0,e);const Ma="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Pt extends je{constructor(t,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ta;break;case 1:if(!t){this.destination=Ta;break}if("object"==typeof t){t instanceof Pt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new wg(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new wg(this,t,n,r)}}[Ma](){return this}static create(t,n,r){const i=new Pt(t,n,r);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class wg extends Pt{constructor(t,n,r,i){super(),this._parentSubscriber=t;let o,s=this;yr(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Ta&&(s=Object.create(n),yr(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;rn.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=rn;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=t,n.syncErrorThrown=!0):Ci(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Ci(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const n=()=>this._complete.call(this._context);rn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,n){try{t.call(this._context,n)}catch(r){if(this.unsubscribe(),rn.useDeprecatedSynchronousErrorHandling)throw r;Ci(r)}}__tryOrSetError(t,n,r){if(!rn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return rn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Ci(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Go="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dg(e){return e}let Dt=(()=>{class e{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:o}=this,s=function(e,t,n){if(e){if(e instanceof Pt)return e;if(e[Ma])return e[Ma]()}return e||t||n?new Pt(e,t,n):new Pt(Ta)}(n,r,i);if(s.add(o?o.call(s,this.source):this.source||rn.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),rn.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){rn.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof Pt?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=Ig(r))((i,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(u){o(u),s&&s.unsubscribe()}},o,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[Go](){return this}pipe(...n){return 0===n.length?this:function(e){return 0===e.length?Dg:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Ig(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Ig(e){if(e||(e=rn.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const $o=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class bI extends je{constructor(t,n){super(),this.subject=t,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,n=t.observers;if(this.subject=null,!n||0===n.length||t.isStopped||t.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class Tg extends Pt{constructor(t){super(t),this.destination=t}}let bc=(()=>{class e extends Dt{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ma](){return new Tg(this)}lift(n){const r=new xg(this,this);return r.operator=n,r}next(n){if(this.closed)throw new $o;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(n)}}error(n){if(this.closed)throw new $o;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new $o;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new $o;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new $o;return this.hasError?(n.error(this.thrownError),je.EMPTY):this.isStopped?(n.complete(),je.EMPTY):(this.observers.push(n),new bI(this,n))}asObservable(){const n=new Dt;return n.source=this,n}}return e.create=(t,n)=>new xg(t,n),e})();class xg extends bc{constructor(t,n){super(),this.destination=t,this.source=n}next(t){const{destination:n}=this;n&&n.next&&n.next(t)}error(t){const{destination:n}=this;n&&n.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:n}=this;return n?this.source.subscribe(t):je.EMPTY}}class xI{constructor(t,n){this.project=t,this.thisArg=n}call(t,n){return n.subscribe(new MI(t,this.project,this.thisArg))}}class MI extends Pt{constructor(t,n,r){super(t),this.project=n,this.count=0,this.thisArg=r||this}_next(t){let n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const Mg=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()},Ra="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Rg=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ag(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const Pg=e=>{if(e&&"function"==typeof e[Go])return(e=>t=>{const n=e[Go]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if(Rg(e))return Mg(e);if(Ag(e))return(e=>t=>(e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ci),t))(e);if(e&&"function"==typeof e[Ra])return(e=>t=>{const n=e[Ra]();for(;;){let r;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const n=`You provided ${Eg(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Sg(e,t){return new Dt(n=>{const r=new je;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}class BI extends Pt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class HI extends Pt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Og(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(Og((i,o)=>function(e,t){return e instanceof Dt?e:new Dt(Pg(e))}(e(i,o)).pipe(function(e,t){return function(r){return r.lift(new xI(e,undefined))}}((s,a)=>t(i,s,o,a))),n)):("number"==typeof t&&(n=t),r=>r.lift(new GI(e,n)))}class GI{constructor(t,n=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=n}call(t,n){return n.subscribe(new $I(t,this.project,this.concurrent))}}class $I extends HI{constructor(t,n,r=Number.POSITIVE_INFINITY){super(t),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let n;const r=this.index++;try{n=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(t){const n=new BI(this),r=this.destination;r.add(n);const i=function(e,t){if(t.closed)return;if(e instanceof Dt)return e.subscribe(t);let n;try{n=Pg(e)(t)}catch(r){t.error(r)}return n}(t,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Ng(){return function(t){return t.lift(new qI(t))}}class qI{constructor(t){this.connectable=t}call(t,n){const{connectable:r}=this;r._refCount++;const i=new ZI(t,r),o=n.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class ZI extends Pt{constructor(t,n){super(t),this.connectable=n}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const n=t._refCount;if(n<=0)return void(this.connection=null);if(t._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=t._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class YI extends Dt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new je,t.add(this.source.subscribe(new QI(this.getSubject(),this))),t.closed&&(this._connection=null,t=je.EMPTY)),t}refCount(){return Ng()(this)}}const XI=(()=>{const e=YI.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class QI extends Tg{constructor(t,n){super(t),this.connectable=n}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}}}function nT(){return new bc}function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function re(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(re).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Tc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const iT=ce({__forward_ref__:ce});function xc(e){return e.__forward_ref__=xc,e.toString=function(){return re(this())},e}function j(e){return function(e){return"function"==typeof e&&e.hasOwnProperty(iT)&&e.__forward_ref__===xc}(e)?e():e}class Gr extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function ht(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Aa(e,t){const n=t?` in ${t}`:"";throw new Gr("201",`No provider for ${ht(e)} found${n}`)}function Ot(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function _e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function $r(e){return{providers:e.providers||[],imports:e.imports||[]}}function Zn(e){return Lg(e,Pa)||Lg(e,Vg)}function Lg(e,t){return e.hasOwnProperty(t)?e[t]:null}function kg(e){return e&&(e.hasOwnProperty(Rc)||e.hasOwnProperty(fT))?e[Rc]:null}const Pa=ce({\u0275prov:ce}),Rc=ce({\u0275inj:ce}),Vg=ce({ngInjectableDef:ce}),fT=ce({ngInjectorDef:ce});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let Ac;function vr(e){const t=Ac;return Ac=e,t}function jg(e,t,n){const r=Zn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==t?t:void Aa(re(e),"Injector")}function Er(e){return{toString:e}.toString()}var Gt=(()=>((Gt=Gt||{})[Gt.OnPush=0]="OnPush",Gt[Gt.Default=1]="Default",Gt))(),We=(()=>((We=We||{})[We.Emulated=0]="Emulated",We[We.None=2]="None",We[We.ShadowDom=3]="ShadowDom",We))();const hT="undefined"!=typeof globalThis&&globalThis,pT="undefined"!=typeof window&&window,gT="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_T="undefined"!=typeof global&&global,de=hT||_T||pT||gT,wi={},me=[],Sa=ce({\u0275cmp:ce}),Pc=ce({\u0275dir:ce}),Sc=ce({\u0275pipe:ce}),Bg=ce({\u0275mod:ce}),mT=ce({\u0275loc:ce}),Yn=ce({\u0275fac:ce}),zo=ce({__NG_ELEMENT_ID__:ce});let yT=0;function Wo(e){return Er(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||me,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||We.Emulated,id:"c",styles:e.styles||me,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,s=e.pipes;return r.id+=yT++,r.inputs=$g(e.inputs,n),r.outputs=$g(e.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Hg):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ug):null,r})}function Hg(e){return pt(e)||function(e){return e[Pc]||null}(e)}function Ug(e){return function(e){return e[Sc]||null}(e)}const Gg={};function Ko(e){return Er(()=>{const t={type:e.type,bootstrap:e.bootstrap||me,declarations:e.declarations||me,imports:e.imports||me,exports:e.exports||me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Gg[e.id]=e.type),t})}function $g(e,t){if(null==e)return wi;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function pt(e){return e[Sa]||null}function zt(e,t){const n=e[Bg]||null;if(!n&&!0===t)throw new Error(`Type ${re(e)} does not have '\u0275mod' property.`);return n}function Mn(e){return Array.isArray(e)&&"object"==typeof e[1]}function sn(e){return Array.isArray(e)&&!0===e[1]}function Fc(e){return 0!=(8&e.flags)}function ka(e){return 1==(1&e.flags)}function an(e){return null!==e.template}function IT(e){return 0!=(512&e[2])}function Zr(e,t){return e.hasOwnProperty(Yn)?e[Yn]:null}class Wg{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kg(e){return e.type.prototype.ngOnChanges&&(e.setInput=RT),MT}function MT(){const e=Zg(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===wi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function RT(e,t,n,r){const i=Zg(e)||function(e,t){return e[qg]=t}(e,{previous:wi,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Wg(u&&u.currentValue,t,s===wi),e[r]=t}const qg="__ngSimpleChanges__";function Zg(e){return e[qg]||null}const Yg="http://www.w3.org/2000/svg";let Vc;function Oe(e){return!!e.listen}const Qg={createRenderer:(e,t)=>void 0!==Vc?Vc:"undefined"!=typeof document?document:void 0};function Ue(e){for(;Array.isArray(e);)e=e[0];return e}function qt(e,t){return Ue(t[e.index])}function Ft(e,t){const n=t[e];return Mn(n)?n:n[0]}function Jg(e){return 4==(4&e[2])}function Hc(e){return 128==(128&e[2])}function wr(e,t){return null==t?null:e[t]}function e_(e){e[18]=0}function Uc(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const q={lFrame:u_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function t_(){return q.bindingsEnabled}function I(){return q.lFrame.lView}function le(){return q.lFrame.tView}function Ke(){let e=n_();for(;null!==e&&64===e.type;)e=e.parent;return e}function n_(){return q.lFrame.currentTNode}function Rn(e,t){const n=q.lFrame;n.currentTNode=e,n.isParent=t}function Gc(){return q.lFrame.isParent}function Ba(){return q.isInCheckNoChangesMode}function Ha(e){q.isInCheckNoChangesMode=e}function zT(e,t){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=e,zc(t)}function zc(e){q.lFrame.currentDirectiveIndex=e}function o_(){return q.lFrame.currentQueryIndex}function Kc(e){q.lFrame.currentQueryIndex=e}function KT(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function s_(e,t,n){if(n&G.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&G.Host||(i=KT(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=q.lFrame=a_();return r.currentTNode=t,r.lView=e,!0}function Ua(e){const t=a_(),n=e[1];q.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function a_(){const e=q.lFrame,t=null===e?null:e.child;return null===t?u_(e):t}function u_(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function l_(){const e=q.lFrame;return q.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const c_=l_;function Ga(){const e=l_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Dr(e){q.lFrame.selectedIndex=e}function $a(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function za(e,t,n){d_(e,t,3,n)}function Wa(e,t,n,r){(3&e[2])===n&&d_(e,t,n,r)}function qc(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function d_(e,t,n,r){const o=null!=r?r:-1,s=t.length-1;let a=0;for(let u=void 0!==r?65535&e[18]:0;u<s;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<o||-1==o)&&(t1(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function t1(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Qo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ka(e,t,n){const r=Oe(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Yc(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function h_(e){return 3===e||4===e||6===e}function Yc(e){return 64===e.charCodeAt(0)}function qa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||p_(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function p_(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function g_(e){return-1!==e}function Ri(e){return 32767&e}function Ai(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Xc=!0;function Za(e){const t=Xc;return Xc=e,t}let a1=0;function es(e,t){const n=Jc(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Qc(r.data,e),Qc(t,null),Qc(r.blueprint,null));const i=Ya(e,t),o=e.injectorIndex;if(g_(i)){const s=Ri(i),a=Ai(i,t),u=a[1].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|u[s+l]}return t[o+8]=i,o}function Qc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ya(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Xa(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(zo)&&(r=n[zo]),null==r&&(r=n[zo]=a1++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function y_(e,t,n){if(n&G.Optional)return e;Aa(t,"NodeInjector")}function v_(e,t,n,r){if(n&G.Optional&&void 0===r&&(r=null),0==(n&(G.Self|G.Host))){const i=e[9],o=vr(void 0);try{return i?i.get(t,r,n&G.Optional):jg(t,r,n&G.Optional)}finally{vr(o)}}return y_(r,t,n)}const C_={};function c1(){return new Pi(Ke(),I())}function f1(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],c=Qa(a,s,n,null==r?function(e){return 2==(2&e.flags)}(a)&&Xc:r!=s&&0!=(3&a.type),i&G.Host&&o===a);return null!==c?ts(t,s,c,a):C_}function Qa(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,c=o>>20,d=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<d;h++){const p=s[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){const h=s[u];if(h&&an(h)&&h.type===n)return u}return null}function ts(e,t,n,r){let i=e[n];const o=t.data;if(function(e){return e instanceof Qo}(i)){const s=i;s.resolving&&function(e,t){throw new Gr("200",`Circular dependency in DI detected for ${e}`)}(ht(o[n]));const a=Za(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?vr(s.injectImpl):null;s_(e,r,G.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Kg(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==u&&vr(u),Za(a),s.resolving=!1,c_()}}return i}function w_(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function D_(e,t){return!(e&G.Self||e&G.Host&&t)}class Pi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return function(e,t,n,r=G.Default,i){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(zo)?e[zo]:void 0;return"number"==typeof t?t>=0?255&t:c1:t}(n);if("function"==typeof o){if(!s_(t,e,r))return r&G.Host?y_(i,n,r):v_(t,n,r,i);try{const s=o(r);if(null!=s||r&G.Optional)return s;Aa(n)}finally{c_()}}else if("number"==typeof o){let s=null,a=Jc(e,t),u=-1,l=r&G.Host?t[16][6]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?Ya(e,t):t[a+8],-1!==u&&D_(r,!1)?(s=t[1],a=Ri(u),t=Ai(u,t)):a=-1);-1!==a;){const c=t[1];if(w_(o,a,c.data)){const f=f1(a,t,n,s,r,l);if(f!==C_)return f}u=t[a+8],-1!==u&&D_(r,t[1].data[a+8]===l)&&w_(o,a,t)?(s=c,a=Ri(u),t=Ai(u,t)):a=-1}}}return v_(t,n,r,i)}(this._tNode,this._lView,t,void 0,n)}}const Oi="__parameters__";function Yr(e,t,n){return Er(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,c){const f=u.hasOwnProperty(Oi)?u[Oi]:Object.defineProperty(u,Oi,{value:[]})[Oi];for(;f.length<=c;)f.push(null);return(f[c]=f[c]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class ye{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=_e({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Zt(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Zt(r,t)):t!==e&&t.push(r)}return t}function Pn(e,t){e.forEach(n=>Array.isArray(n)?Pn(n,t):t(n))}function eu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Xr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const os={},af="__NG_DI_FLAG__",Li="ngTempTokenPath",I1=/\n/gm,uf="__source",lf=ce({provide:String,useValue:ce});let ss;function ki(e){const t=ss;return ss=e,t}function x1(e,t=G.Default){if(void 0===ss)throw new Error("inject() must be called from an injection context");return null===ss?jg(e,void 0,t):ss.get(e,t&G.Optional?null:void 0,t)}function se(e,t=G.Default){return(Ac||x1)(j(e),t)}function Qr(e){const t=[];for(let n=0;n<e.length;n++){const r=j(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,o=G.Default;for(let s=0;s<r.length;s++){const a=r[s],u=M1(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}t.push(se(i,o))}else t.push(se(r))}return t}function as(e,t){return e[af]=t,e.prototype[af]=t,e}function M1(e){return e[af]}function R_(e,t,n,r){const i=e[Li];throw t[uf]&&i.unshift(t[uf]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=re(t);if(Array.isArray(t))i=t.map(re).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):re(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(I1,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Li]=null,e}const us=as(Yr("Inject",e=>({token:e})),-1),Sn=as(Yr("Optional"),8),Jr=as(Yr("SkipSelf"),4),Z_="__ngContext__";function at(e,t){e[Z_]=t}function yf(e){const t=function(e){return e[Z_]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function au(e){return e.ngOriginalError}function Cx(e,...t){e.error(...t)}class ti{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),i=function(e){return e&&e.ngErrorLogger||Cx}(t);i(this._console,"ERROR",t),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?function(e){return e.ngDebugContext}(t)||this._findContext(au(t)):null}_findOriginalError(t){let n=t&&au(t);for(;n&&au(n);)n=au(n);return n||null}}const im=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(de))();function Fn(e){return e instanceof Function?e():e}var Vt=(()=>((Vt=Vt||{})[Vt.Important=1]="Important",Vt[Vt.DashCase=2]="DashCase",Vt))();function Cf(e,t){return undefined(e,t)}function ps(e){const t=e[3];return sn(t)?t[3]:t}function wf(e){return lm(e[13])}function Df(e){return lm(e[4])}function lm(e){for(;null!==e&&!sn(e);)e=e[4];return e}function Hi(e,t,n,r,i){if(null!=r){let o,s=!1;sn(r)?o=r:Mn(r)&&(s=!0,r=r[0]);const a=Ue(r);0===e&&null!==n?null==i?gm(t,n,a):ni(t,n,a,i||null,!0):1===e&&null!==n?ni(t,n,a,i||null,!0):2===e?function(e,t,n){const r=lu(e,t);r&&function(e,t,n,r){Oe(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){const o=n[7];o!==Ue(n)&&Hi(t,e,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];gs(u[1],u,e,t,r,o)}}(t,e,o,n,i)}}function If(e,t,n){return Oe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function fm(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Uc(i,-1)),n.splice(r,1)}function Tf(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&fm(i,r),t>0&&(e[n-1][4]=r[4]);const o=Xr(e,10+t);!function(e,t){gs(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function dm(e,t){if(!(256&t[2])){const n=t[11];Oe(n)&&n.destroyNode&&gs(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return xf(e[1],e);for(;t;){let n=null;if(Mn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Mn(t)&&xf(t[1],t),t=t[3];null===t&&(t=e),Mn(t)&&xf(t[1],t),n=t&&t[4]}t=n}}(t)}}function xf(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Qo)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(t):Ue(t[s]),u=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?a.removeEventListener(n[o],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(e,t),1===t[1].type&&Oe(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&sn(t[3])){n!==t[3]&&fm(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function hm(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===We.None||i===We.Emulated)return null}return qt(r,n)}(e,t.parent,n)}function ni(e,t,n,r,i){Oe(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function gm(e,t,n){Oe(e)?e.appendChild(t,n):t.appendChild(n)}function _m(e,t,n,r,i){null!==r?ni(e,t,n,r,i):gm(e,t,n)}function lu(e,t){return Oe(e)?e.parentNode(t):t.parentNode}let vm=function(e,t,n){return 40&e.type?qt(e,n):null};function cu(e,t,n,r){const i=hm(e,r,t),o=t[11],a=function(e,t,n){return vm(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)_m(o,i,n[u],a,!1);else _m(o,i,n,a,!1)}function fu(e,t){if(null!==t){const n=t.type;if(3&n)return qt(t,e);if(4&n)return Rf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return fu(e,r);{const i=e[t.index];return sn(i)?Rf(-1,i):Ue(i)}}if(32&n)return Cf(t,e)()||Ue(e[t.index]);{const r=Cm(e,t);return null!==r?Array.isArray(r)?r[0]:fu(ps(e[16]),r):fu(e,t.next)}}return null}function Cm(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Rf(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return fu(r,i)}return t[7]}function Af(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===t&&(a&&at(Ue(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Af(e,t,n.child,r,i,o,!1),Hi(t,e,i,a,o);else if(32&u){const l=Cf(n,r);let c;for(;c=l();)Hi(t,e,i,c,o);Hi(t,e,i,a,o)}else 16&u?Dm(e,t,r,n,i,o):Hi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function gs(e,t,n,r,i,o){Af(n,r,e.firstChild,t,i,o,!1)}function Dm(e,t,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Hi(t,e,i,u[l],o);else Af(e,t,u,s[3],i,o,!0)}function bm(e,t,n){Oe(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Pf(e,t,n){Oe(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Im(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const Tm="ng-template";function Kx(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Im(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function xm(e){return 4===e.type&&e.value!==Tm}function qx(e,t,n){return t===(4!==e.type||n?e.value:Tm)}function Zx(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(h_(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!qx(e,u,n)||""===u&&1===t.length){if(un(r))return!1;s=!0}}else{const l=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Kx(e.attrs,l,n)){if(un(r))return!1;s=!0}continue}const f=Yx(8&r?"class":u,i,xm(e),n);if(-1===f){if(un(r))return!1;s=!0;continue}if(""!==l){let d;d=f>o?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==Im(h,l,0)||2&r&&l!==d){if(un(r))return!1;s=!0}}}}else{if(!s&&!un(r)&&!un(u))return!1;if(s&&un(u))continue;s=!1,r=u|1&r}}return un(r)||s}function un(e){return 0==(1&e)}function Yx(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Mm(e,t,n=!1){for(let r=0;r<t.length;r++)if(Zx(e,t[r],n))return!0;return!1}function Rm(e,t){return e?":not("+t.trim()+")":t}function tM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!un(s)&&(t+=Rm(o,i),i=""),r=s,o=o||!un(r);n++}return""!==i&&(t+=Rm(o,i)),t}const Y={};function Bm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=e.data[o];Kc(i),s.contentQueries(2,t[o],o)}}}function _s(e,t,n,r,i,o,s,a,u,l){const c=t.blueprint.slice();return c[0]=i,c[2]=140|r,e_(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=u||e&&e[12]||null,c[9]=l||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function Ui(e,t,n,r,i){let o=e.data[t];if(null===o)o=function(e,t,n,r,i){const o=n_(),s=Gc(),u=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(e,t,n,r,i),q.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function(){const e=q.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Rn(o,!0),o}function Gi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ms(e,t,n){Ua(t);try{const r=e.viewQuery;null!==r&&Yf(1,r,n);const i=e.template;null!==i&&Hm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Bm(e,t),e.staticViewQueries&&Yf(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)FM(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ga()}}function $i(e,t,n,r){const i=t[2];if(256==(256&i))return;Ua(t);const o=Ba();try{e_(t),function(e){q.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Hm(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const l=e.preOrderCheckHooks;null!==l&&za(t,l,null)}else{const l=e.preOrderHooks;null!==l&&Wa(t,l,0,null),qc(t,0)}if(function(e){for(let t=wf(e);null!==t;t=Df(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&Uc(o,1),i[2]|=1024}}}(t),function(e){for(let t=wf(e);null!==t;t=Df(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Hc(r)&&$i(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Bm(e,t),!o)if(s){const l=e.contentCheckHooks;null!==l&&za(t,l)}else{const l=e.contentHooks;null!==l&&Wa(t,l,1),qc(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Dr(~i);else{const o=i,s=n[++r],a=n[++r];zT(s,o),a(2,t[o])}}}finally{Dr(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)NM(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&Yf(2,u,r),!o)if(s){const l=e.viewCheckHooks;null!==l&&za(t,l)}else{const l=e.viewHooks;null!==l&&Wa(t,l,2),qc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Uc(t[3],-1))}finally{Ga()}}function gM(e,t,n,r){const i=t[10],o=!Ba(),s=Jg(t);try{o&&!s&&i.begin&&i.begin(),s&&ms(e,t,r),$i(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function Hm(e,t,n,r,i){const o=q.lFrame.selectedIndex,s=2&r;try{Dr(-1),s&&t.length>20&&function(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&za(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Wa(t,o,0,n)}Dr(n)}(e,t,20,Ba()),n(r,i)}finally{Dr(o)}}function Gm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function gu(e,t,n,r,i,o,s,a,u,l){const c=20+r,f=c+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Y);return n}(c,f),h="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:h,incompleteFirstPass:!1}}function Wm(e,t,n,r){const i=ny(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&ry(e).push(r,i.length-1))}function Km(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Zm(e,t,n,r,i,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const u=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function Ym(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Xm(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function MM(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;an(t)&&(n[""]=e)}}function Qm(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Jm(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Zr(i.type)),s=new Qo(o,an(i),null);e.blueprint[r]=s,n[r]=s,Zm(e,t,0,r,Gi(e,n,i.hostVars,Y),i)}function RM(e,t,n){const r=qt(t,e),i=Gm(n),o=e[10],s=_u(e,_s(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function AM(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const l=s[u++],c=s[u++],f=s[u++];null!==a?r.setInput(n,f,l,c):n[c]=f}}}function PM(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function NM(e,t){const n=Ft(t,e);if(Hc(n)){const r=n[1];80&n[2]?$i(r,n,r.template,n[8]):n[5]>0&&Wf(n)}}function Wf(e){for(let r=wf(e);null!==r;r=Df(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];$i(s,o,s.template,o[8])}else o[5]>0&&Wf(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ft(n[r],e);Hc(i)&&i[5]>0&&Wf(i)}}function FM(e,t){const n=Ft(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),ms(r,n,n[8])}function _u(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Kf(e){for(;e;){e[2]|=64;const t=ps(e);if(IT(e)&&!t)return e;e=t}return null}function Zf(e,t,n){const r=t[10];r.begin&&r.begin();try{$i(e,t,e.template,n)}catch(i){throw oy(t,i),i}finally{r.end&&r.end()}}function ty(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=yf(n),i=r[1];gM(i,r,i.template,n)}}(e[8])}function Yf(e,t,n){Kc(0),t(e,n)}const BM=(()=>Promise.resolve(null))();function ny(e){return e[7]||(e[7]=[])}function ry(e){return e.cleanup||(e.cleanup=[])}function oy(e,t){const n=e[9],r=n?n.get(ti,null):null;r&&r.handleError(t)}function mu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Tc(i,a):2==o&&(r=Tc(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const zi=new ye("INJECTOR",-1);class ay{get(t,n=os){if(n===os){const r=new Error(`NullInjectorError: No provider for ${re(t)}!`);throw r.name="NullInjectorError",r}return n}}const ys=new ye("Set Injector scope."),vs={},GM={};let Xf;function uy(){return void 0===Xf&&(Xf=new ay),Xf}function ly(e,t=null,n=null,r){return new zM(e,n,t||uy(),r)}class zM{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&Pn(n,a=>this.processProvider(a,t,n)),Pn([t],a=>this.processInjectorType(a,[],o)),this.records.set(zi,Wi(void 0,this));const s=this.records.get(ys);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:re(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=os,r=G.Default){this.assertNotDestroyed();const i=ki(this),o=vr(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof ye}(t)&&Zn(t);a=u&&this.injectableDefInScope(u)?Wi(Qf(t),vs):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&G.Self?uy():this.parent).get(t,n=r&G.Optional&&n===os?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Li]=s[Li]||[]).unshift(re(t)),i)throw s;return R_(s,t,"R3InjectorError",this.source)}throw s}finally{vr(o),ki(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(re(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=j(t)))return!1;let i=kg(t);const o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=kg(o)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(s);try{Pn(i.imports,f=>{this.processInjectorType(f,n,r)&&(void 0===c&&(c=[]),c.push(f))})}finally{}if(void 0!==c)for(let f=0;f<c.length;f++){const{ngModule:d,providers:h}=c[f];Pn(h,p=>this.processProvider(p,d,h||me))}}this.injectorDefTypes.add(s);const u=Zr(s)||(()=>new s);this.records.set(s,Wi(u,vs));const l=i.providers;if(null!=l&&!a){const c=t;Pn(l,f=>this.processProvider(f,c,l))}return void 0!==o&&void 0!==t.providers}processProvider(t,n,r){let i=Ki(t=j(t))?t:j(t&&t.provide);const o=function(e,t,n){return fy(e)?Wi(void 0,e.useValue):Wi(function(e,t,n){let r;if(Ki(e)){const i=j(e);return Zr(i)||Qf(i)}if(fy(e))r=()=>j(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Qr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>se(j(e.useExisting));else{const i=j(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Zr(i)||Qf(i);r=()=>new i(...Qr(e.deps))}return r}(e),vs)}(t);if(Ki(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Wi(void 0,vs,!0),s.factory=()=>Qr(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}hydrate(t,n){return n.value===vs&&(n.value=GM,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=j(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Qf(e){const t=Zn(e),n=null!==t?t.factory:Zr(e);if(null!==n)return n;if(e instanceof ye)throw new Error(`Token ${re(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${re(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[Pa]||e[Vg]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Wi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function fy(e){return null!==e&&"object"==typeof e&&lf in e}function Ki(e){return"function"==typeof e}const dy=function(e,t,n){return function(e,t=null,n=null,r){const i=ly(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class ge{static create(t,n){return Array.isArray(t)?dy(t,n,""):dy(t.providers,t.parent,t.name||"")}}function dR(e,t){$a(yf(e)[1],Ke())}ge.THROW_IF_NOT_FOUND=os,ge.NULL=new ay,ge.\u0275prov=_e({token:ge,providedIn:"any",factory:()=>se(zi)}),ge.__NG_ELEMENT_ID__=-1;let yu=null;function qi(){if(!yu){const e=de.Symbol;if(e&&e.iterator)yu=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(yu=r)}}}return yu}function Cs(e){return!!od(e)&&(Array.isArray(e)||!(e instanceof Map)&&qi()in e)}function od(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function cd(e,t,n,r,i){const s=i?"class":"style";!function(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=t[s],l=e.data[s];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}(e,n,t.inputs[s],s,r)}function fd(e,t,n,r){const i=I(),o=le(),s=20+e,a=i[11],u=i[s]=If(a,t,q.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,r,i,o,s){const a=t.consts,l=Ui(t,e,2,i,wr(a,o));return function(e,t,n,r){let i=!1;if(t_()){const o=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Mm(n,s.selectors,!1)&&(i||(i=[]),Xa(es(n,t),e,s.type),an(s)?(Xm(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Qm(n,e.data.length,o.length);for(let c=0;c<o.length;c++){const f=o[c];f.providersResolver&&f.providersResolver(f)}let a=!1,u=!1,l=Gi(e,t,o.length,null);for(let c=0;c<o.length;c++){const f=o[c];n.mergedAttrs=qa(n.mergedAttrs,f.hostAttrs),Jm(e,n,t,l,f),MM(l,f,s),null!==f.contentQueries&&(n.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=128);const d=f.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!u&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),u=!0),l++}!function(e,t){const r=t.directiveEnd,i=e.data,o=t.attrs,s=[];let a=null,u=null;for(let l=t.directiveStart;l<r;l++){const c=i[l],f=c.inputs,d=null===o||xm(t)?null:PM(f,o);s.push(d),a=Km(f,l,a),u=Km(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=u}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Gr("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],o)}}}(n,r,s)}n.mergedAttrs=qa(n.mergedAttrs,n.attrs)}(t,n,l,wr(a,s)),null!==l.attrs&&mu(l,l.attrs,!1),null!==l.mergedAttrs&&mu(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,0,t,n,r):o.data[s];Rn(l,!0);const c=l.mergedAttrs;null!==c&&Ka(a,u,c);const f=l.classes;null!==f&&Pf(a,u,f);const d=l.styles;null!==d&&bm(a,u,d),64!=(64&l.flags)&&cu(o,i,u,l),0===q.lFrame.elementDepthCount&&at(u,i),q.lFrame.elementDepthCount++,ka(l)&&(function(e,t,n){!t_()||(function(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||es(n,t),at(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const u=e.data[a],l=an(u);l&&RM(t,n,u);const c=ts(t,e,a,n);at(c,t),null!==s&&AM(0,a-i,c,u,0,s),l&&(Ft(n.index,t)[8]=c)}}(e,t,n,qt(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=q.lFrame.currentDirectiveIndex;try{Dr(s);for(let u=r;u<i;u++){const l=e.data[u],c=t[u];zc(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Ym(l,c)}}finally{Dr(-1),zc(a)}}(e,t,n))}(o,i,l),function(e,t,n){if(Fc(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,l,i)),null!==r&&function(e,t,n=qt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}(i,l)}function dd(){let e=Ke();Gc()?q.lFrame.isParent=!1:(e=e.parent,Rn(e,!1));const t=e;q.lFrame.elementDepthCount--;const n=le();n.firstCreatePass&&($a(n,e),Fc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&cd(n,t,I(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&cd(n,t,I(),t.stylesWithoutHost,!1)}function Cu(e,t,n,r){fd(e,t,n,r),dd()}function hd(e){return!!e&&"function"==typeof e.then}const nv=function(e){return!!e&&"function"==typeof e.subscribe};function pd(e,t,n,r){const i=I(),o=le(),s=Ke();return function(e,t,n,r,i,o,s,a){const u=ka(r),c=e.firstCreatePass&&ry(e),f=t[8],d=ny(t);let h=!0;if(3&r.type||a){const g=qt(r,t),m=a?a(g):g,y=d.length,v=a?E=>a(Ue(E[r.index])):r.index;if(Oe(n)){let E=null;if(!a&&u&&(E=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=gd(r,t,f,o,!1);const w=n.listen(m,i,o);d.push(o,w),c&&c.push(i,v,y,y+1)}}else o=gd(r,t,f,o,!0),m.addEventListener(i,o,s),d.push(o),c&&c.push(i,v,y,s)}else o=gd(r,t,f,o,!1);const p=r.outputs;let _;if(h&&null!==p&&(_=p[i])){const g=_.length;if(g)for(let m=0;m<g;m+=2){const x=t[_[m]][_[m+1]].subscribe(o),R=d.length;d.push(o,x),c&&c.push(i,r.index,R,-(R+1))}}}(o,i,i[11],s,e,t,!!n,r),pd}function ov(e,t,n,r){try{return!1!==n(r)}catch(i){return oy(e,i),!1}}function gd(e,t,n,r,i){return function o(s){if(s===Function)return r;const a=2&e.flags?Ft(e.index,t):t;0==(32&t[2])&&Kf(a);let u=ov(t,0,r,s),l=o.__ngNextListenerFn__;for(;l;)u=ov(t,0,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}const ii=void 0;var UA=["en",[["a","p"],["AM","PM"],ii],[["AM","PM"],ii,ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ii,"{1} 'at' {0}",ii],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let so={};function Xv(e){return e in so||(so[e]=de.ng&&de.ng.common&&de.ng.common.locales&&de.ng.common.locales[e]),so[e]}var O=(()=>((O=O||{})[O.LocaleId=0]="LocaleId",O[O.DayPeriodsFormat=1]="DayPeriodsFormat",O[O.DayPeriodsStandalone=2]="DayPeriodsStandalone",O[O.DaysFormat=3]="DaysFormat",O[O.DaysStandalone=4]="DaysStandalone",O[O.MonthsFormat=5]="MonthsFormat",O[O.MonthsStandalone=6]="MonthsStandalone",O[O.Eras=7]="Eras",O[O.FirstDayOfWeek=8]="FirstDayOfWeek",O[O.WeekendRange=9]="WeekendRange",O[O.DateFormat=10]="DateFormat",O[O.TimeFormat=11]="TimeFormat",O[O.DateTimeFormat=12]="DateTimeFormat",O[O.NumberSymbols=13]="NumberSymbols",O[O.NumberFormats=14]="NumberFormats",O[O.CurrencyCode=15]="CurrencyCode",O[O.CurrencySymbol=16]="CurrencySymbol",O[O.CurrencyName=17]="CurrencyName",O[O.Currencies=18]="Currencies",O[O.Directionality=19]="Directionality",O[O.PluralCase=20]="PluralCase",O[O.ExtraData=21]="ExtraData",O))();const Du="en-US";let Qv=Du;function vd(e){Ot(e,"Expected localeId to be defined"),"string"==typeof e&&(Qv=e.toLowerCase().replace(/_/g,"-"))}class D0{}const I0="ngComponent";class GP{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${re(e)}. Did you add it to @NgModule.entryComponents?`);return t[I0]=e,t}(t)}}class oi{}function Mu(...e){}function uo(e,t){return new pn(qt(e,t))}oi.NULL=new GP;const WP=function(){return uo(Ke(),I())};let pn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=WP,e})();function T0(e){return e instanceof pn?e.nativeElement:e}class Ru{}let xd=(()=>{class e{}return e.\u0275prov=_e({token:e,providedIn:"root",factory:()=>null}),e})();class Md{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const M0=new Md("12.2.4");class R0{constructor(){}supports(t){return Cs(t)}create(t){return new QP(t)}}const XP=(e,t)=>t;class QP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||XP}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<P0(r,i,o)?n:r,a=P0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,c=u-i;if(l!=c){for(let d=0;d<l;d++){const h=d<o.length?o[d]:o[d]=0,p=h+d;c<=p&&p<l&&(o[d]=h+1)}o[s.previousIndex]=c-l}}a!==u&&t(s,a,u)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Cs(t))throw new Error(`Error trying to diff '${re(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[qi()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new JP(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new A0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new A0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class JP{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class A0{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new eS,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function P0(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class S0{constructor(){}supports(t){return t instanceof Map||od(t)}create(){return new tS}}class tS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||od(t)))throw new Error(`Error trying to diff '${re(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new nS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class nS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O0(){return new Ms([new R0])}let Ms=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||O0()),deps:[[e,new Jr,new Sn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=_e({token:e,providedIn:"root",factory:O0}),e})();function N0(){return new lo([new S0])}let lo=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||N0()),deps:[[e,new Jr,new Sn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=_e({token:e,providedIn:"root",factory:N0}),e})();function Au(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(Ue(o)),sn(o))for(let a=10;a<o.length;a++){const u=o[a],l=u[1].firstChild;null!==l&&Au(u[1],u,l,r)}const s=n.type;if(8&s)Au(e,t,n.child,r);else if(32&s){const a=Cf(n,t);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Cm(t,n);if(Array.isArray(a))r.push(...a);else{const u=ps(t[16]);Au(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Rs{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Au(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(sn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Tf(t,r),Xr(n,r))}this._attachedToViewContainer=!1}dm(this._lView[1],this._lView)}onDestroy(t){Wm(this._lView[1],this._lView,null,t)}markForCheck(){Kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ha(!0);try{Zf(e,t,n)}finally{Ha(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(e,t){gs(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class iS extends Rs{constructor(t){super(t),this._view=t}detectChanges(){ty(this._view)}checkNoChanges(){!function(e){Ha(!0);try{ty(e)}finally{Ha(!1)}}(this._view)}get context(){return null}}const cS=[new S0],dS=new Ms([new R0]),hS=new lo(cS),gS=function(){return Pu(Ke(),I())};let nr=(()=>{class e{}return e.__NG_ELEMENT_ID__=gS,e})();const _S=nr,mS=class extends _S{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=_s(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),ms(n,r,t),new Rs(r)}};function Pu(e,t){return 4&e.type?new mS(t,e,uo(e,t)):null}class si{}const CS=function(){return k0(Ke(),I())};let Bn=(()=>{class e{}return e.__NG_ELEMENT_ID__=CS,e})();const DS=Bn,F0=class extends DS{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ya(this._hostTNode,this._hostLView);if(g_(t)){const n=Ai(t,this._hostLView),r=Ri(t);return new Pi(n[1].data[r+8],n)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=L0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,o){const s=r||this.parentInjector;if(!o&&null==t.ngModule&&s){const u=s.get(si,null);u&&(o=u)}const a=t.create(s,i,void 0,o);return this.insert(a.hostView,n),a}insert(t,n){const r=t._lView,i=r[1];if(function(e){return sn(e[3])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const f=r[3],d=new F0(f,f[6],f[3]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],eu(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,s,o);const a=Rf(o,s),u=r[11],l=lu(u,s[7]);return null!==l&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,gs(e,r,n,1,i,o)}(i,s[6],u,r,l,a),t.attachToViewContainerRef(),eu(Rd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=L0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Tf(this._lContainer,n);r&&(Xr(Rd(this._lContainer),n),dm(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Tf(this._lContainer,n);return r&&null!=Xr(Rd(this._lContainer),n)?new Rs(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function L0(e){return e[8]}function Rd(e){return e[8]||(e[8]=[])}function k0(e,t){let n;const r=t[e.index];if(sn(r))n=r;else{let i;if(8&e.type)i=Ue(r);else{const o=t[11];i=o.createComment("");const s=qt(e,t);ni(o,lu(o,s),i,function(e,t){return Oe(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=function(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),_u(t,n)}return new F0(n,e,t)}const po={};class rE extends oi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pt(t);return new oE(n,this.ngModule)}}function iE(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const vO=new ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>im});class oE extends D0{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function(e){return e.map(tM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return iE(this.componentDef.inputs)}get outputs(){return iE(this.componentDef.outputs)}create(t,n,r,i){const o=(i=i||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,po,i);return o!==po||r===po?o:t.get(n,r,i)}}}(t,i.injector):t,s=o.get(Ru,Qg),a=o.get(xd,null),u=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function(e,t,n){if(Oe(e))return e.selectRootElement(t,n===We.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(u,r,this.componentDef.encapsulation):If(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Yg:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d=function(e,t){return{components:[],scheduler:e||im,clean:BM,playerHandler:t||null,flags:0}}(),h=gu(0,null,null,1,0,null,null,null,null,null),p=_s(null,h,d,f,null,null,s,u,a,o);let _,g;Ua(p);try{const m=function(e,t,n,r,i,o){const s=n[1];n[20]=e;const u=Ui(s,20,2,"#host",null),l=u.mergedAttrs=t.hostAttrs;null!==l&&(mu(u,l,!0),null!==e&&(Ka(i,e,l),null!==u.classes&&Pf(i,e,u.classes),null!==u.styles&&bm(i,e,u.styles)));const c=r.createRenderer(e,t),f=_s(n,Gm(t),null,t.onPush?64:16,n[20],u,r,c,o||null,null);return s.firstCreatePass&&(Xa(es(u,n),s,t.type),Xm(s,u),Qm(u,n.length,1)),_u(n,f),n[20]=f}(c,this.componentDef,p,s,u);if(c)if(r)Ka(u,c,["ng-version",M0.full]);else{const{attrs:y,classes:v}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!un(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);y&&Ka(u,c,y),v&&v.length>0&&Pf(u,c,v.join(" "))}if(g=function(e,t){return e.data[t]}(h,20),void 0!==n){const y=g.projection=[];for(let v=0;v<this.ngContentSelectors.length;v++){const E=n[v];y.push(null!=E?Array.from(E):null)}}_=function(e,t,n,r,i){const o=n[1],s=function(e,t,n){const r=Ke();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Jm(e,r,t,Gi(e,t,1,null),n));const i=ts(t,e,r.directiveStart,r);at(i,t);const o=qt(r,t);return o&&at(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(u=>u(s,t)),t.contentQueries){const u=Ke();t.contentQueries(1,s,u.directiveStart)}const a=Ke();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Dr(a.index),Zm(n[1],a,0,a.directiveStart,a.directiveEnd,t),Ym(t,s)),s}(m,this.componentDef,p,d,[dR]),ms(h,p,null)}finally{Ga()}return new wO(this.componentType,_,uo(g,p),p,g)}}class wO extends class{}{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new iS(i),this.componentType=t}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const go=new Map;class IO extends si{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rE(this);const r=zt(t),i=function(e){return e[mT]||null}(t);i&&vd(i),this._bootstrapComponents=Fn(r.bootstrap),this._r3Injector=ly(t,n,[{provide:si,useValue:this},{provide:oi,useValue:this.componentFactoryResolver}],re(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=ge.THROW_IF_NOT_FOUND,r=G.Default){return t===ge||t===si||t===zi?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ud extends class{}{constructor(t){super(),this.moduleType=t,null!==zt(t)&&function(e){const t=new Set;!function n(r){const i=zt(r,!0),o=i.id;null!==o&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${re(t)} vs ${re(t.name)}`)}(o,go.get(o),r),go.set(o,r));const s=Fn(i.imports);for(const a of s)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new IO(this.moduleType,t)}}function Gd(e){return t=>{setTimeout(e,void 0,t)}}const Hn=class extends bc{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,o,s;let a=t,u=n||(()=>null),l=r;if(t&&"object"==typeof t){const f=t;a=null===(i=f.next)||void 0===i?void 0:i.bind(f),u=null===(o=f.error)||void 0===o?void 0:o.bind(f),l=null===(s=f.complete)||void 0===s?void 0:s.bind(f)}this.__isAsync&&(u=Gd(u),a&&(a=Gd(a)),l&&(l=Gd(l)));const c=super.subscribe({next:a,error:u,complete:l});return t instanceof je&&t.add(c),c}};function $O(){return this._results[qi()]()}class Lu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=qi(),r=Lu.prototype;r[n]||(r[n]=$O)}get changes(){return this._changes||(this._changes=new Hn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Zt(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class $d{constructor(t){this.queryList=t,this.matches=null}clone(){return new $d(this.queryList)}setDirty(){this.queryList.setDirty()}}class zd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new zd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==EE(t,n).matches&&this.queries[n].setDirty()}}class hE{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Wd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Wd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Kd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Kd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,KO(n,o)),this.matchTNodeWithReadOption(t,n,Qa(n,t,o,!1,!1))}else r===nr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Qa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===pn||i===Bn||i===nr&&4&n.type)this.addMatch(n.index,-2);else{const o=Qa(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function KO(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function ZO(e,t,n,r){return-1===n?function(e,t){return 11&e.type?uo(e,t):4&e.type?Pu(e,t):null}(t,e):-2===n?function(e,t,n){return n===pn?uo(t,e):n===nr?Pu(t,e):n===Bn?k0(t,e):void 0}(e,t,r):ts(e,e[1],n,t)}function pE(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const l=s[u];a.push(l<0?null:ZO(t,o[l],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function qd(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=pE(e,t,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const l=o[a+1],c=t[-u];for(let f=10;f<c.length;f++){const d=c[f];d[17]===d[3]&&qd(d[1],d,l,r)}if(null!==c[9]){const f=c[9];for(let d=0;d<f.length;d++){const h=f[d];qd(h[1],h,l,r)}}}}}return r}function gE(e){const t=I(),n=le(),r=o_();Kc(r+1);const i=EE(n,r);if(e.dirty&&Jg(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?qd(n,t,r,[]):pE(n,t,i,r);e.reset(o,T0),e.notifyOnChanges()}return!0}return!1}function _E(e,t,n){const r=le();r.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new Wd),e.queries.track(new Kd(t,n))}(r,new hE(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function(e,t,n){const r=new Lu(4==(4&n));Wm(e,t,r,r.destroy),null===t[19]&&(t[19]=new zd),t[19].queries.push(new $d(r))}(r,I(),t)}function EE(e,t){return e.queries.getByIndex(t)}const ju=new ye("Application Initializer");let mo=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Mu,this.reject=Mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(hd(o))n.push(o);else if(nv(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(se(ju,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const Hs=new ye("AppId"),xN={provide:Hs,useFactory:function(){return`${eh()}${eh()}${eh()}`},deps:[]};function eh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VE=new ye("Platform Initializer"),th=new ye("Platform ID"),MN=new ye("appBootstrapListener");let nh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const Rr=new ye("LocaleId"),jE=new ye("DefaultCurrencyCode");class AN{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const rh=function(e){return new Ud(e)},PN=rh,SN=function(e){return Promise.resolve(rh(e))},BE=function(e){const t=rh(e),r=Fn(zt(e).declarations).reduce((i,o)=>{const s=pt(o);return s&&i.push(new oE(s)),i},[]);return new AN(t,r)},ON=BE,NN=function(e){return Promise.resolve(BE(e))};let Hu=(()=>{class e{constructor(){this.compileModuleSync=PN,this.compileModuleAsync=SN,this.compileModuleAndAllComponentsSync=ON,this.compileModuleAndAllComponentsAsync=NN}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const kN=(()=>Promise.resolve(0))();function ih(e){"undefined"==typeof Zone?kN.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class nt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hn(!1),this.onMicrotaskEmpty=new Hn(!1),this.onStable=new Hn(!1),this.onError=new Hn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=de.requestAnimationFrame,t=de.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(de,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,sh(e),e.isCheckStableRunning=!0,oh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),sh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return HE(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),UE(e)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return HE(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),UE(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,sh(e),oh(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,jN,Mu,Mu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const jN={};function oh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function HE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function UE(e){e._nesting--,oh(e)}class UN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hn,this.onMicrotaskEmpty=new Hn,this.onStable=new Hn,this.onError=new Hn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let ah=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nt.assertNotInAngularZone(),ih(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ih(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(se(nt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),GE=(()=>{class e{constructor(){this._applications=new Map,uh.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return uh.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();class GN{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let uh=new GN,$E=!0,zE=!1;let mn;const KE=new ye("AllowMultipleToken");function qE(e,t,n=[]){const r=`Platform: ${t}`,i=new ye(r);return(o=[])=>{let s=ZE();if(!s||s.injector.get(KE,!1))if(e)e(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:ys,useValue:"platform"});!function(e){if(mn&&!mn.destroyed&&!mn.injector.get(KE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mn=e.get(YE);const t=e.get(VE,null);t&&t.forEach(n=>n())}(ge.create({providers:a,name:r}))}return function(e){const t=ZE();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ZE(){return mn&&!mn.destroyed?mn:null}let YE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(e,t){let n;return n="noop"===e?new UN:("zone.js"===e?void 0:e)||new nt({enableLongStackTrace:(zE=!0,$E),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:nt,useValue:a}];return a.run(()=>{const l=ge.create({providers:u,parent:this.injector,name:n.moduleType.name}),c=n.create(l),f=c.injector.get(ti,null);if(!f)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:h=>{f.handleError(h)}});c.onDestroy(()=>{lh(this._modules,c),d.unsubscribe()})}),function(e,t,n){try{const r=n();return hd(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(f,a,()=>{const d=c.injector.get(mo);return d.runInitializers(),d.donePromise.then(()=>(vd(c.injector.get(Rr,Du)||Du),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=XE({},r);return function(e,t,n){const r=new Ud(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Us);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${re(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(se(ge))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();function XE(e,t){return Array.isArray(t)?t.reduce(XE,e):Object.assign(Object.assign({},e),t)}let Us=(()=>{class e{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Dt(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new Dt(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{nt.assertNotInAngularZone(),ih(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{nt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return function(e){return e&&"function"==typeof e.schedule}(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof Dt?e[0]:function(e=Number.POSITIVE_INFINITY){return Og(Dg,e)}(t)(function(e,t){return t?Sg(e,t):new Dt(Mg(e))}(e,n))}(a,u.pipe(e=>Ng()(function(e,t){return function(r){let i;i="function"==typeof e?e:function(){return e};const o=Object.create(r,XI);return o.source=r,o.subjectFactory=i,o}}(nT)(e))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof D0?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(si),a=i.create(ge.NULL,[],r||i.selector,o),u=a.location.nativeElement,l=a.injector.get(ah,null),c=l&&a.injector.get(GE);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),lh(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;lh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(MN,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(se(nt),se(ge),se(ti),se(oi),se(mo))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();function lh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const _F=qE(null,"core",[{provide:th,useValue:"unknown"},{provide:YE,deps:[ge]},{provide:GE,deps:[]},{provide:nh,deps:[]}]),CF=[{provide:Us,useClass:Us,deps:[nt,ge,ti,oi,mo]},{provide:vO,deps:[nt],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:mo,useClass:mo,deps:[[new Sn,ju]]},{provide:Hu,useClass:Hu,deps:[]},xN,{provide:Ms,useFactory:function(){return dS},deps:[]},{provide:lo,useFactory:function(){return hS},deps:[]},{provide:Rr,useFactory:function(e){return vd(e=e||"undefined"!=typeof $localize&&$localize.locale||Du),e},deps:[[new us(Rr),new Sn,new Jr]]},{provide:jE,useValue:"USD"}];let DF=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(se(Us))},e.\u0275mod=Ko({type:e}),e.\u0275inj=$r({providers:CF}),e})(),Xu=null;function Ks(){return Xu}const Ct=new ye("DocumentToken");var Ge=(()=>((Ge=Ge||{})[Ge.Zero=0]="Zero",Ge[Ge.One=1]="One",Ge[Ge.Two=2]="Two",Ge[Ge.Few=3]="Few",Ge[Ge.Many=4]="Many",Ge[Ge.Other=5]="Other",Ge))();const PL=function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Xv(t);if(n)return n;const r=t.split("-")[0];if(n=Xv(r),n)return n;if("en"===r)return UA;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[O.PluralCase]};class al{}let sk=(()=>{class e extends al{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(PL(r||this.locale)(n)){case Ge.Zero:return"zero";case Ge.One:return"one";case Ge.Two:return"two";case Ge.Few:return"few";case Ge.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(se(Rr))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),Bk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ko({type:e}),e.\u0275inj=$r({providers:[{provide:al,useClass:sk}]}),e})();class Lh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(e){Xu||(Xu=e)}(new Lh)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=(Ys=Ys||document.querySelector("base"),Ys?Ys.getAttribute("href"):null);return null==n?null:function(e){ul=ul||document.createElement("a"),ul.setAttribute("href",e);const t=ul.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let ul,Ys=null;const HC=new ye("TRANSITION_ID"),Yk=[{provide:ju,useFactory:function(e,t,n){return()=>{n.get(mo).donePromise.then(()=>{const r=Ks(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[HC,Ct,ge],multi:!0}];class kh{static init(){!function(e){uh=e}(new kh)}addToWindow(t){de.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},de.getAllAngularTestabilities=()=>t.getAllTestabilities(),de.getAllAngularRootElements=()=>t.getAllRootElements(),de.frameworkStabilizers||(de.frameworkStabilizers=[]),de.frameworkStabilizers.push(r=>{const i=de.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?Ks().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let Xk=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const Xs=new ye("EventManagerPlugins");let cl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(se(Xs),se(nt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();class Vh{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Ks().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let GC=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),Qs=(()=>{class e extends GC{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach($C),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach($C))}}return e.\u0275fac=function(n){return new(n||e)(se(Ct))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();function $C(e){Ks().remove(e)}const jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bh=/%COMP%/g;function fl(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?fl(e,i,n):(i=i.replace(Bh,e),n.push(i))}return n}function KC(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Hh=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Uh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case We.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new d2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case We.ShadowDom:return new h2(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=fl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(se(cl),se(Qs),se(Hs))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();class Uh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,n){return n?document.createElementNS(jh[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=jh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=jh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Vt.DashCase|Vt.Important)?t.style.setProperty(n,r,i&Vt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,KC(r)):this.eventManager.addEventListener(t,n,KC(r))}}class d2 extends Uh{constructor(t,n,r,i){super(t),this.component=r;const o=fl(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function(e){return"_ngcontent-%COMP%".replace(Bh,e)}(i+"-"+r.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Bh,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class h2 extends Uh{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=fl(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let p2=(()=>{class e extends Vh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(se(Ct))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const YC=["alt","control","meta","shift"],C2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},w2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let D2=(()=>{class e extends Vh{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ks().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="";if(YC.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&XC.hasOwnProperty(t)&&(t=XC[t]))}return C2[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),YC.forEach(o=>{o!=i&&w2[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{e.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return e.\u0275fac=function(n){return new(n||e)(se(Ct))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const P2=qE(_F,"browser",[{provide:th,useValue:"browser"},{provide:VE,useValue:function(){Lh.makeCurrent(),kh.init()},multi:!0},{provide:Ct,useFactory:function(){return function(e){Vc=e}(document),document},deps:[]}]),S2=[[],{provide:ys,useValue:"root"},{provide:ti,useFactory:function(){return new ti},deps:[]},{provide:Xs,useClass:p2,multi:!0,deps:[Ct,nt,th]},{provide:Xs,useClass:D2,multi:!0,deps:[Ct]},[],{provide:Hh,useClass:Hh,deps:[cl,Qs,Hs]},{provide:Ru,useExisting:Hh},{provide:GC,useExisting:Qs},{provide:Qs,useClass:Qs,deps:[Ct]},{provide:ah,useClass:ah,deps:[nt]},{provide:cl,useClass:cl,deps:[Xs,nt]},{provide:class{},useClass:Xk,deps:[]},[]];let O2=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:Hs,useValue:n.appId},{provide:HC,useExisting:Hs},Yk]}}}return e.\u0275fac=function(n){return new(n||e)(se(e,12))},e.\u0275mod=Ko({type:e}),e.\u0275inj=$r({providers:S2,imports:[Bk,DF]}),e})();function H2(e){return e}function U2(e){return"translate("+e+",0)"}function G2(e){return"translate(0,"+e+")"}function $2(e){return t=>+e(t)}function z2(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function W2(){return!this.__axis}function pl(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,u="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===e||4===e?-1:1,c=4===e||2===e?"x":"y",f=1===e||3===e?U2:G2;function d(h){var p=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,_=null==i?t.tickFormat?t.tickFormat.apply(t,n):H2:i,g=Math.max(o,0)+a,m=t.range(),y=+m[0]+u,v=+m[m.length-1]+u,E=(t.bandwidth?z2:$2)(t.copy(),u),w=h.selection?h.selection():h,x=w.selectAll(".domain").data([null]),R=w.selectAll(".tick").data(p,t).order(),A=R.exit(),k=R.enter().append("g").attr("class","tick"),F=R.select("line"),M=R.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(k),F=F.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),M=M.merge(k.append("text").attr("fill","currentColor").attr(c,l*g).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==w&&(x=x.transition(h),R=R.transition(h),F=F.transition(h),M=M.transition(h),A=A.transition(h).attr("opacity",1e-6).attr("transform",function(B){return isFinite(B=E(B))?f(B+u):this.getAttribute("transform")}),k.attr("opacity",1e-6).attr("transform",function(B){var V=this.parentNode.__axis;return f((V&&isFinite(V=V(B))?V:E(B))+u)})),A.remove(),x.attr("d",4===e||2===e?s?"M"+l*s+","+y+"H"+u+"V"+v+"H"+l*s:"M"+u+","+y+"V"+v:s?"M"+y+","+l*s+"V"+u+"H"+v+"V"+l*s:"M"+y+","+u+"H"+v),R.attr("opacity",1).attr("transform",function(B){return f(E(B)+u)}),F.attr(c+"2",l*o),M.attr(c,l*g).text(_),w.filter(W2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),w.each(function(){this.__axis=E})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=null==h?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=null==h?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=s=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(s=+h,d):s},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d.offset=function(h){return arguments.length?(u=+h,d):u},d}function Z2(){}function qh(e){return null==e?Z2:function(){return this.querySelector(e)}}function X2(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function Q2(){return[]}function ew(e){return null==e?Q2:function(){return this.querySelectorAll(e)}}function tw(e){return function(){return this.matches(e)}}function nw(e){return function(t){return t.matches(e)}}"undefined"!=typeof window&&window;var tV=Array.prototype.find;function rV(){return this.firstElementChild}var oV=Array.prototype.filter;function sV(){return Array.from(this.children)}function rw(e){return new Array(e.length)}function gl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function fV(e){return function(){return e}}function dV(e,t,n,r,i,o){for(var a,s=0,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new gl(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function hV(e,t,n,r,i,o,s){var a,u,h,l=new Map,c=t.length,f=o.length,d=new Array(c);for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=s.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=s.call(e,o[a],a,o)+"",(u=l.get(h))?(r[a]=u,u.__data__=o[a],l.delete(h)):n[a]=new gl(e,o[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function pV(e){return e.__data__}function _V(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function wV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}gl.prototype={constructor:gl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Zh="http://www.w3.org/1999/xhtml";const iw={svg:"http://www.w3.org/2000/svg",xhtml:Zh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _l(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),iw.hasOwnProperty(t)?{space:iw[t],local:e}:e}function RV(e){return function(){this.removeAttribute(e)}}function AV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function PV(e,t){return function(){this.setAttribute(e,t)}}function SV(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function OV(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function NV(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ow(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function LV(e){return function(){this.style.removeProperty(e)}}function kV(e,t,n){return function(){this.style.setProperty(e,t,n)}}function VV(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Eo(e,t){return e.style.getPropertyValue(t)||ow(e).getComputedStyle(e,null).getPropertyValue(t)}function BV(e){return function(){delete this[e]}}function HV(e,t){return function(){this[e]=t}}function UV(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function sw(e){return e.trim().split(/^|\s+/)}function Yh(e){return e.classList||new aw(e)}function aw(e){this._node=e,this._names=sw(e.getAttribute("class")||"")}function uw(e,t){for(var n=Yh(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function lw(e,t){for(var n=Yh(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function $V(e){return function(){uw(this,e)}}function zV(e){return function(){lw(this,e)}}function WV(e,t){return function(){(t.apply(this,arguments)?uw:lw)(this,e)}}function qV(){this.textContent=""}function ZV(e){return function(){this.textContent=e}}function YV(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function QV(){this.innerHTML=""}function JV(e){return function(){this.innerHTML=e}}function ej(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function nj(){this.nextSibling&&this.parentNode.appendChild(this)}function ij(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sj(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Zh&&t.documentElement.namespaceURI===Zh?t.createElement(e):t.createElementNS(n,e)}}function aj(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function cw(e){var t=_l(e);return(t.local?aj:sj)(t)}function lj(){return null}function fj(){var e=this.parentNode;e&&e.removeChild(this)}function hj(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pj(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yj(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function vj(e){return function(){var t=this.__on;if(t){for(var o,n=0,r=-1,i=t.length;n<i;++n)o=t[n],e.type&&o.type!==e.type||o.name!==e.name?t[++r]=o:this.removeEventListener(o.type,o.listener,o.options);++r?t.length=r:delete this.__on}}}function Ej(e,t,n){return function(){var i,r=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=t);this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function fw(e,t,n){var r=ow(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function wj(e,t){return function(){return fw(this,e,t)}}function Dj(e,t){return function(){return fw(this,e,t.apply(this,arguments))}}aw.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var dw=[null];function Bt(e,t){this._groups=e,this._parents=t}function hw(){return new Bt([[document.documentElement]],dw)}Bt.prototype=hw.prototype={constructor:Bt,select:function(e){"function"!=typeof e&&(e=qh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,l,o=t[i],s=o.length,a=r[i]=new Array(s),c=0;c<s;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Bt(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return X2(e.apply(this,arguments))}}(e):ew(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var u,s=t[o],a=s.length,l=0;l<a;++l)(u=s[l])&&(r.push(e.call(u,u.__data__,l,s)),i.push(u));return new Bt(r,i)},selectChild:function(e){return this.select(null==e?rV:function(e){return function(){return tV.call(this.children,e)}}("function"==typeof e?e:nw(e)))},selectChildren:function(e){return this.selectAll(null==e?sV:function(e){return function(){return oV.call(this.children,e)}}("function"==typeof e?e:nw(e)))},filter:function(e){"function"!=typeof e&&(e=tw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,o=t[i],s=o.length,a=r[i]=[],l=0;l<s;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&a.push(u);return new Bt(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,pV);var n=t?hV:dV,r=this._parents,i=this._groups;"function"!=typeof e&&(e=fV(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],d=f.length,h=_V(e.call(c,c&&c.__data__,l,r)),p=h.length,_=a[l]=new Array(p),g=s[l]=new Array(p),m=u[l]=new Array(d);n(c,f,_,g,m,h,t);for(var E,w,y=0,v=0;y<p;++y)if(E=_[y]){for(y>=v&&(v=y+1);!(w=g[v])&&++v<p;);E._next=w||null}}return(s=new Bt(s,r))._enter=a,s._exit=u,s},enter:function(){return new Bt(this._enter||this._groups.map(rw),this._parents)},exit:function(){return new Bt(this._exit||this._groups.map(rw),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=Math.min(i,r.length),a=new Array(i),u=0;u<s;++u)for(var h,l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new Bt(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s,r=e[t],i=r.length-1,o=r[i];--i>=0;)(s=r[i])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function(e){function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}e||(e=wV);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l,s=n[o],a=s.length,u=i[o]=new Array(a),c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(t)}return new Bt(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],o=0,s=i.length;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this},attr:function(e,t){var n=_l(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?AV:RV:"function"==typeof t?n.local?NV:OV:n.local?SV:PV)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?LV:"function"==typeof t?VV:kV)(e,t,null==n?"":n)):Eo(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?BV:"function"==typeof t?UV:HV)(e,t)):this.node()[e]},classed:function(e,t){var n=sw(e+"");if(arguments.length<2){for(var r=Yh(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?WV:t?$V:zV)(n,t))},text:function(e){return arguments.length?this.each(null==e?qV:("function"==typeof e?YV:ZV)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?QV:("function"==typeof e?ej:JV)(e)):this.node().innerHTML},raise:function(){return this.each(nj)},lower:function(){return this.each(ij)},append:function(e){var t="function"==typeof e?e:cw(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:cw(e),r=null==t?lj:"function"==typeof t?t:qh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(fj)},clone:function(e){return this.select(e?pj:hj)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,s,r=yj(e+""),o=r.length;if(!(arguments.length<2)){for(a=t?Ej:vj,i=0;i<o;++i)this.each(a(r[i],t,n));return this}var a=this.node().__on;if(a)for(var c,u=0,l=a.length;u<l;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?Dj:wj)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s,r=e[t],i=0,o=r.length;i<o;++i)(s=r[i])&&(yield s)}};const ea=hw;var xj={value:()=>{}};function pw(){for(var r,e=0,t=arguments.length,n={};e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ml(n)}function ml(e){this._=e}function Mj(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function Rj(e,t){for(var i,n=0,r=e.length;n<r;++n)if((i=e[n]).name===t)return i.value}function gw(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=xj,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}ml.prototype=pw.prototype={constructor:ml,on:function(e,t){var i,n=this._,r=Mj(e+"",n),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=gw(n[i],e.name,t);else if(null==t)for(i in n)n[i]=gw(n[i],e.name,null);return this}for(;++o<s;)if((i=(e=r[o]).type)&&(i=Rj(n[i],e.name)))return i},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ml(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,o,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(o=this._[e]).length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const Aj=pw;var yl,ra,Co=0,ta=0,na=0,vl=0,fi=0,El=0,ia="object"==typeof performance&&performance.now?performance:Date,mw="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xh(){return fi||(mw(Pj),fi=ia.now()+El)}function Pj(){fi=0}function Cl(){this._call=this._time=this._next=null}function yw(e,t,n){var r=new Cl;return r.restart(e,t,n),r}function vw(){fi=(vl=ia.now())+El,Co=ta=0;try{!function(){Xh(),++Co;for(var t,e=yl;e;)(t=fi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Co}()}finally{Co=0,function(){for(var e,n,t=yl,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:yl=n);ra=e,Qh(r)}(),fi=0}}function Oj(){var e=ia.now(),t=e-vl;t>1e3&&(El-=t,vl=e)}function Qh(e){Co||(ta&&(ta=clearTimeout(ta)),e-fi>24?(e<1/0&&(ta=setTimeout(vw,e-ia.now()-El)),na&&(na=clearInterval(na))):(na||(vl=ia.now(),na=setInterval(Oj,1e3)),Co=1,mw(vw)))}function Ew(e,t,n){var r=new Cl;return r.restart(i=>{r.stop(),e(i+t)},t=null==t?0:+t,n),r}Cl.prototype=yw.prototype={constructor:Cl,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Xh():+n)+(null==t?0:+t),!this._next&&ra!==this&&(ra?ra._next=this:yl=this,ra=this),this._call=e,this._time=n,Qh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qh())}};var Fj=Aj("start","end","cancel","interrupt"),Lj=[];function bl(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function s(l){var c,f,d,h;if(1!==n.state)return u();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return Ew(s);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Ew(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=5,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var l in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=yw(function(l){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:Fj,tween:Lj,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function tp(e,t){var n=wn(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Un(e,t){var n=wn(e,t);if(n.state>3)throw new Error("too late; already running");return n}function wn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Dn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Il,bw=180/Math.PI,np={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Iw(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*bw,skewX:Math.atan(u)*bw,scaleX:s,scaleY:a}}function Tw(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),function(l,c,f,d,h,p){if(l!==f||c!==d){var _=h.push("translate(",null,t,null,n);p.push({i:_-4,x:Dn(l,f)},{i:_-2,x:Dn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}(l.translateX,l.translateY,c.translateX,c.translateY,f,d),function(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Dn(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}(l.rotate,c.rotate,f,d),function(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Dn(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}(l.skewX,c.skewX,f,d),function(l,c,f,d,h,p){if(l!==f||c!==d){var _=h.push(i(h)+"scale(",null,",",null,")");p.push({i:_-4,x:Dn(l,f)},{i:_-2,x:Dn(c,d)})}else(1!==f||1!==d)&&h.push(i(h)+"scale("+f+","+d+")")}(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var g,p=-1,_=d.length;++p<_;)f[(g=d[p]).i]=g.x(h);return f.join("")}}}var Uj=Tw(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?np:Iw(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Gj=Tw(function(e){return null!=e&&(Il||(Il=document.createElementNS("http://www.w3.org/2000/svg","g")),Il.setAttribute("transform",e),e=Il.transform.baseVal.consolidate())?Iw((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):np},", ",")",")");function $j(e,t){var n,r;return function(){var i=Un(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function zj(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Un(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function rp(e,t,n){var r=e._id;return e.each(function(){var i=Un(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return wn(i,r).value[t]}}function ip(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xw(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function oa(){}var Tl=1/.7,wo="\\s*([+-]?\\d+)\\s*",aa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kj=/^#([0-9a-f]{3,8})$/,qj=new RegExp("^rgb\\("+[wo,wo,wo]+"\\)$"),Zj=new RegExp("^rgb\\("+[Gn,Gn,Gn]+"\\)$"),Yj=new RegExp("^rgba\\("+[wo,wo,wo,aa]+"\\)$"),Xj=new RegExp("^rgba\\("+[Gn,Gn,Gn,aa]+"\\)$"),Qj=new RegExp("^hsl\\("+[aa,Gn,Gn]+"\\)$"),Jj=new RegExp("^hsla\\("+[aa,Gn,Gn,aa]+"\\)$"),Mw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Rw(){return this.rgb().formatHex()}function Aw(){return this.rgb().formatRgb()}function di(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Kj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Pw(t):3===n?new Ht(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?xl(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?xl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=qj.exec(e))?new Ht(t[1],t[2],t[3],1):(t=Zj.exec(e))?new Ht(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Yj.exec(e))?xl(t[1],t[2],t[3],t[4]):(t=Xj.exec(e))?xl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Qj.exec(e))?Nw(t[1],t[2]/100,t[3]/100,1):(t=Jj.exec(e))?Nw(t[1],t[2]/100,t[3]/100,t[4]):Mw.hasOwnProperty(e)?Pw(Mw[e]):"transparent"===e?new Ht(NaN,NaN,NaN,0):null}function Pw(e){return new Ht(e>>16&255,e>>8&255,255&e,1)}function xl(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ht(e,t,n,r)}function t3(e){return e instanceof oa||(e=di(e)),e?new Ht((e=e.rgb()).r,e.g,e.b,e.opacity):new Ht}function Ml(e,t,n,r){return 1===arguments.length?t3(e):new Ht(e,t,n,null==r?1:r)}function Ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Sw(){return"#"+op(this.r)+op(this.g)+op(this.b)}function Ow(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function op(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Nw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $n(e,t,n,r)}function Fw(e){if(e instanceof $n)return new $n(e.h,e.s,e.l,e.opacity);if(e instanceof oa||(e=di(e)),!e)return new $n;if(e instanceof $n)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new $n(s,a,u,e.opacity)}function $n(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function sp(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Lw(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}ip(oa,di,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Rw,formatHex:Rw,formatHsl:function(){return Fw(this).formatHsl()},formatRgb:Aw,toString:Aw}),ip(Ht,Ml,xw(oa,{brighter:function(e){return e=null==e?Tl:Math.pow(Tl,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sw,formatHex:Sw,formatRgb:Ow,toString:Ow})),ip($n,function(e,t,n,r){return 1===arguments.length?Fw(e):new $n(e,t,n,null==r?1:r)},xw(oa,{brighter:function(e){return e=null==e?Tl:Math.pow(Tl,e),new $n(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new $n(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ht(sp(e>=240?e-240:e+120,i,r),sp(e,i,r),sp(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const ap=e=>()=>e;function Vw(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):ap(isNaN(e)?t:e)}const Rl=function e(t){var n=function(e){return 1==(e=+e)?Vw:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ap(isNaN(t)?n:t)}}(t);function r(i,o){var s=n((i=Ml(i)).r,(o=Ml(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=Vw(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function jw(e){return function(t){var s,a,n=t.length,r=new Array(n),i=new Array(n),o=new Array(n);for(s=0;s<n;++s)a=Ml(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=o(u),a+""}}}jw(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1];return Lw((n-r/t)*t,r>0?e[r-1]:2*i-o,i,o,r<t-1?e[r+2]:2*o-i)}}),jw(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t);return Lw((n-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}});var up=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lp=new RegExp(up.source,"g");function Bw(e,t){var r,i,o,n=up.lastIndex=lp.lastIndex=0,s=-1,a=[],u=[];for(e+="",t+="";(r=up.exec(e))&&(i=lp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Dn(r,i)})),n=lp.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(l){for(var f,c=0;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function Hw(e,t){var n;return("number"==typeof t?Dn:t instanceof di?Rl:(n=di(t))?(t=n,Rl):Bw)(e,t)}function l3(e){return function(){this.removeAttribute(e)}}function c3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f3(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function d3(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function h3(e,t,n){var r,i,o;return function(){var s,u,a=n(this);return null==a?void this.removeAttribute(e):(s=this.getAttribute(e))===(u=a+"")?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function p3(e,t,n){var r,i,o;return function(){var s,u,a=n(this);return null==a?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local))===(u=a+"")?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function _3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function m3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function y3(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&m3(e,o)),n}return i._value=t,i}function v3(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&_3(e,o)),n}return i._value=t,i}function C3(e,t){return function(){tp(this,e).delay=+t.apply(this,arguments)}}function w3(e,t){return t=+t,function(){tp(this,e).delay=t}}function b3(e,t){return function(){Un(this,e).duration=+t.apply(this,arguments)}}function I3(e,t){return t=+t,function(){Un(this,e).duration=t}}function x3(e,t){if("function"!=typeof t)throw new Error;return function(){Un(this,e).ease=t}}function N3(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(t)?tp:Un;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}var B3=ea.prototype.constructor;function Uw(e){return function(){this.style.removeProperty(e)}}function K3(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function q3(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&K3(e,s,n)),r}return o._value=t,o}function J3(e){return function(t){this.textContent=e.call(this,t)}}function eB(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&J3(i)),t}return r._value=e,r}var iB=0;function or(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Gw(){return++iB}var sr=ea.prototype;or.prototype=function(e){return ea().transition(e)}.prototype={constructor:or,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=qh(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var c,f,a=r[s],u=a.length,l=o[s]=new Array(u),d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,bl(l[d],t,n,d,l,wn(c,n)));return new or(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=ew(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c,u=r[a],l=u.length,f=0;f<l;++f)if(c=u[f]){for(var h,d=e.call(c,c.__data__,f,u),p=wn(c,n),_=0,g=d.length;_<g;++_)(h=d[_])&&bl(h,t,n,_,d,p);o.push(d),s.push(c)}return new or(o,s,t,n)},selectChild:sr.selectChild,selectChildren:sr.selectChildren,filter:function(e){"function"!=typeof e&&(e=tw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,o=t[i],s=o.length,a=r[i]=[],l=0;l<s;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&a.push(u);return new or(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=Math.min(r,n.length),s=new Array(r),a=0;a<o;++a)for(var d,u=t[a],l=n[a],c=u.length,f=s[a]=new Array(c),h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new or(s,this._parents,this._name,this._id)},selection:function(){return new B3(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Gw(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,s=r[o],a=s.length,l=0;l<a;++l)if(u=s[l]){var c=wn(u,t);bl(u,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new or(r,this._parents,e,n)},call:sr.call,nodes:sr.nodes,node:sr.node,size:sr.size,empty:sr.empty,each:sr.each,on:function(e,t){var n=this._id;return arguments.length<2?wn(this.node(),n).on.on(e):this.each(N3(n,e,t))},attr:function(e,t){var n=_l(e),r="transform"===n?Gj:Hw;return this.attrTween(e,"function"==typeof t?(n.local?p3:h3)(n,r,rp(this,"attr."+e,t)):null==t?(n.local?c3:l3)(n):(n.local?d3:f3)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=_l(e);return this.tween(n,(r.local?y3:v3)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Uj:Hw;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Eo(this,e),s=(this.style.removeProperty(e),Eo(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,Uw(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var s=Eo(this,e),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(e),u=a=Eo(this,e)),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}(e,r,rp(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var u=Un(this,e),l=u.on,c=null==u.value[o]?a||(a=Uw(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var s=Eo(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,q3(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(rp(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,eB(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s,r=wn(this.node(),n).tween,i=0,o=r.length;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((null==t?$j:zj)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?C3:w3)(t,e)):wn(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?b3:I3)(t,e)):wn(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(x3(t,e)):wn(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Un(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){0==--i&&o()}};n.each(function(){var l=Un(this,r),c=l.on;c!==e&&((t=(e=c).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),0===i&&o()})},[Symbol.iterator]:sr[Symbol.iterator]};var aB={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function uB(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}ea.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var r,i,s,n=e.__transition,o=!0;if(n){for(s in t=null==t?null:t+"",n)(r=n[s]).name===t?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]):o=!1;o&&delete e.__transition}}(this,e)})},ea.prototype.transition=function(e){var t,n;e instanceof or?(t=e._id,e=e._name):(t=Gw(),(n=aB).time=Xh(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,s=r[o],a=s.length,l=0;l<a;++l)(u=s[l])&&bl(u,e,t,l,s,n||uB(u,t));return new or(r,this._parents,e,t)};Math;function ua(e){return{type:e}}function mB(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function pp(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}["w","e"].map(ua),["n","s"].map(ua),["n","w","e","s","nw","ne","sw","se"].map(ua);class Zw extends Map{constructor(t,n=Qw){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(gp(this,t))}has(t){return super.has(gp(this,t))}set(t,n){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,t),n)}delete(t){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}(this,t))}}function gp({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Qw(e){return null!==e&&"object"==typeof e?e.valueOf():e}Set;const Jw=Symbol("implicit");function eD(){var e=new Zw,t=[],n=[],r=Jw;function i(o){let s=e.get(o);if(void 0===s){if(r!==Jw)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Zw;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return eD(t,n).unknown(r)},pp.apply(i,arguments),i}function la(){var o,s,e=eD().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a=!1,u=0,l=0,c=.5;function f(){var d=t().length,h=i<r,p=h?i:r,_=h?r:i;o=(_-p)/Math.max(1,d-u+2*l),a&&(o=Math.floor(o)),p+=(_-p-o*(d-u))*c,s=o*(1-u),a&&(p=Math.round(p),s=Math.round(s));var g=mB(d).map(function(m){return p+o*m});return n(h?g.reverse():g)}return delete e.unknown,e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return la(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},pp.apply(f(),arguments)}var _p=Math.sqrt(50),mp=Math.sqrt(10),yp=Math.sqrt(2);function nD(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=_p?10:o>=mp?5:o>=yp?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=_p?10:o>=mp?5:o>=yp?2:1)}function vp(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rD(e){let t=e,n=e,r=e;function i(a,u,l=0,c=a.length){if(l<c){if(0!==n(u,u))return c;do{const f=l+c>>>1;r(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}return 1===e.length&&(t=(a,u)=>e(a)-u,n=vp,r=(a,u)=>vp(e(a),u)),{left:i,center:function(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&t(a[f-1],u)>-t(a[f],u)?f-1:f},right:function(a,u,l=0,c=a.length){if(l<c){if(0!==n(u,u))return c;do{const f=l+c>>>1;r(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}}}const CB=rD(vp).right,wB=(rD(function(e){return null===e?NaN:+e}),CB);function oD(e,t){var s,n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n);for(s=0;s<r;++s)i[s]=Ep(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function DB(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function bB(e,t){var i,n={},r={};for(i in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)i in e?n[i]=Ep(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}function IB(e,t){t||(t=[]);var i,n=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Ep(e,t){var r,n=typeof t;return null==t||"boolean"===n?ap(t):("number"===n?Dn:"string"===n?(r=di(t))?(t=r,Rl):Bw:t instanceof di?Rl:t instanceof Date?DB:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?IB:Array.isArray(t)?oD:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?bB:Dn)(e,t)}function xB(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RB(e){return+e}var sD=[0,1];function Io(e){return e}function Cp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function PB(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Cp(i,r),o=n(s,o)):(r=Cp(r,i),o=n(o,s)),function(a){return o(r(a))}}function SB(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Cp(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var u=wB(e,a,1,r)-1;return o[u](i[u](a))}}function OB(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function FB(){return function(){var r,i,o,a,u,l,e=sD,t=sD,n=Ep,s=Io;function c(){var d=Math.min(e.length,t.length);return s!==Io&&(s=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}(e[0],e[d-1])),a=d>2?SB:PB,u=l=null,f}function f(d){return null==d||isNaN(d=+d)?o:(u||(u=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((l||(l=a(t,e.map(r),Dn)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,RB),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=xB,c()},f.clamp=function(d){return arguments.length?(s=!!d||Io,c()):s!==Io},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}()(Io,Io)}var aD,LB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sl(e){if(!(t=LB.exec(e)))throw new Error("invalid format: "+e);var t;return new wp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function wp(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ol(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function To(e){return(e=Ol(Math.abs(e)))?e[1]:NaN}function uD(e,t){var n=Ol(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Sl.prototype=wp.prototype,wp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const lD={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uD(100*e,t),r:uD,s:function(e,t){var n=Ol(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(aD=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ol(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cD(e){return e}var Nl,hD,pD,fD=Array.prototype.map,dD=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function qB(e){var t=e.domain;return e.ticks=function(n){var r=t();return function(e,t,n){var r,o,s,a,i=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=nD(e,t,n))||!isFinite(a))return[];if(a>0){let u=Math.round(e/a),l=Math.round(t/a);for(u*a<e&&++u,l*a>t&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(e*a),l=Math.round(t*a);for(u/a<e&&++u,l/a>t&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)/a}return r&&s.reverse(),s}(r[0],r[r.length-1],null==n?10:n)},e.tickFormat=function(n,r){var i=t();return function(e,t,n,r){var o,i=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=_p?i*=10:o>=mp?i*=5:o>=yp&&(i*=2),t<e?-i:i}(e,t,n);switch((r=Sl(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null==r.precision&&!isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(To(t)/3)))-To(Math.abs(e)))}(i,s))&&(r.precision=o),pD(r,s);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,To(t)-To(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(o=function(e){return Math.max(0,-To(Math.abs(e)))}(i))&&(r.precision=o-2*("%"===r.type))}return hD(r)}(i[0],i[i.length-1],null==n?10:n,r)},e.nice=function(n){null==n&&(n=10);var u,l,r=t(),i=0,o=r.length-1,s=r[i],a=r[o],c=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);c-- >0;){if((l=nD(s,a,n))===u)return r[i]=s,r[o]=a,t(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else{if(!(l<0))break;s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l}u=l}return e},e}function gD(){var e=FB();return e.copy=function(){return OB(e,gD())},pp.apply(e,arguments),qB(e)}function xo(e,t,n){this.k=e,this.x=t,this.y=n}Nl=function(e){var t=void 0===e.grouping||void 0===e.thousands?cD:function(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}(fD.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?cD:function(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}(fD.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",a=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function l(f){var d=(f=Sl(f)).fill,h=f.align,p=f.sign,_=f.symbol,g=f.zero,m=f.width,y=f.comma,v=f.precision,E=f.trim,w=f.type;"n"===w?(y=!0,w="g"):lD[w]||(void 0===v&&(v=12),E=!0,w="g"),(g||"0"===d&&"="===h)&&(g=!0,d="0",h="=");var x="$"===_?n:"#"===_&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",R="$"===_?r:/[%p]/.test(w)?s:"",A=lD[w],k=/[defgprs%]/.test(w);function F(M){var C,b,D,B=x,V=R;if("c"===w)V=A(M)+V,M="";else{var T=(M=+M)<0||1/M<0;if(M=isNaN(M)?u:A(Math.abs(M),v),E&&(M=function(e){e:for(var i,t=e.length,n=1,r=-1;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(i+1):e}(M)),T&&0==+M&&"+"!==p&&(T=!1),B=(T?"("===p?p:a:"-"===p||"("===p?"":p)+B,V=("s"===w?dD[8+aD/3]:"")+V+(T&&"("===p?")":""),k)for(C=-1,b=M.length;++C<b;)if(48>(D=M.charCodeAt(C))||D>57){V=(46===D?i+M.slice(C+1):M.slice(C))+V,M=M.slice(0,C);break}}y&&!g&&(M=t(M,1/0));var N=B.length+M.length+V.length,S=N<m?new Array(m-N+1).join(d):"";switch(y&&g&&(M=t(S+M,S.length?m-V.length:1/0),S=""),h){case"<":M=B+M+V+S;break;case"=":M=B+S+M+V;break;case"^":M=S.slice(0,N=S.length>>1)+B+M+V+S.slice(N);break;default:M=S+B+M+V}return o(M)}return v=void 0===v?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),F.toString=function(){return f+""},F}return{format:l,formatPrefix:function(f,d){var h=l(((f=Sl(f)).type="f",f)),p=3*Math.max(-8,Math.min(8,Math.floor(To(d)/3))),_=Math.pow(10,-p),g=dD[8+p/3];return function(m){return h(_*m)+g}}}}({thousands:",",grouping:[3],currency:["$",""]}),hD=Nl.format,pD=Nl.formatPrefix,xo.prototype={constructor:xo,scale:function(e){return 1===e?this:new xo(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new xo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new xo(1,0,0);let mD=(()=>{class e{constructor(){this.seasonList=[{season:"Winter"},{season:"Spring/Fall"},{season:"Summer"}]}ngAfterViewInit(){let n=document.querySelector("svg");this.width=null==n?void 0:n.clientWidth,this.height=null==n?void 0:n.clientHeight,this.margin={top:20,right:20,bottom:20,left:100},this.svg=function(e){return new Bt([[document.querySelector(e)]],[document.documentElement])}("svg").append("g").attr("transform","translate("+this.margin.left+",0)").style("font-size","1.5em");var r=la().domain(this.seasonList.map(function(i){return i.season})).rangeRound([this.margin.top,this.height-this.margin.bottom]).padding(.05);this.svg.selectAll(".barBackground").data(this.seasonList).enter().append("rect").attr("class","barBackground").attr("x",19).attr("y",function(i){return r(i.season)}).attr("width",this.width/3+2).attr("height",52).attr("fill","white").attr("stroke","black").attr("stroke-width","1px").attr("transform","translate(0,-1)")}updateValues(n){this.redrawPlot(n)}redrawPlot(n){this.svg.selectAll(".bar").remove(),this.svg.selectAll(".right_axis").remove();var r=gD().domain([0,100]).range([0,this.width/3]),i=la().domain(n.map(function(c){return c.season})).rangeRound([this.margin.top,this.height-this.margin.bottom]).padding(.05),o=la().domain(n.map(function(c){return c.value.toFixed(0)+"min ("+c.percent.toFixed(0)+"%)"})).rangeRound([this.margin.top,this.height-this.margin.bottom]).padding(.05);this.svg.call(function(e){return pl(4,e)}(i).tickSize(0).tickSizeOuter(0));let a=this.width/3+40;this.svg.selectAll(".bar").data(n).enter().append("rect").attr("class","bar").attr("x",20).attr("y",function(c){return i(c.season)}).attr("width",function(c){return r(c.percent)}).attr("height",50).attr("fill",function(c){return function(c){switch(c){case"Winter":return"#ccda46";case"Summer":return"#90303d";default:return"#ed8240"}}(c.season)}),this.svg.append("g").attr("class","right_axis").attr("transform","translate("+a+",0)").style("font-size","1em").call(function(e){return pl(2,e)}(o).tickSize(0).tickSizeOuter(0));let u=document.querySelector("path");null==u||u.setAttribute("style","opacity:0");let l=document.querySelector("g.right_axis path.domain");null==l||l.setAttribute("style","opacity:0")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Wo({type:e,selectors:[["app-chart"]],decls:1,vars:0,consts:[["id","chart"]],template:function(n,r){1&n&&(q.lFrame.currentNamespace=Yg,Cu(0,"svg",0))},styles:["#chart[_ngcontent-%COMP%]{position:absolute;left:75%;top:5%;bottom:0;width:22%;height:20%;background-color:beige;opacity:90%;border:solid 1px burlywood;border-radius:15px;z-index:1000}.axis[_ngcontent-%COMP%] > .tick[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-opacity:0}.barBackground[_ngcontent-%COMP%]{margin-top:-2px!important}.right_axis[_ngcontent-%COMP%]{opacity:0!important}"]}),e})();const Fl=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();function Ll(e,t){return e>t?1:e<t?-1:0}function kl(e,t,n){var r=e.length;if(e[0]<=t)return 0;if(t<=e[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(e[i]<t)return i-1}else if(n<0){for(i=1;i<r;++i)if(e[i]<=t)return i}else for(i=1;i<r;++i){if(e[i]==t)return i;if(e[i]<t)return e[i-1]-t<t-e[i]?i-1:i}return r-1}function yD(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ca(){return!0}function Vl(){return!1}function jl(){}function ve(){return function(){throw new Error("Unimplemented abstract method.")}()}var aH=0;function xt(e){return e.ol_uid||(e.ol_uid=String(++aH))}var uH=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const vD=function(e){function t(n){var r=this,o="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+n+" for details.";return(r=e.call(this,o)||this).code=n,r.name="AssertionError",r.message=o,r}return uH(t,e),t}(Error);function Ee(e,t){if(!e)throw new vD(t)}function rt(e,t){var n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function Sr(e,t,n,r,i,o,s,a){var u=Math.sin(o),l=Math.cos(o);return e[0]=r*l,e[1]=i*u,e[2]=-r*u,e[3]=i*l,e[4]=s*r*l-a*r*u+t,e[5]=s*i*u+a*i*l+n,e}function Bl(e,t){var n=function(e){return e[0]*e[3]-e[1]*e[2]}(t);Ee(0!==n,32);var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5];return e[0]=s/n,e[1]=-i/n,e[2]=-o/n,e[3]=r/n,e[4]=(o*u-s*a)/n,e[5]=-(r*u-i*a)/n,e}function Tp(e){return"matrix("+e.join(", ")+")"}new Array(6);function ED(e){for(var t=[1/0,1/0,-1/0,-1/0],n=0,r=e.length;n<r;++n)ha(t,e[n]);return t}function CD(e,t,n){var r,i;return(r=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*r+(i=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0)*i}function xp(e,t){return DD(e,t[0],t[1])}function wD(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function DD(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function bD(e,t){var s=t[0],a=t[1],u=0;return s<e[0]?u|=16:s>e[2]&&(u|=4),a<e[1]?u|=8:a>e[3]&&(u|=2),0===u&&(u=1),u}function pi(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function Mo(e){return pi(1/0,1/0,-1/0,-1/0,e)}function Ro(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function ha(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function TD(e,t,n,r,i){for(;n<r;n+=i)yH(e,t[n],t[n+1]);return e}function yH(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function xD(e,t){var n;return!!((n=t(Ao(e)))||(n=t(pa(e)),n)||(n=t(Po(e)),n)||(n=t(Fr(e)),n))&&n}function Hl(e){var t=0;return Gl(e)||(t=Le(e)*Mt(e)),t}function Ao(e){return[e[0],e[1]]}function pa(e){return[e[2],e[1]]}function Or(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function vH(e,t){var n;return"bottom-left"===t?n=Ao(e):"bottom-right"===t?n=pa(e):"top-left"===t?n=Fr(e):"top-right"===t?n=Po(e):Ee(!1,13),n}function MD(e,t,n,r,i){var o=t*r[0]/2,s=t*r[1]/2,a=Math.cos(n),u=Math.sin(n),l=o*a,c=o*u,f=s*a,d=s*u,h=e[0],p=e[1],_=h-l+d,g=h-l-d,m=h+l-d,y=h+l+d,v=p-c-f,E=p-c+f,w=p+c+f,x=p+c-f;return pi(Math.min(_,g,m,y),Math.min(v,E,w,x),Math.max(_,g,m,y),Math.max(v,E,w,x),i)}function Mt(e){return e[3]-e[1]}function Nr(e,t,n){var r=n||[1/0,1/0,-1/0,-1/0];return Ul(e,t)?(r[0]=e[0]>t[0]?e[0]:t[0],r[1]=e[1]>t[1]?e[1]:t[1],r[2]=e[2]<t[2]?e[2]:t[2],r[3]=e[3]<t[3]?e[3]:t[3]):Mo(r),r}function Fr(e){return[e[0],e[3]]}function Po(e){return[e[2],e[3]]}function Le(e){return e[2]-e[0]}function Ul(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Gl(e){return e[2]<e[0]||e[3]<e[1]}function et(e,t,n){return Math.min(Math.max(e,t),n)}var bH="cosh"in Math?Math.cosh:function(t){var n=Math.exp(t);return(n+1/n)/2},IH="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function TH(e,t,n,r,i,o){var s=i-n,a=o-r;if(0!==s||0!==a){var u=((e-n)*s+(t-r)*a)/(s*s+a*a);u>1?(n=i,r=o):u>0&&(n+=s*u,r+=a*u)}return So(e,t,n,r)}function So(e,t,n,r){var i=n-e,o=r-t;return i*i+o*o}function $l(e){return e*Math.PI/180}function Oo(e,t){var n=e%t;return n*t<0?n+t:n}function MH(e,t,n){return e+n*(t-e)}function OD(e,t,n){var r=n?function(e){return"string"==typeof e?e:function(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var n=e[1];n!=(0|n)&&(n=n+.5|0);var r=e[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+t+","+n+","+r+","+(void 0===e[3]?1:e[3])+")"}(e)}(n):"null";return t+":"+e+":"+r}var ND=new(function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var n in this.cache_)0==(3&t++)&&!this.cache_[n].hasListener()&&(delete this.cache_[n],--this.cacheSize_)}},e.prototype.get=function(t,n,r){var i=OD(t,n,r);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(t,n,r,i){var o=OD(t,n,r);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e}());const lr=function(){function e(t){this.type=t,this.target=null}return e.prototype.preventDefault=function(){this.propagationStopped=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();var tt="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function ga(e){for(var t in e)delete e[t]}var FH="function"==typeof Object.values?Object.values:function(e){var t=[];for(var n in e)t.push(e[n]);return t},kH=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const _a=function(e){function t(n){var r=e.call(this)||this;return r.eventTarget_=n,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return kH(t,e),t.prototype.addEventListener=function(n,r){if(n&&r){var i=this.listeners_||(this.listeners_={}),o=i[n]||(i[n]=[]);-1===o.indexOf(r)&&o.push(r)}},t.prototype.dispatchEvent=function(n){var r="string"==typeof n?new lr(n):n,i=r.type;r.target||(r.target=this.eventTarget_||this);var s,o=this.listeners_&&this.listeners_[i];if(o){var a=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,u[i]=0),++a[i];for(var l=0,c=o.length;l<c;++l)if(!1===(s="handleEvent"in o[l]?o[l].handleEvent(r):o[l].call(this,r))||r.propagationStopped){s=!1;break}if(--a[i],0===a[i]){var f=u[i];for(delete u[i];f--;)this.removeEventListener(i,jl);delete a[i]}return s}},t.prototype.disposeInternal=function(){this.listeners_&&ga(this.listeners_)},t.prototype.getListeners=function(n){return this.listeners_&&this.listeners_[n]||void 0},t.prototype.hasListener=function(n){return!!this.listeners_&&(n?n in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(n,r){var i=this.listeners_&&this.listeners_[n];if(i){var o=i.indexOf(r);-1!==o&&(this.pendingRemovals_&&n in this.pendingRemovals_?(i[o]=jl,++this.pendingRemovals_[n]):(i.splice(o,1),0===i.length&&delete this.listeners_[n]))}},t}(Fl);function Ce(e,t,n,r,i){if(r&&r!==e&&(n=n.bind(r)),i){var o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}var s={target:e,type:t,listener:n};return e.addEventListener(t,n),s}function zl(e,t,n,r){return Ce(e,t,n,r,!0)}function ke(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),ga(e))}var jH=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const FD=function(e){function t(){var n=e.call(this)||this;return n.revision_=0,n}return jH(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},t.prototype.getRevision=function(){return this.revision_},t.prototype.on=function(n,r){if(Array.isArray(n)){for(var i=n.length,o=new Array(i),s=0;s<i;++s)o[s]=Ce(this,n[s],r);return o}return Ce(this,n,r)},t.prototype.once=function(n,r){var i;if(Array.isArray(n)){var o=n.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=zl(this,n[s],r)}else i=zl(this,n,r);return r.ol_key=i,i},t.prototype.un=function(n,r){var i=r.ol_key;if(i)!function(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)ke(e[t]);else ke(e)}(i);else if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)this.removeEventListener(n[o],r);else this.removeEventListener(n,r)},t}(_a);var LD=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kD=function(e){function t(n,r,i){var o=e.call(this,n)||this;return o.key=r,o.oldValue=i,o}return LD(t,e),t}(lr),UH=function(e){function t(n){var r=e.call(this)||this;return xt(r),r.values_=null,void 0!==n&&r.setProperties(n),r}return LD(t,e),t.prototype.get=function(n){var r;return this.values_&&this.values_.hasOwnProperty(n)&&(r=this.values_[n]),r},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&tt({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(n,r){var i;i=gi(n),this.dispatchEvent(new kD(i,n,r)),this.dispatchEvent(new kD(i="propertychange",n,r))},t.prototype.set=function(n,r,i){var o=this.values_||(this.values_={});if(i)o[n]=r;else{var s=o[n];o[n]=r,s!==r&&this.notify(n,s)}},t.prototype.setProperties=function(n,r){for(var i in n)this.set(i,n[i],r)},t.prototype.applyProperties=function(n){!n.values_||tt(this.values_||(this.values_={}),n.values_)},t.prototype.unset=function(n,r){if(this.values_&&n in this.values_){var i=this.values_[n];delete this.values_[n],function(e){var t;for(t in e)return!1;return!t}(this.values_)&&(this.values_=null),r||this.notify(n,i)}},t}(FD),Mp={};function gi(e){return Mp.hasOwnProperty(e)?Mp[e]:Mp[e]="change:"+e}const cr=UH;var GH=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const VD=function(e){function t(n){var r=e.call(this)||this,i=tt({},n);return i.opacity=void 0!==n.opacity?n.opacity:1,Ee("number"==typeof i.opacity,64),i.visible=void 0===n.visible||n.visible,i.zIndex=n.zIndex,i.maxResolution=void 0!==n.maxResolution?n.maxResolution:1/0,i.minResolution=void 0!==n.minResolution?n.minResolution:0,i.minZoom=void 0!==n.minZoom?n.minZoom:-1/0,i.maxZoom=void 0!==n.maxZoom?n.maxZoom:1/0,r.className_=void 0!==i.className?n.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return GH(t,e),t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(n){var r=this.state_||{layer:this,managed:void 0===n||n},i=this.getZIndex();return r.opacity=et(Math.round(100*this.getOpacity())/100,0,1),r.sourceState=this.getSourceState(),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=void 0!==i?i:!1===r.managed?1/0:0,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},t.prototype.getLayersArray=function(n){return ve()},t.prototype.getLayerStatesArray=function(n){return ve()},t.prototype.getExtent=function(){return this.get("extent")},t.prototype.getMaxResolution=function(){return this.get("maxResolution")},t.prototype.getMinResolution=function(){return this.get("minResolution")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.getOpacity=function(){return this.get("opacity")},t.prototype.getSourceState=function(){return ve()},t.prototype.getVisible=function(){return this.get("visible")},t.prototype.getZIndex=function(){return this.get("zIndex")},t.prototype.setExtent=function(n){this.set("extent",n)},t.prototype.setMaxResolution=function(n){this.set("maxResolution",n)},t.prototype.setMinResolution=function(n){this.set("minResolution",n)},t.prototype.setMaxZoom=function(n){this.set("maxZoom",n)},t.prototype.setMinZoom=function(n){this.set("minZoom",n)},t.prototype.setOpacity=function(n){Ee("number"==typeof n,64),this.set("opacity",n)},t.prototype.setVisible=function(n){this.set("visible",n)},t.prototype.setZIndex=function(n){this.set("zIndex",n)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(cr);var zH=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Wl(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}const jD=function(e){function t(n){var r=this,i=tt({},n);return delete i.source,(r=e.call(this,i)||this).mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,n.render&&(r.render=n.render),n.map&&r.setMap(n.map),r.addEventListener(gi("source"),r.handleSourcePropertyChange_),r.setSource(n.source?n.source:null),r}return zH(t,e),t.prototype.getLayersArray=function(n){var r=n||[];return r.push(this),r},t.prototype.getLayerStatesArray=function(n){var r=n||[];return r.push(this.getLayerState()),r},t.prototype.getSource=function(){return this.get("source")||null},t.prototype.getSourceState=function(){var n=this.getSource();return n?n.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ke(this.sourceChangeKey_),this.sourceChangeKey_=null);var n=this.getSource();n&&(this.sourceChangeKey_=Ce(n,"change",this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(n){return this.renderer_.getFeatures(n)},t.prototype.render=function(n,r){var i=this.getRenderer();if(i.prepareFrame(n))return i.renderFrame(n,r)},t.prototype.setMap=function(n){this.mapPrecomposeKey_&&(ke(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),n||this.changed(),this.mapRenderKey_&&(ke(this.mapRenderKey_),this.mapRenderKey_=null),n&&(this.mapPrecomposeKey_=Ce(n,"precompose",function(r){var o=r.frameState.layerStatesArray,s=this.getLayerState(!1);Ee(!o.some(function(a){return a.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=Ce(this,"change",n.render,n),this.changed())},t.prototype.setSource=function(n){this.set("source",n)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.setSource(null),e.prototype.disposeInternal.call(this)},t}(VD);function Rp(e,t){for(var n=!0,r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function Ap(e,t){var n=Math.cos(t),r=Math.sin(t),o=e[1]*n+e[0]*r;return e[0]=e[0]*n-e[1]*r,e[1]=o,e}var e8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function n8(e,t){ND.expire()}const r8=function(e){function t(n){var r=e.call(this)||this;return r.map_=n,r}return e8(t,e),t.prototype.dispatchRenderEvent=function(n,r){ve()},t.prototype.calculateMatrices2D=function(n){var r=n.viewState,i=n.coordinateToPixelTransform,o=n.pixelToCoordinateTransform;Sr(i,n.size[0]/2,n.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),Bl(o,i)},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,s,a,u,l){var c,f=r.viewState;function d(b,D,T,N){return s.call(a,D,b?T:null,N)}var h=f.projection,p=function(e,t){if(t.canWrapX()){var n=Le(t.getExtent()),r=function(e,t,n){var r=t.getExtent(),i=0;if(t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var o=n||Le(r);i=Math.floor((e[0]-r[0])/o)}return i}(e,t,n);r&&(e[0]-=r*n)}return e}(n.slice(),h),_=[[0,0]];if(h.canWrapX()&&o){var m=Le(h.getExtent());_.push([-m,0],[m,0])}for(var y=r.layerStatesArray,v=y.length,E=[],w=[],x=0;x<_.length;x++)for(var R=v-1;R>=0;--R){var A=y[R],k=A.layer;if(k.hasRenderer()&&Wl(A,f)&&u.call(l,k)){var F=k.getRenderer(),M=k.getSource();if(F&&M){var B=M.getWrapX()?p:n,V=d.bind(null,A.managed);w[0]=B[0]+_[x][0],w[1]=B[1]+_[x][1],c=F.forEachFeatureAtCoordinate(w,r,i,V,E)}if(c)return c}}if(0!==E.length){var C=1/E.length;return E.forEach(function(b,D){return b.distanceSq+=D*C}),E.sort(function(b,D){return b.distanceSq-D.distanceSq}),E.some(function(b){return c=b.callback(b.feature,b.layer,b.geometry)}),c}},t.prototype.forEachLayerAtPixel=function(n,r,i,o,s){return ve()},t.prototype.hasFeatureAtCoordinate=function(n,r,i,o,s,a){return void 0!==this.forEachFeatureAtCoordinate(n,r,i,o,ca,this,s,a)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(n){ve()},t.prototype.scheduleExpireIconCache=function(n){ND.canExpireCache()&&n.postRenderFunctions.push(n8)},t}(Fl);var i8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const UD=function(e){function t(n,r,i,o){var s=e.call(this,n)||this;return s.inversePixelTransform=r,s.frameState=i,s.context=o,s}return i8(t,e),t}(lr);var Kl="ol-hidden",ql="ol-unselectable",Pp="ol-control",GD="ol-collapsed",Fo=(new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),"undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():""),a8=-1!==Fo.indexOf("firefox"),u8=(-1!==Fo.indexOf("safari")&&Fo.indexOf("chrom"),-1!==Fo.indexOf("webkit")&&-1==Fo.indexOf("edge")),l8=-1!==Fo.indexOf("macintosh"),Zl="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,Sp="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,WD="undefined"!=typeof Image&&Image.prototype.decode,KD=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(n){}return e}();function fr(e,t,n){var r=n&&n.length?n.shift():Sp?new OffscreenCanvas(e||300,t||300):document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r.getContext("2d")}function qD(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function Op(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}var dr=new cr;(new _a).setSize=function(){console.warn("labelCache is deprecated.")};function YD(e,t,n,r){0!==t&&(e.translate(n,r),e.rotate(t),e.translate(-n,-r))}var Xl=null;function XD(e){return Sp?Tp(e):(Xl||(Xl=fr(1,1).canvas),Xl.style.transform=Tp(e),Xl.style.transform)}var p8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const _8=function(e){function t(n){var r=e.call(this,n)||this;r.fontChangeListenerKey_=Ce(dr,"propertychange",n.redrawText.bind(n)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=ql+" ol-layers";var o=n.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return p8(t,e),t.prototype.dispatchRenderEvent=function(n,r){var i=this.getMap();if(i.hasListener(n)){var o=new UD(n,void 0,r);i.dispatchEvent(o)}},t.prototype.disposeInternal=function(){ke(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(n){if(n){this.calculateMatrices2D(n),this.dispatchRenderEvent("precompose",n);var r=n.layerStatesArray.sort(function(d,h){return d.zIndex-h.zIndex}),i=n.viewState;this.children_.length=0;for(var o=[],s=null,a=0,u=r.length;a<u;++a){var l=r[a];if(n.layerIndex=a,Wl(l,i)&&("ready"==l.sourceState||"undefined"==l.sourceState)){var c=l.layer,f=c.render(n,s);!f||(f!==s&&(this.children_.push(f),s=f),"getDeclutter"in c&&o.push(c))}}for(a=o.length-1;a>=0;--a)o[a].renderDeclutter(n);(function(e,t){for(var n=e.childNodes,r=0;;++r){var i=n[r],o=t[r];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--r;continue}e.insertBefore(o,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",n),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(n)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(n,r,i,o,s){for(var a=r.viewState,u=r.layerStatesArray,c=u.length-1;c>=0;--c){var f=u[c],d=f.layer;if(d.hasRenderer()&&Wl(f,a)&&s(d)){var p=d.getRenderer().getDataAtPixel(n,r,i);if(p){var _=o(d,p);if(_)return _}}}},t}(r8);var QD=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ql=function(e){function t(n,r,i){var o=e.call(this,n)||this;return o.element=r,o.index=i,o}return QD(t,e),t}(lr);const zn=function(e){function t(n,r){var i=e.call(this)||this;if(i.unique_=!!(r||{}).unique,i.array_=n||[],i.unique_)for(var s=0,a=i.array_.length;s<a;++s)i.assertUnique_(i.array_[s],s);return i.updateLength_(),i}return QD(t,e),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(n){for(var r=0,i=n.length;r<i;++r)this.push(n[r]);return this},t.prototype.forEach=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(n){return this.array_[n]},t.prototype.getLength=function(){return this.get("length")},t.prototype.insertAt=function(n,r){this.unique_&&this.assertUnique_(r),this.array_.splice(n,0,r),this.updateLength_(),this.dispatchEvent(new Ql("add",r,n))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(n){this.unique_&&this.assertUnique_(n);var r=this.getLength();return this.insertAt(r,n),this.getLength()},t.prototype.remove=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===n)return this.removeAt(i)},t.prototype.removeAt=function(n){var r=this.array_[n];return this.array_.splice(n,1),this.updateLength_(),this.dispatchEvent(new Ql("remove",r,n)),r},t.prototype.setAt=function(n,r){var i=this.getLength();if(n<i){this.unique_&&this.assertUnique_(r,n);var o=this.array_[n];this.array_[n]=r,this.dispatchEvent(new Ql("remove",o,n)),this.dispatchEvent(new Ql("add",r,n))}else{for(var s=i;s<n;++s)this.insertAt(s,void 0);this.insertAt(n,r)}},t.prototype.updateLength_=function(){this.set("length",this.array_.length)},t.prototype.assertUnique_=function(n,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===n&&i!==r)throw new vD(58)},t}(cr);var y8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const E8=function(e){function t(n){var r=this,i=n||{},o=tt({},i);delete o.layers;var s=i.layers;return(r=e.call(this,o)||this).layersListenerKeys_=[],r.listenerKeys_={},r.addEventListener(gi("layers"),r.handleLayersChanged_),s?Array.isArray(s)?s=new zn(s.slice(),{unique:!0}):Ee("function"==typeof s.getArray,43):s=new zn(void 0,{unique:!0}),r.setLayers(s),r}return y8(t,e),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(ke),this.layersListenerKeys_.length=0;var n=this.getLayers();for(var r in this.layersListenerKeys_.push(Ce(n,"add",this.handleLayersAdd_,this),Ce(n,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[r].forEach(ke);ga(this.listenerKeys_);for(var i=n.getArray(),o=0,s=i.length;o<s;o++){var a=i[o];this.listenerKeys_[xt(a)]=[Ce(a,"propertychange",this.handleLayerChange_,this),Ce(a,"change",this.handleLayerChange_,this)]}this.changed()},t.prototype.handleLayersAdd_=function(n){var r=n.element;this.listenerKeys_[xt(r)]=[Ce(r,"propertychange",this.handleLayerChange_,this),Ce(r,"change",this.handleLayerChange_,this)],this.changed()},t.prototype.handleLayersRemove_=function(n){var i=xt(n.element);this.listenerKeys_[i].forEach(ke),delete this.listenerKeys_[i],this.changed()},t.prototype.getLayers=function(){return this.get("layers")},t.prototype.setLayers=function(n){this.set("layers",n)},t.prototype.getLayersArray=function(n){var r=void 0!==n?n:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},t.prototype.getLayerStatesArray=function(n){var r=void 0!==n?n:[],i=r.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(r)});for(var o=this.getLayerState(),s=i,a=r.length;s<a;s++){var u=r[s];u.opacity*=o.opacity,u.visible=u.visible&&o.visible,u.maxResolution=Math.min(u.maxResolution,o.maxResolution),u.minResolution=Math.max(u.minResolution,o.minResolution),u.minZoom=Math.max(u.minZoom,o.minZoom),u.maxZoom=Math.min(u.maxZoom,o.maxZoom),void 0!==o.extent&&(u.extent=void 0!==u.extent?Nr(u.extent,o.extent):o.extent)}return r},t.prototype.getSourceState=function(){return"ready"},t}(VD);var C8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Jl=function(e){function t(n,r,i){var o=e.call(this,n)||this;return o.map=r,o.frameState=void 0!==i?i:null,o}return C8(t,e),t}(lr);var D8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Lr=function(e){function t(n,r,i,o,s){var a=e.call(this,n,r,s)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return D8(t,e),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},t}(Jl),Me={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var I8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const x8=function(e){function t(n,r){var i=e.call(this,n)||this;i.map_=n,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r?r*Zl:Zl,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Ce(o,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=Ce(o,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!KD&&{passive:!1}),i}return I8(t,e),t.prototype.emulateClick_=function(n){var r=new Lr(Me.CLICK,this.map_,n);this.dispatchEvent(r),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new Lr(Me.DBLCLICK,this.map_,n),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new Lr(Me.SINGLECLICK,this.map_,n);this.dispatchEvent(i)}.bind(this),250)},t.prototype.updateActivePointers_=function(n){var r=n;r.type==Me.POINTERUP||r.type==Me.POINTERCANCEL?delete this.trackedTouches_[r.pointerId]:r.type==Me.POINTERDOWN&&(this.trackedTouches_[r.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(n){this.updateActivePointers_(n);var r=new Lr(Me.POINTERUP,this.map_,n);this.dispatchEvent(r),this.emulateClicks_&&!r.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(n)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(ke),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(n){return 0===n.button},t.prototype.handlePointerDown_=function(n){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(n);var r=new Lr(Me.POINTERDOWN,this.map_,n);if(this.dispatchEvent(r),this.down_=n,0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ce(i,Me.POINTERMOVE,this.handlePointerMove_,this),Ce(i,Me.POINTERUP,this.handlePointerUp_,this),Ce(this.element_,Me.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Ce(this.element_.getRootNode(),Me.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(n){if(this.isMoving_(n)){this.dragging_=!0;var r=new Lr(Me.POINTERDRAG,this.map_,n,this.dragging_);this.dispatchEvent(r)}},t.prototype.relayEvent_=function(n){this.originalPointerMoveEvent_=n;var r=!(!this.down_||!this.isMoving_(n));this.dispatchEvent(new Lr(n.type,this.map_,n,r))},t.prototype.handleTouchMove_=function(n){(!this.originalPointerMoveEvent_||this.originalPointerMoveEvent_.defaultPrevented)&&n.preventDefault()},t.prototype.isMoving_=function(n){return this.dragging_||Math.abs(n.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(n.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ke(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ke(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ke),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(_a);var tc=1/0;const R8=function(){function e(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ga(this.queuedElements_)},e.prototype.dequeue=function(){var t=this.elements_,n=this.priorities_,r=t[0];1==t.length?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},e.prototype.enqueue=function(t){Ee(!(this.keyFunction_(t)in this.queuedElements_),31);var n=this.priorityFunction_(t);return n!=tc&&(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(t){return 2*t+1},e.prototype.getRightChildIndex_=function(t){return 2*t+2},e.prototype.getParentIndex_=function(t){return t-1>>1},e.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},e.prototype.isEmpty=function(){return 0===this.elements_.length},e.prototype.isKeyQueued=function(t){return t in this.queuedElements_},e.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},e.prototype.siftUp_=function(t){for(var n=this.elements_,r=this.priorities_,i=n.length,o=n[t],s=r[t],a=t;t<i>>1;){var u=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<i&&r[l]<r[u]?l:u;n[t]=n[c],r[t]=r[c],t=c}n[t]=o,r[t]=s,this.siftDown_(a,t)},e.prototype.siftDown_=function(t,n){for(var r=this.elements_,i=this.priorities_,o=r[n],s=i[n];n>t;){var a=this.getParentIndex_(n);if(!(i[a]>s))break;r[n]=r[a],i[n]=i[a],n=a}r[n]=o,i[n]=s},e.prototype.reprioritize=function(){var s,a,u,t=this.priorityFunction_,n=this.elements_,r=this.priorities_,i=0,o=n.length;for(a=0;a<o;++a)(u=t(s=n[a]))==tc?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=u,n[i++]=s);n.length=i,r.length=i,this.heapify_()},e}();var A8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const eb=function(e){function t(n,r){var i=e.call(this,function(o){return n.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return A8(t,e),t.prototype.enqueue=function(n){var r=e.prototype.enqueue.call(this,n);return r&&n[0].addEventListener("change",this.boundHandleTileChange_),r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(n){var r=n.target,i=r.getState();if(r.hifi&&2===i||3===i||4===i){r.removeEventListener("change",this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(n,r){for(var s,a,i=0;this.tilesLoading_<n&&i<r&&this.getCount()>0;)a=(s=this.dequeue()[0]).getKey(),0===s.getState()&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())},t}(R8);var ma={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},hr={};hr[ma.DEGREES]=2*Math.PI*6370997/360,hr[ma.FEET]=.3048,hr[ma.METERS]=1,hr[ma.USFEET]=1200/3937;const kr=ma,tb=function(){function e(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||hr[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},e.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},e.prototype.setWorldExtent=function(t){this.worldExtent_=t},e.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();var F8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ya=6378137,ko=Math.PI*ya,L8=[-ko,-ko,ko,ko],k8=[-180,-85,180,85],rc=ya*Math.log(Math.tan(Math.PI/2)),va=function(e){function t(n){return e.call(this,{code:n,units:kr.METERS,extent:L8,global:!0,worldExtent:k8,getPointResolution:function(r,i){return r/bH(i[1]/ya)}})||this}return F8(t,e),t}(tb),nb=[new va("EPSG:3857"),new va("EPSG:102100"),new va("EPSG:102113"),new va("EPSG:900913"),new va("http://www.opengis.net/gml/srs/epsg.xml#3857")];var B8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rb=[-180,-90,180,90],U8=6378137*Math.PI/180,Ea=function(e){function t(n,r){return e.call(this,{code:n,units:kr.DEGREES,extent:rb,axisOrientation:r,global:!0,metersPerUnit:U8,worldExtent:rb})||this}return B8(t,e),t}(tb),ib=[new Ea("CRS:84"),new Ea("EPSG:4326","neu"),new Ea("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ea("urn:ogc:def:crs:OGC:2:84"),new Ea("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],ic={},bn={};function oc(e,t,n){var r=e.getCode(),i=t.getCode();r in bn||(bn[r]={}),bn[r][i]=n}function jp(e,t,n){var r=n||6371008.8,i=$l(e[1]),o=$l(t[1]),s=(o-i)/2,a=$l(t[0]-e[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function Hp(e,t,n){var r;if(void 0!==t){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];r=t}else r=e.slice();return r}function ob(e,t,n){if(void 0!==t&&e!==t){for(var r=0,i=e.length;r<i;++r)t[r]=e[r];e=t}return e}function q8(e){(function(e,t){ic[e]=t})(e.getCode(),e),oc(e,e,Hp)}function At(e){return"string"==typeof e?function(e){return ic[e]||ic[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(e):e||null}function sb(e,t,n,r){var i,o=(e=At(e)).getPointResolutionFunc();if(o)i=o(t,n),r&&r!==e.getUnits()&&(s=e.getMetersPerUnit())&&(i=i*s/hr[r]);else{var a=e.getUnits();if(a==kr.DEGREES&&!r||r==kr.DEGREES)i=t;else{var s,u=uc(e,At("EPSG:4326"));if(u===ob&&a!==kr.DEGREES)i=t*e.getMetersPerUnit();else{var l=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];i=(jp((l=u(l,l,2)).slice(0,2),l.slice(2,4))+jp(l.slice(4,6),l.slice(6,8)))/2}void 0!==(s=r?hr[r]:e.getMetersPerUnit())&&(i/=s)}}return i}function ab(e){(function(e){e.forEach(q8)})(e),e.forEach(function(t){e.forEach(function(n){t!==n&&oc(t,n,Hp)})})}function Up(e,t){return e?"string"==typeof e?At(e):e:At(t)}function Vr(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||uc(e,t)===Hp)&&n}function uc(e,t){var i=function(e,t){var n;return e in bn&&t in bn[e]&&(n=bn[e][t]),n}(e.getCode(),t.getCode());return i||(i=ob),i}function Ca(e,t){return uc(At(e),At(t))}function Vo(e,t,n){return Ca(t,n)(e,void 0,e.length)}function Gp(e,t){return e}function pr(e,t){return e}function jr(e,t){return e}function cb(e,t,n){return function(r,i,o,s,a){if(r){var u=t?0:o[0]*i,l=t?0:o[1]*i,c=a?a[0]:0,f=a?a[1]:0,d=e[0]+u/2+c,h=e[2]-u/2+c,p=e[1]+l/2+f,_=e[3]-l/2+f;d>h&&(h=d=(h+d)/2),p>_&&(_=p=(_+p)/2);var g=et(r[0],d,h),m=et(r[1],p,_),y=30*i;return s&&n&&(g+=-y*Math.log(1+Math.max(0,d-r[0])/y)+y*Math.log(1+Math.max(0,r[0]-h)/y),m+=-y*Math.log(1+Math.max(0,p-r[1])/y)+y*Math.log(1+Math.max(0,r[1]-_)/y)),[g,m]}}}function tU(e){return e}function $p(e,t,n,r){var i=Le(t)/n[0],o=Mt(t)/n[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function zp(e,t,n){var r=Math.min(e,t);return r*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/e-1))/50+1),et(r,n/2,2*t)}function fb(e,t,n,r,i){return function(o,s,a,u){if(void 0!==o){var l=r?$p(e,r,a,i):e;return(void 0===n||n)&&u?zp(o,l,t):et(o,t,l)}}}function Wp(e){if(void 0!==e)return 0}function db(e){if(void 0!==e)return e}function hb(e){return Math.pow(e,3)}function jo(e){return 1-hb(1-e)}function Kp(e){return 3*e*e-2*e*e*e}function sU(e){return e}ab(nb),ab(ib),function(e,t,n,r){e.forEach(function(i){t.forEach(function(o){oc(i,o,n),oc(o,i,r)})})}(ib,nb,function(e,t,n){var r=e.length,i=n>1?n:2,o=t;void 0===o&&(o=i>2?e.slice():new Array(r));for(var s=0;s<r;s+=i){o[s]=ko*e[s]/180;var a=ya*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));a>rc?a=rc:a<-rc&&(a=-rc),o[s+1]=a}return o},function(e,t,n){var r=e.length,i=n>1?n:2,o=t;void 0===o&&(o=i>2?e.slice():new Array(r));for(var s=0;s<r;s+=i)o[s]=180*e[s]/ko,o[s+1]=360*Math.atan(Math.exp(e[s+1]/ya))/Math.PI-90;return o});var fU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pb=[1,0,0,1,0,0];const hU=function(e){function t(){var n=e.call(this)||this;return n.extent_=[1/0,1/0,-1/0,-1/0],n.extentRevision_=-1,n.simplifiedGeometryMaxMinSquaredTolerance=0,n.simplifiedGeometryRevision=0,n.simplifyTransformedInternal=function(e){var n,r,i,t=!1;return function(){var o=Array.prototype.slice.call(arguments);return(!t||this!==i||!yD(o,r))&&(t=!0,i=this,r=o,n=e.apply(this,arguments)),n}}(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(i)}),n}return fU(t,e),t.prototype.simplifyTransformed=function(n,r){return this.simplifyTransformedInternal(this.getRevision(),n,r)},t.prototype.clone=function(){return ve()},t.prototype.closestPointXY=function(n,r,i,o){return ve()},t.prototype.containsXY=function(n,r){var i=this.getClosestPoint([n,r]);return i[0]===n&&i[1]===r},t.prototype.getClosestPoint=function(n,r){var i=r||[NaN,NaN];return this.closestPointXY(n[0],n[1],i,1/0),i},t.prototype.intersectsCoordinate=function(n){return this.containsXY(n[0],n[1])},t.prototype.computeExtent=function(n){return ve()},t.prototype.getExtent=function(n){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&Mo(r),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,n)},t.prototype.rotate=function(n,r){ve()},t.prototype.scale=function(n,r,i){ve()},t.prototype.simplify=function(n){return this.getSimplifiedGeometry(n*n)},t.prototype.getSimplifiedGeometry=function(n){return ve()},t.prototype.getType=function(){return ve()},t.prototype.applyTransform=function(n){ve()},t.prototype.intersectsExtent=function(n){return ve()},t.prototype.translate=function(n,r){ve()},t.prototype.transform=function(n,r){var i=At(n),o=i.getUnits()==kr.TILE_PIXELS?function(s,a,u){var l=i.getExtent(),c=i.getWorldExtent(),f=Mt(c)/Mt(l);return Sr(pb,c[0],c[3],f,-f,0,0,0),function(e,t,n,r,i,o){for(var s=o||[],a=0,u=0;u<n;u+=r){var l=e[u],c=e[u+1];s[a++]=i[0]*l+i[2]*c+i[4],s[a++]=i[1]*l+i[3]*c+i[5]}o&&s.length!=a&&(s.length=a)}(s,0,s.length,u,pb,a),Ca(i,r)(s,a,u)}:Ca(i,r);return this.applyTransform(o),this},t}(cr);var pU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function gb(e){var t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}const qp=function(e){function t(){var n=e.call(this)||this;return n.layout="XY",n.stride=2,n.flatCoordinates=null,n}return pU(t,e),t.prototype.computeExtent=function(n){return function(e,t,n,r,i){return TD(Mo(i),e,0,n,r)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.getCoordinates=function(){return ve()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&n<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(n);return r.getFlatCoordinates().length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=n,this)},t.prototype.getSimplifiedGeometryInternal=function(n){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(n,r){this.stride=gb(n),this.layout=n,this.flatCoordinates=r},t.prototype.setCoordinates=function(n,r){ve()},t.prototype.setLayout=function(n,r,i){var o;if(n)o=gb(n);else{for(var s=0;s<i;++s){if(0===r.length)return this.layout="XY",void(this.stride=2);r=r[0]}n=function(e){var t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}(o=r.length)}this.layout=n,this.stride=o},t.prototype.applyTransform=function(n){this.flatCoordinates&&(n(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();(function(e,t,n,r,i,o,s){for(var a=s||[],u=Math.cos(i),l=Math.sin(i),c=o[0],f=o[1],d=0,h=0;h<n;h+=r){var p=e[h]-c,_=e[h+1]-f;a[d++]=c+p*u-_*l,a[d++]=f+p*l+_*u;for(var g=h+2;g<h+r;++g)a[d++]=e[g]}s&&a.length!=d&&(a.length=d)})(i,0,i.length,o,n,r,i),this.changed()}},t.prototype.scale=function(n,r,i){var o=r;void 0===o&&(o=n);var s=i;s||(s=Or(this.getExtent()));var a=this.getFlatCoordinates();if(a){var u=this.getStride();(function(e,t,n,r,i,o,s,a){for(var u=a||[],l=s[0],c=s[1],f=0,d=0;d<n;d+=r){var p=e[d+1]-c;u[f++]=l+i*(e[d]-l),u[f++]=c+o*p;for(var _=d+2;_<d+r;++_)u[f++]=e[_]}a&&u.length!=f&&(u.length=f)})(a,0,a.length,u,n,o,s,a),this.changed()}},t.prototype.translate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();(function(e,t,n,r,i,o,s){for(var a=s||[],u=0,l=0;l<n;l+=r){a[u++]=e[l]+i,a[u++]=e[l+1]+o;for(var c=l+2;c<l+r;++c)a[u++]=e[c]}s&&a.length!=u&&(a.length=u)})(i,0,i.length,o,n,r,i),this.changed()}},t}(hU);function _b(e,t,n,r,i,o,s){var f,a=e[t],u=e[t+1],l=e[n]-a,c=e[n+1]-u;if(0===l&&0===c)f=t;else{var d=((i-a)*l+(o-u)*c)/(l*l+c*c);if(d>1)f=n;else{if(d>0){for(var h=0;h<r;++h)s[h]=MH(e[t+h],e[n+h],d);return void(s.length=r)}f=t}}for(h=0;h<r;++h)s[h]=e[f+h];s.length=r}function mb(e,t,n,r,i){var o=e[t],s=e[t+1];for(t+=r;t<n;t+=r){var a=e[t],u=e[t+1],l=So(o,s,a,u);l>i&&(i=l),o=a,s=u}return i}function vb(e,t,n,r,i,o,s,a,u,l,c){if(t==n)return l;var f,d;if(0===i){if((d=So(s,a,e[t],e[t+1]))<l){for(f=0;f<r;++f)u[f]=e[t+f];return u.length=r,d}return l}for(var h=c||[NaN,NaN],p=t+r;p<n;)if(_b(e,p-r,p,r,s,a,h),(d=So(s,a,h[0],h[1]))<l){for(l=d,f=0;f<r;++f)u[f]=h[f];u.length=r,p+=r}else p+=r*Math.max((Math.sqrt(d)-Math.sqrt(l))/i|0,1);if(o&&(_b(e,n-r,t,r,s,a,h),(d=So(s,a,h[0],h[1]))<l)){for(l=d,f=0;f<r;++f)u[f]=h[f];u.length=r}return l}function Cb(e,t,n,r){for(var i=0,o=n.length;i<o;++i)for(var s=n[i],a=0;a<r;++a)e[t++]=s[a];return t}function Bo(e,t){return t*Math.round(e/t)}function EU(e,t,n,r,i,o,s){if(t==n)return s;var l,c,a=Bo(e[t],i),u=Bo(e[t+1],i);t+=r,o[s++]=a,o[s++]=u;do{if(l=Bo(e[t],i),c=Bo(e[t+1],i),(t+=r)==n)return o[s++]=l,o[s++]=c,s}while(l==a&&c==u);for(;t<n;){var f=Bo(e[t],i),d=Bo(e[t+1],i);if(t+=r,f!=l||d!=c){var h=l-a,p=c-u,_=f-a,g=d-u;if(h*g==p*_&&(h<0&&_<h||h==_||h>0&&_>h)&&(p<0&&g<p||p==g||p>0&&g>p)){l=f,c=d;continue}o[s++]=l,o[s++]=c,a=l,u=c,l=f,c=d}}return o[s++]=l,o[s++]=c,s}function bb(e,t,n,r,i){for(var o=void 0!==i?i:[],s=0,a=t;a<n;a+=r)o[s++]=e.slice(a,a+r);return o.length=s,o}function Tb(e,t,n,r){for(var i=0,o=e[n-r],s=e[n-r+1];t<n;t+=r){var a=e[t],u=e[t+1];i+=s*a-o*u,o=a,s=u}return i/2}var CU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Mb=function(e){function t(n,r){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===r||Array.isArray(n[0])?i.setCoordinates(n,r):i.setFlatCoordinates(r,n),i}return CU(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(n,r,i,o){return o<CD(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(mb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.getArea=function(){return Tb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return bb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[];return r.length=function(e,t,n,r,i,o,s){var a=(n-t)/r;if(a<3){for(;t<n;t+=r)o[s++]=e[t],o[s++]=e[t+1];return s}var u=new Array(a);u[0]=1,u[a-1]=1;for(var l=[t,n-r],c=0;l.length>0;){for(var f=l.pop(),d=l.pop(),h=0,p=e[d],_=e[d+1],g=e[f],m=e[f+1],y=d+r;y<f;y+=r){var w=TH(e[y],e[y+1],p,_,g,m);w>h&&(c=y,h=w)}h>i&&(u[(c-t)/r]=1,d+r<c&&l.push(d,c),c+r<f&&l.push(c,f))}for(y=0;y<a;++y)u[y]&&(o[s++]=e[t+y*r],o[s++]=e[t+y*r+1]);return s}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,0),new t(r,"XY")},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(n){return!1},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Cb(this.flatCoordinates,0,n,this.stride),this.changed()},t}(qp);var DU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const IU=function(e){function t(n,r){var i=e.call(this)||this;return i.setCoordinates(n,r),i}return DU(t,e),t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){var s=this.flatCoordinates,a=So(n,r,s[0],s[1]);if(a<o){for(var u=this.stride,l=0;l<u;++l)i[l]=s[l];return i.length=u,a}return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(n){return function(e,t){var n=e[0],r=e[1];return pi(n,r,n,r,t)}(this.flatCoordinates,n)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(n){return DD(n,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(e,t,n,r){for(var i=0,o=n.length;i<o;++i)e[t++]=n[i];return t}(this.flatCoordinates,0,n),this.changed()},t}(qp);function TU(e,t,n,r,i){return!xD(i,function(s){return!yi(e,t,n,r,s[0],s[1])})}function yi(e,t,n,r,i,o){for(var s=0,a=e[n-r],u=e[n-r+1];t<n;t+=r){var l=e[t],c=e[t+1];u<=o?c>o&&(l-a)*(o-u)-(i-a)*(c-u)>0&&s++:c<=o&&(l-a)*(o-u)-(i-a)*(c-u)<0&&s--,a=l,u=c}return 0!==s}function Yp(e,t,n,r,i,o){if(0===n.length||!yi(e,t,n[0],r,i,o))return!1;for(var s=1,a=n.length;s<a;++s)if(yi(e,n[s-1],n[s],r,i,o))return!1;return!0}function Xp(e,t,n,r,i){var o=TD([1/0,1/0,-1/0,-1/0],e,t,n,r);return!!Ul(i,o)&&(!!(wD(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3])||function(e,t,n,r,i){for(var a,o=[e[t],e[t+1]],s=[];t+r<n;t+=r){if(s[0]=e[t+r],s[1]=e[t+r+1],a=i(o,s))return a;o[0]=s[0],o[1]=s[1]}return!1}(e,t,n,r,function(s,a){return function(e,t,n){var r=!1,i=bD(e,t),o=bD(e,n);if(1===i||1===o)r=!0;else{var s=e[0],a=e[1],u=e[2],l=e[3],d=n[0],h=n[1],p=(h-t[1])/(d-t[0]),_=void 0,g=void 0;!!(2&o)&&!(2&i)&&(r=(_=d-(h-l)/p)>=s&&_<=u),r||!(4&o)||4&i||(r=(g=h-(d-u)*p)>=a&&g<=l),r||!(8&o)||8&i||(r=(_=d-(h-a)/p)>=s&&_<=u),!r&&16&o&&!(16&i)&&(r=(g=h-(d-s)*p)>=a&&g<=l)}return r}(i,s,a)}))}function RU(e,t,n,r){for(;t<n-r;){for(var i=0;i<r;++i){var o=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=o}t+=r,n-=r}}function Pb(e,t,n,r){for(var i=0,o=e[n-r],s=e[n-r+1];t<n;t+=r){var a=e[t],u=e[t+1];i+=(a-o)*(u+s),o=a,s=u}return 0===i?void 0:i>0}function Qp(e,t,n,r,i){for(var o=void 0!==i&&i,s=0,a=n.length;s<a;++s){var u=n[s],l=Pb(e,t,u,r);(0===s?o&&l||!o&&!l:o&&!l||!o&&l)&&RU(e,t,u,r),t=u}return t}var AU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lc=function(e){function t(n,r,i){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==r&&i?(o.setFlatCoordinates(r,n),o.ends_=i):o.setCoordinates(n,r),o}return AU(t,e),t.prototype.appendLinearRing=function(n){this.flatCoordinates?function(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,i=0;i<r;i++)e[e.length]=n[i]}(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<CD(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(e,t,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];i=mb(e,t,a,r,i),t=a}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(e,t,n,r,i,o,s,a,u,l,c){for(var f=c||[NaN,NaN],d=0,h=n.length;d<h;++d){var p=n[d];l=vb(e,t,p,r,i,o,s,a,u,l,f),t=p}return l}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.containsXY=function(n,r){return Yp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,r)},t.prototype.getArea=function(){return function(e,t,n,r){for(var i=0,o=0,s=n.length;o<s;++o){var a=n[o];i+=Tb(e,t,a,r),t=a}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(n){var r;return void 0!==n?Qp(r=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,n):r=this.flatCoordinates,function(e,t,n,r,i){for(var o=void 0!==i?i:[],s=0,a=0,u=n.length;a<u;++a){var l=n[a];o[s++]=bb(e,t,l,r,o[s]),t=l}return o.length=s,o}(r,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var n=Or(this.getExtent());this.flatInteriorPoint_=function(e,t,n,r,i,o,s){for(var a,u,l,c,f,d,h,p=i[o+1],_=[],g=0,m=n.length;g<m;++g){var y=n[g];for(c=e[y-r],d=e[y-r+1],a=t;a<y;a+=r)f=e[a],h=e[a+1],(p<=d&&h<=p||d<=p&&p<=h)&&_.push(l=(p-d)/(h-d)*(f-c)+c),c=f,d=h}var v=NaN,E=-1/0;for(_.sort(Ll),c=_[0],a=1,u=_.length;a<u;++a){f=_[a];var w=Math.abs(f-c);w>E&&Yp(e,t,n,r,l=(c+f)/2,p)&&(v=l,E=w),c=f}return isNaN(v)&&(v=i[o]),s?(s.push(v,p,E),s):[v,p,E]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new IU(this.getFlatInteriorPoint(),"XYM")},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(n){return n<0||this.ends_.length<=n?null:new Mb(this.flatCoordinates.slice(0===n?0:this.ends_[n-1],this.ends_[n]),this.layout)},t.prototype.getLinearRings=function(){for(var n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],s=0,a=0,u=i.length;a<u;++a){var l=i[a],c=new Mb(r.slice(s,l),n);o.push(c),s=l}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var n=this.flatCoordinates;!function(e,t,n,r,i){for(var o=void 0!==i&&i,s=0,a=n.length;s<a;++s){var u=n[s],l=Pb(e,t,u,r);if(0===s){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;t=u}return!0}(n,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=Qp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=n,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=function(e,t,n,r,i,o,s,a){for(var u=0,l=n.length;u<l;++u){var c=n[u];s=EU(e,t,c,r,i,o,s),a.push(s),t=c}return s}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(n),r,0,i),new t(r,"XY",i)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(n){return function(e,t,n,r,i){if(!function(e,t,n,r,i){return!!(Xp(e,t,n,r,i)||yi(e,t,n,r,i[0],i[1])||yi(e,t,n,r,i[0],i[3])||yi(e,t,n,r,i[2],i[1])||yi(e,t,n,r,i[2],i[3]))}(e,t,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(TU(e,n[o-1],n[o],r,i)&&!Xp(e,n[o-1],n[o],r,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=function(e,t,n,r,i){for(var o=i||[],s=0,a=0,u=n.length;a<u;++a){var l=Cb(e,t,n[a],r);o[s++]=l,t=l}return o.length=s,o}(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},t}(qp);const PU=lc;function Ob(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=[t,n,t,i,r,i,r,n,t,n];return new lc(o,"XY",[o.length])}var OU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function cc(e,t){setTimeout(function(){e(t)},0)}function VU(e){return!(e.sourceCenter&&e.targetCenter&&!Rp(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function eg(e,t,n,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=e[0]*o-e[1]*s,u=e[1]*o+e[0]*s;return[(a+=(t[0]/2-n[0])*r)*o-(u+=(n[1]-t[1]/2)*r)*(s=-s),u*o+a*s]}const Nb=function(e){function t(n){var r=e.call(this)||this,i=tt({},n);return r.hints_=[0,0],r.animations_=[],r.projection_=Up(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.cancelAnchor_=void 0,i.center&&(i.center=pr(i.center)),i.extent&&(i.extent=jr(i.extent)),r.applyOptions_(i),r}return OU(t,e),t.prototype.applyOptions_=function(n){var i=function(e){var t,n,r,s=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:28,u=void 0!==e.zoomFactor?e.zoomFactor:2,l=void 0!==e.multiWorld&&e.multiWorld,c=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,f=void 0!==e.showFullExtent&&e.showFullExtent,d=Up(e.projection,"EPSG:3857"),h=d.getExtent(),p=e.constrainOnlyCenter,_=e.extent;if(!l&&!_&&d.isGlobal()&&(p=!1,_=h),void 0!==e.resolutions){var g=e.resolutions;n=g[s],r=void 0!==g[a]?g[a]:g[g.length-1],t=e.constrainResolution?function(e,t,n,r){return function(i,o,s,a){if(void 0!==i){var u=e[0],l=e[e.length-1],c=n?$p(u,n,s,r):u;if(a)return void 0===t||t?zp(i,c,l):et(i,l,c);var d=Math.min(c,i),h=Math.floor(kl(e,d,o));return e[h]>c&&h<e.length-1?e[h+1]:e[h]}}}(g,c,!p&&_,f):fb(n,r,c,!p&&_,f)}else{var y=(h?Math.max(Le(h),Mt(h)):360*hr[kr.DEGREES]/d.getMetersPerUnit())/256/Math.pow(2,0),v=y/Math.pow(2,28);void 0!==(n=e.maxResolution)?s=0:n=y/Math.pow(u,s),void 0===(r=e.minResolution)&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(u,a):y/Math.pow(u,a):v),a=s+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,a-s),t=e.constrainResolution?function(e,t,n,r,i,o){return function(s,a,u,l){if(void 0!==s){var c=i?$p(t,i,u,o):t,f=void 0!==n?n:0;if(l)return void 0===r||r?zp(s,c,f):et(s,f,c);var p=Math.ceil(Math.log(t/c)/Math.log(e)-1e-9),_=-a*(.5-1e-9)+.5,g=Math.min(c,s),m=Math.floor(Math.log(t/g)/Math.log(e)+_),y=Math.max(p,m);return et(t/Math.pow(e,y),f,c)}}}(u,n,r,c,!p&&_,f):fb(n,r,c,!p&&_,f)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:u}}(n);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=n.resolutions,this.padding=n.padding,this.minZoom_=i.minZoom;var o=function(e){if(void 0!==e.extent)return cb(e.extent,e.constrainOnlyCenter,void 0===e.smoothExtentConstraint||e.smoothExtentConstraint);var n=Up(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,cb(r,!1,!1)}return tU}(n),s=i.constraint,a=function(e){if(void 0===e.enableRotation||e.enableRotation){var n=e.constrainRotation;return void 0===n||!0===n?function(e){var t=$l(5);return function(n,r){return r?n:void 0!==n?Math.abs(n)<=t?0:n:void 0}}():!1===n?db:"number"==typeof n?function(e){var t=2*Math.PI/e;return function(n,r){return r?n:void 0!==n?n=Math.floor(n/t+.5)*t:void 0}}(n):db}return Wp}(n);this.constraints_={center:o,resolution:s,rotation:a},this.setRotation(void 0!==n.rotation?n.rotation:0),this.setCenterInternal(void 0!==n.center?n.center:null),void 0!==n.resolution?this.setResolution(n.resolution):void 0!==n.zoom&&this.setZoom(n.zoom),this.setProperties({}),this.options_=n},t.prototype.getUpdatedOptions_=function(n){var r=tt({},this.options_);return void 0!==r.resolution?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),tt({},r,n)},t.prototype.animate=function(n){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&((o=tt({},o)).center=pr(o.center,this.getProjection())),o.anchor&&((o=tt({},o)).anchor=pr(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},t.prototype.animateInternal=function(n){var i,r=arguments.length;if(r>1&&"function"==typeof arguments[r-1]&&(i=arguments[r-1],--r),!this.isDef()){var o=arguments[r-1];return o.center&&this.setCenterInternal(o.center),void 0!==o.zoom&&this.setZoom(o.zoom),void 0!==o.rotation&&this.setRotation(o.rotation),void(i&&cc(i,!0))}for(var s=Date.now(),a=this.targetCenter_.slice(),u=this.targetResolution_,l=this.targetRotation_,c=[],f=0;f<r;++f){var d=arguments[f],h={start:s,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||Kp,callback:i};if(d.center&&(h.sourceCenter=a,h.targetCenter=d.center.slice(),a=h.targetCenter),void 0!==d.zoom?(h.sourceResolution=u,h.targetResolution=this.getResolutionForZoom(d.zoom),u=h.targetResolution):d.resolution&&(h.sourceResolution=u,h.targetResolution=d.resolution,u=h.targetResolution),void 0!==d.rotation){h.sourceRotation=l;var p=Oo(d.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+p,l=h.targetRotation}VU(h)?h.complete=!0:s+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[0]>0},t.prototype.getInteracting=function(){return this.hints_[1]>0},t.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var n,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&cc(o[0].callback,!1),!n)for(var s=0,a=o.length;s<a;++s){var u=o[s];if(!u.complete){n=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=n},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var n=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],s=!0,a=0,u=o.length;a<u;++a){var l=o[a];if(!l.complete){var f=l.duration>0?(n-l.start)/l.duration:1;f>=1?(l.complete=!0,f=1):s=!1;var d=l.easing(f);if(l.sourceCenter){var h=l.sourceCenter[0],p=l.sourceCenter[1];this.targetCenter_=[h+d*(l.targetCenter[0]-h),p+d*(l.targetCenter[1]-p)]}if(l.sourceResolution&&l.targetResolution){var v=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){var E=this.getViewportSize_(this.getRotation()),w=this.constraints_.resolution(v,0,E,!0);this.targetCenter_=this.calculateCenterZoom(w,l.anchor)}this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var x=1===d?Oo(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){var R=this.constraints_.rotation(x,!0);this.targetCenter_=this.calculateCenterRotate(R,l.anchor)}this.targetRotation_=x}if(this.applyTargetState_(!0),r=!0,!l.complete)break}}if(s){this.animations_[i]=null,this.setHint(0,-1);var A=o[0].callback;A&&cc(A,!0)}}this.animations_=this.animations_.filter(Boolean),r&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(n,r){var i,o=this.getCenterInternal();return void 0!==o&&(Ap(i=[o[0]-r[0],o[1]-r[1]],n-this.getRotation()),function(e,t){e[0]+=+t[0],e[1]+=+t[1]}(i,r)),i},t.prototype.calculateCenterZoom=function(n,r){var i,o=this.getCenterInternal(),s=this.getResolution();return void 0!==o&&void 0!==s&&(i=[r[0]-n*(r[0]-o[0])/s,r[1]-n*(r[1]-o[1])/s]),i},t.prototype.getViewportSize_=function(n){var r=this.viewportSize_;if(n){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(n))+Math.abs(o*Math.sin(n)),Math.abs(i*Math.sin(n))+Math.abs(o*Math.cos(n))]}return r},t.prototype.setViewportSize=function(n){this.viewportSize_=Array.isArray(n)?n.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var n=this.getCenterInternal();return n&&Gp(n,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get("center")},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},t.prototype.getHints=function(n){return void 0!==n?(n[0]=this.hints_[0],n[1]=this.hints_[1],n):this.hints_.slice()},t.prototype.calculateExtent=function(n){return function(e,t){return e}(this.calculateExtentInternal(n),this.getProjection())},t.prototype.calculateExtentInternal=function(n){var r=n||this.getViewportSize_(),i=this.getCenterInternal();Ee(i,1);var o=this.getResolution();Ee(void 0!==o,2);var s=this.getRotation();return Ee(void 0!==s,3),MD(i,o,s,r)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({maxZoom:n}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({minZoom:n}))},t.prototype.setConstrainResolution=function(n){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:n}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get("resolution")},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(n,r){return this.getResolutionForExtentInternal(jr(n,this.getProjection()),r)},t.prototype.getResolutionForExtentInternal=function(n,r){var i=r||this.getViewportSize_(),o=Le(n)/i[0],s=Mt(n)/i[1];return Math.max(o,s)},t.prototype.getResolutionForValueFunction=function(n){var r=n||2,i=this.getConstrainedResolution(this.maxResolution_),s=Math.log(i/this.minResolution_)/Math.log(r);return function(a){return i/Math.pow(r,a*s)}},t.prototype.getRotation=function(){return this.get("rotation")},t.prototype.getValueForResolutionFunction=function(n){var r=Math.log(n||2),i=this.getConstrainedResolution(this.maxResolution_),s=Math.log(i/this.minResolution_)/r;return function(a){return Math.log(i/a)/r/s}},t.prototype.getViewportSizeMinusPadding_=function(n){var r=this.getViewportSize_(n),i=this.padding;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},t.prototype.getState=function(){var n=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),s=this.padding;if(s){var a=this.getViewportSizeMinusPadding_();o=eg(o,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],r,i)}return{center:o.slice(0),projection:void 0!==n?n:null,resolution:r,rotation:i,zoom:this.getZoom()}},t.prototype.getZoom=function(){var n,r=this.getResolution();return void 0!==r&&(n=this.getZoomForResolution(r)),n},t.prototype.getZoomForResolution=function(n){var i,o,r=this.minZoom_||0;if(this.resolutions_){var s=kl(this.resolutions_,n,1);r=s,i=this.resolutions_[s],o=s==this.resolutions_.length-1?2:i/this.resolutions_[s+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/n)/Math.log(o)},t.prototype.getResolutionForZoom=function(n){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=et(Math.floor(n),0,this.resolutions_.length-2);return this.resolutions_[r]/Math.pow(this.resolutions_[r]/this.resolutions_[r+1],et(n-r,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,n-this.minZoom_)},t.prototype.fit=function(n,r){var i;if(Ee(Array.isArray(n)||"function"==typeof n.getSimplifiedGeometry,24),Array.isArray(n))Ee(!Gl(n),25),i=Ob(o=jr(n,this.getProjection()));else if("Circle"===n.getType()){var o;(i=Ob(o=jr(n.getExtent(),this.getProjection()))).rotate(this.getRotation(),Or(o))}else{i=n}this.fitInternal(i,r)},t.prototype.fitInternal=function(n,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var u,s=void 0!==i.padding?i.padding:[0,0,0,0],a=void 0!==i.nearest&&i.nearest;u=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;for(var l=n.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),d=Math.sin(-c),h=1/0,p=1/0,_=-1/0,g=-1/0,m=n.getStride(),y=0,v=l.length;y<v;y+=m){var E=l[y]*f-l[y+1]*d,w=l[y]*d+l[y+1]*f;h=Math.min(h,E),p=Math.min(p,w),_=Math.max(_,E),g=Math.max(g,w)}var x=this.getResolutionForExtentInternal([h,p,_,g],[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);x=isNaN(x)?u:Math.max(x,u),x=this.getConstrainedResolution(x,a?0:1);var R=(h+_)/2,A=(p+g)/2,M=this.getConstrainedCenter([(R+=(s[1]-s[3])/2*x)*f-(A+=(s[0]-s[2])/2*x)*(d=-d),A*f+R*d],x),B=i.callback?i.callback:jl;void 0!==i.duration?this.animateInternal({resolution:x,center:M,duration:i.duration,easing:i.easing},B):(this.targetResolution_=x,this.targetCenter_=M,this.applyTargetState_(!1,!0),cc(B,!0))},t.prototype.centerOn=function(n,r,i){this.centerOnInternal(pr(n,this.getProjection()),r,i)},t.prototype.centerOnInternal=function(n,r,i){this.setCenterInternal(eg(n,r,i,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(n,r,i,o){var s,a=this.padding;if(a&&n){var u=this.getViewportSizeMinusPadding_(-i),l=eg(n,o,[u[0]/2+a[3],u[1]/2+a[0]],r,i);s=[n[0]-l[0],n[1]-l[1]]}return s},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(n){var r=Gp(this.targetCenter_,this.getProjection());this.setCenter([r[0]+n[0],r[1]+n[1]])},t.prototype.adjustCenterInternal=function(n){var r=this.targetCenter_;this.setCenterInternal([r[0]+n[0],r[1]+n[1]])},t.prototype.adjustResolution=function(n,r){var i=r&&pr(r,this.getProjection());this.adjustResolutionInternal(n,i)},t.prototype.adjustResolutionInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*n,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=n,this.applyTargetState_()},t.prototype.adjustZoom=function(n,r){this.adjustResolution(Math.pow(this.zoomFactor_,-n),r)},t.prototype.adjustRotation=function(n,r){r&&(r=pr(r,this.getProjection())),this.adjustRotationInternal(n,r)},t.prototype.adjustRotationInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+n,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=n,this.applyTargetState_()},t.prototype.setCenter=function(n){this.setCenterInternal(pr(n,this.getProjection()))},t.prototype.setCenterInternal=function(n){this.targetCenter_=n,this.applyTargetState_()},t.prototype.setHint=function(n,r){return this.hints_[n]+=r,this.changed(),this.hints_[n]},t.prototype.setResolution=function(n){this.targetResolution_=n,this.applyTargetState_()},t.prototype.setRotation=function(n){this.targetRotation_=n,this.applyTargetState_()},t.prototype.setZoom=function(n){this.setResolution(this.getResolutionForZoom(n))},t.prototype.applyTargetState_=function(n,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,0,s,i),u=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,o,s));this.get("rotation")!==o&&this.set("rotation",o),this.get("resolution")!==a&&this.set("resolution",a),(!this.get("center")||!Rp(this.get("center"),u))&&this.set("center",u),this.getAnimating()&&!n&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(n,r,i){var o=void 0!==n?n:200,s=r||0,a=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(a),l=this.constraints_.resolution(this.targetResolution_,s,u),c=this.constraints_.center(this.targetCenter_,l,u,!1,this.calculateCenterShift(this.targetCenter_,l,a,u));if(0===o&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=a,this.targetCenter_=c,void this.applyTargetState_();var f=i||(0===o?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==a||!this.getCenterInternal()||!Rp(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:c,resolution:l,duration:o,easing:jo,anchor:f}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},t.prototype.endInteraction=function(n,r,i){var o=i&&pr(i,this.getProjection());this.endInteractionInternal(n,r,o)},t.prototype.endInteractionInternal=function(n,r,i){this.setHint(1,-1),this.resolveConstraints(n,r,i)},t.prototype.getConstrainedCenter=function(n,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(n,r||this.getResolution(),i)},t.prototype.getConstrainedZoom=function(n,r){var i=this.getResolutionForZoom(n);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},t.prototype.getConstrainedResolution=function(n,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(n,i,o)},t}(cr);function Br(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}var HU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const $U=function(e){function t(n){var r=e.call(this)||this,i=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var i,o,s,n={},r=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new E8({layers:e.layers});return n.layergroup=r,n.target=e.target,n.view=void 0!==e.view?e.view:new Nb,void 0!==e.controls&&(Array.isArray(e.controls)?i=new zn(e.controls.slice()):(Ee("function"==typeof e.controls.getArray,47),i=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?o=new zn(e.interactions.slice()):(Ee("function"==typeof e.interactions.getArray,48),o=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?s=new zn(e.overlays.slice()):(Ee("function"==typeof e.overlays.getArray,49),s=e.overlays):s=new zn,{controls:i,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}(n);return r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==n.maxTilesLoading?n.maxTilesLoading:16,r.pixelRatio_=void 0!==n.pixelRatio?n.pixelRatio:Zl,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=[1,0,0,1,0,0],r.pixelToCoordinateTransform_=[1,0,0,1,0,0],r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=n.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.keyHandlerKeys_=null,r.controls=i.controls||new zn,r.interactions=i.interactions||new zn,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new eb(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addEventListener(gi("layergroup"),r.handleLayerGroupChanged_),r.addEventListener(gi("view"),r.handleViewChanged_),r.addEventListener(gi("size"),r.handleSizeChanged_),r.addEventListener(gi("target"),r.handleTargetChanged_),r.setProperties(i.values),r.controls.forEach(function(o){o.setMap(this)}.bind(r)),r.controls.addEventListener("add",function(o){o.element.setMap(this)}.bind(r)),r.controls.addEventListener("remove",function(o){o.element.setMap(null)}.bind(r)),r.interactions.forEach(function(o){o.setMap(this)}.bind(r)),r.interactions.addEventListener("add",function(o){o.element.setMap(this)}.bind(r)),r.interactions.addEventListener("remove",function(o){o.element.setMap(null)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r.overlays_.addEventListener("add",function(o){this.addOverlayInternal_(o.element)}.bind(r)),r.overlays_.addEventListener("remove",function(o){var a=o.element.getId();void 0!==a&&delete this.overlayIdIndex_[a.toString()],o.element.setMap(null)}.bind(r)),r}return HU(t,e),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(n){this.getControls().push(n)},t.prototype.addInteraction=function(n){this.getInteractions().push(n)},t.prototype.addLayer=function(n){this.getLayerGroup().getLayers().push(n)},t.prototype.addOverlay=function(n){this.getOverlays().push(n)},t.prototype.addOverlayInternal_=function(n){var r=n.getId();void 0!==r&&(this.overlayIdIndex_[r.toString()]=n),n.setMap(this)},t.prototype.disposeInternal=function(){this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(n,r,i){if(this.frameState_){var o=this.getCoordinateFromPixelInternal(n);return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,r,null,void 0!==i.layerFilter?i.layerFilter:ca,null)}},t.prototype.getFeaturesAtPixel=function(n,r){var i=[];return this.forEachFeatureAtPixel(n,function(o){i.push(o)},r),i},t.prototype.forEachLayerAtPixel=function(n,r,i){if(this.frameState_){var o=i||{};return this.renderer_.forEachLayerAtPixel(n,this.frameState_,void 0!==o.hitTolerance?o.hitTolerance:0,r,o.layerFilter||ca)}},t.prototype.hasFeatureAtPixel=function(n,r){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(n);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,!1!==r.checkWrapped,void 0!==r.layerFilter?r.layerFilter:ca,null)},t.prototype.getEventCoordinate=function(n){return this.getCoordinateFromPixel(this.getEventPixel(n))},t.prototype.getEventCoordinateInternal=function(n){return this.getCoordinateFromPixelInternal(this.getEventPixel(n))},t.prototype.getEventPixel=function(n){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in n?n.changedTouches[0]:n;return[i.clientX-r.left,i.clientY-r.top]},t.prototype.getTarget=function(){return this.get("target")},t.prototype.getTargetElement=function(){var n=this.getTarget();return void 0!==n?"string"==typeof n?document.getElementById(n):n:null},t.prototype.getCoordinateFromPixel=function(n){return Gp(this.getCoordinateFromPixelInternal(n),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(n){var r=this.frameState_;return r?rt(r.pixelToCoordinateTransform,n.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(n){var r=this.overlayIdIndex_[n.toString()];return void 0!==r?r:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get("layergroup")},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoading=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var s=n[r].layer.getSource();if(s&&s.loading)return!0}return!1},t.prototype.getPixelFromCoordinate=function(n){var r=pr(n,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},t.prototype.getPixelFromCoordinateInternal=function(n){var r=this.frameState_;return r?rt(r.coordinateToPixelTransform,n.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get("size")},t.prototype.getView=function(){return this.get("view")},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},t.prototype.getTilePriority=function(n,r,i,o){return function(e,t,n,r,i){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return tc;var o=e.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,n,r,i,o)},t.prototype.handleBrowserEvent=function(n,r){var o=new Lr(r||n.type,this,n);this.handleMapBrowserEvent(o)},t.prototype.handleMapBrowserEvent=function(n){if(this.frameState_){var r=n.originalEvent,i=r.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a="host"in s?s.elementFromPoint(r.clientX,r.clientY):r.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===o?o.documentElement:s).contains(a))return}if(n.frameState=this.frameState_,!1!==this.dispatchEvent(n))for(var u=this.getInteractions().getArray().slice(),l=u.length-1;l>=0;l--){var c=u[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(n)||n.propagationStopped))break}}},t.prototype.handlePostRender=function(){var n=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(n){var s=n.viewHints;if(s[0]||s[1]){var a=!WD&&Date.now()-n.time>8;i=a?0:8,o=a?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}n&&this.hasListener("rendercomplete")&&!n.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent("rendercomplete",n);for(var u=this.postRenderFunctions_,l=0,c=u.length;l<c;++l)u[l](this,n);u.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){var n;if(this.getTarget()&&(n=this.getTargetElement()),this.mapBrowserEventHandler_){for(var r=0,i=this.keyHandlerKeys_.length;r<i;++r)ke(this.keyHandlerKeys_[r]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Op(this.viewport_)}if(n){for(var o in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new x8(this,this.moveTolerance_),Me)this.mapBrowserEventHandler_.addEventListener(Me[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!KD&&{passive:!1});var s=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.keyHandlerKeys_=[Ce(s,"keydown",this.handleBrowserEvent,this),Ce(s,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ke(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ke(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var n=this.getView();n&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Ce(n,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ce(n,"change",this.handleViewPropertyChanged_,this),n.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ke),this.layerGroupPropertyListenerKeys_=null);var n=this.getLayerGroup();n&&(this.layerGroupPropertyListenerKeys_=[Ce(n,"propertychange",this.render,this),Ce(n,"change",this.render,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var o=n[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(n){return this.getControls().remove(n)},t.prototype.removeInteraction=function(n){return this.getInteractions().remove(n)},t.prototype.removeLayer=function(n){return this.getLayerGroup().getLayers().remove(n)},t.prototype.removeOverlay=function(n){return this.getOverlays().remove(n)},t.prototype.renderFrame_=function(n){var r=this,i=this.getSize(),o=this.getView(),s=this.frameState_,a=null;if(void 0!==i&&function(e){return e[0]>0&&e[1]>0}(i)&&o&&o.isDef()){var u=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=o.getState();a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:MD(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:n,usedTiles:{},viewState:l,viewHints:u,wantedTiles:{}}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s&&(!this.previousExtent_||!Gl(this.previousExtent_)&&!Ro(a.extent,this.previousExtent_))&&(this.dispatchEvent(new Jl("movestart",this,s)),this.previousExtent_=Mo(this.previousExtent_)),this.previousExtent_&&!a.viewHints[0]&&!a.viewHints[1]&&!Ro(a.extent,this.previousExtent_)&&(this.dispatchEvent(new Jl("moveend",this,a)),function(e,t){t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):e.slice()}(a.extent,this.previousExtent_))),this.dispatchEvent(new Jl("postrender",this,a)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},t.prototype.setLayerGroup=function(n){this.set("layergroup",n)},t.prototype.setSize=function(n){this.set("size",n)},t.prototype.setTarget=function(n){this.set("target",n)},t.prototype.setView=function(n){this.set("view",n)},t.prototype.updateSize=function(){var n=this.getTargetElement();if(n){var r=getComputedStyle(n);this.setSize([n.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),n.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var n=this.getView();if(n){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),n.setViewportSize(r)}},t}(cr);var zU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const tg=function(e){function t(n){var r=e.call(this)||this,i=n.element;return i&&!n.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],n.render&&(r.render=n.render),n.target&&r.setTarget(n.target),r}return zU(t,e),t.prototype.disposeInternal=function(){Op(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(n){this.map_&&Op(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)ke(this.listenerKeys[r]);this.listenerKeys.length=0,this.map_=n,this.map_&&((this.target_?this.target_:n.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==jl&&this.listenerKeys.push(Ce(n,"postrender",this.render,this)),n.render())},t.prototype.render=function(n){},t.prototype.setTarget=function(n){this.target_="string"==typeof n?document.getElementById(n):n},t}(cr);var KU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ZU=function(e){function t(n){var r=this,i=n||{};(r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===i.collapsed||i.collapsed,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=void 0!==i.collapsible,r.collapsible_=void 0===i.collapsible||i.collapsible,r.collapsible_||(r.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",s=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.expandClassName?i.expandClassName:o+"-expand",u=void 0!==i.collapseLabel?i.collapseLabel:"\xbb",l=void 0!==i.collapseClassName?i.collapseClassName:o+"-collpase";"string"==typeof u?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=u,r.collapseLabel_.className=l):r.collapseLabel_=u;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(r.label_=document.createElement("span"),r.label_.textContent=c,r.label_.className=a):r.label_=c;var f=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,d=document.createElement("button");d.setAttribute("type","button"),d.title=s,d.appendChild(f),d.addEventListener("click",r.handleClick_.bind(r),!1);var p=r.element;return p.className=o+" "+ql+" "+Pp+(r.collapsed_&&r.collapsible_?" "+GD:"")+(r.collapsible_?"":" ol-uncollapsible"),p.appendChild(r.ulElement_),p.appendChild(d),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return KU(t,e),t.prototype.collectSourceAttributions_=function(n){for(var r={},i=[],o=!0,s=n.layerStatesArray,a=0,u=s.length;a<u;++a){var l=s[a];if(Wl(l,n.viewState)){var c=l.layer.getSource();if(c){var f=c.getAttributions();if(f){var d=f(n);if(d)if(o=o&&!1!==c.getAttributionsCollapsible(),Array.isArray(d))for(var h=0,p=d.length;h<p;++h)d[h]in r||(i.push(d[h]),r[d[h]]=!0);else d in r||(i.push(d),r[d]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},t.prototype.updateElement_=function(n){if(n){var r=this.collectSourceAttributions_(n),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!yD(r,this.renderedAttributions_)){!function(e){for(;e.lastChild;)e.removeChild(e.lastChild)}(this.ulElement_);for(var o=0,s=r.length;o<s;++o){var a=document.createElement("li");a.innerHTML=r[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=r}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(n){n.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(GD),this.collapsed_?qD(this.collapseLabel_,this.label_):qD(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(n){this.collapsible_!==n&&(this.collapsible_=n,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(n){this.userCollapsed_=n,this.collapsible_&&this.collapsed_!==n&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(n){this.updateElement_(n.frameState)},t}(tg);var YU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const QU=function(e){function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=void 0!==i.className?i.className:"ol-rotate",s=void 0!==i.label?i.label:"\u21e7",a=void 0!==i.compassClassName?i.compassClassName:"ol-compass";r.label_=null,"string"==typeof s?(r.label_=document.createElement("span"),r.label_.className=a,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(a));var u=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(r.label_),l.addEventListener("click",r.handleClick_.bind(r),!1);var f=r.element;return f.className=o+" "+ql+" "+Pp,f.appendChild(l),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=void 0!==i.duration?i.duration:250,r.autoHide_=void 0===i.autoHide||i.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(Kl),r}return YU(t,e),t.prototype.handleClick_=function(n){n.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var r=this.getMap().getView();if(r){var i=r.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?r.animate({rotation:0,duration:this.duration_,easing:jo}):r.setRotation(0))}},t.prototype.render=function(n){var r=n.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var s=this.element.classList.contains(Kl);s||0!==i?s&&0!==i&&this.element.classList.remove(Kl):this.element.classList.add(Kl)}this.label_.style.transform=o}this.rotation_=i}},t}(tg);var JU=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const tG=function(e){function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),target:i.target})||this;var o=void 0!==i.className?i.className:"ol-zoom",s=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInClassName?i.zoomInClassName:o+"-in",u=void 0!==i.zoomOutClassName?i.zoomOutClassName:o+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",f=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",d=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=a,h.setAttribute("type","button"),h.title=f,h.appendChild("string"==typeof l?document.createTextNode(l):l),h.addEventListener("click",r.handleClick_.bind(r,s),!1);var p=document.createElement("button");p.className=u,p.setAttribute("type","button"),p.title=d,p.appendChild("string"==typeof c?document.createTextNode(c):c),p.addEventListener("click",r.handleClick_.bind(r,-s),!1);var g=r.element;return g.className=o+" "+ql+" "+Pp,g.appendChild(h),g.appendChild(p),r.duration_=void 0!==i.duration?i.duration:250,r}return JU(t,e),t.prototype.handleClick_=function(n,r){r.preventDefault(),this.zoomByDelta_(n)},t.prototype.zoomByDelta_=function(n){var i=this.getMap().getView();if(i){var o=i.getZoom();if(void 0!==o){var s=i.getConstrainedZoom(o+n);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:jo})):i.setZoom(s)}}},t}(tg);var rG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ng(e,t,n,r){var i=e.getZoom();if(void 0!==i){var o=e.getConstrainedZoom(i+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:jo})}}const wa=function(e){function t(n){var r=e.call(this)||this;return n&&n.handleEvent&&(r.handleEvent=n.handleEvent),r.map_=null,r.setActive(!0),r}return rG(t,e),t.prototype.getActive=function(){return this.get("active")},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(n){return!0},t.prototype.setActive=function(n){this.set("active",n)},t.prototype.setMap=function(n){this.map_=n},t}(cr);var sG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const uG=function(e){function t(n){var r=e.call(this)||this,i=n||{};return r.delta_=i.delta?i.delta:1,r.duration_=void 0!==i.duration?i.duration:250,r}return sG(t,e),t.prototype.handleEvent=function(n){var r=!1;if(n.type==Me.DBLCLICK){var i=n.originalEvent,s=n.coordinate,a=i.shiftKey?-this.delta_:this.delta_;ng(n.map.getView(),a,s,this.duration_),i.preventDefault(),r=!0}return!r},t}(wa);var lG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function rg(e){for(var t=e.length,n=0,r=0,i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return[n/t,r/t]}const Da=function(e){function t(n){var r=this,i=n||{};return r=e.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return lG(t,e),t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(n){return!1},t.prototype.handleDragEvent=function(n){},t.prototype.handleEvent=function(n){if(!n.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(n),this.handlingDownUpSequence){if(n.type==Me.POINTERDRAG)this.handleDragEvent(n),n.originalEvent.preventDefault();else if(n.type==Me.POINTERUP){var i=this.handleUpEvent(n);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(n.type==Me.POINTERDOWN){var o=this.handleDownEvent(n);this.handlingDownUpSequence=o,r=this.stopDown(o)}else n.type==Me.POINTERMOVE&&this.handleMoveEvent(n);return!r},t.prototype.handleMoveEvent=function(n){},t.prototype.handleUpEvent=function(n){return!1},t.prototype.stopDown=function(n){return n},t.prototype.updateTrackedPointers_=function(n){if(function(e){var t=e.type;return t===Me.POINTERDOWN||t===Me.POINTERDRAG||t===Me.POINTERUP}(n)){var r=n.originalEvent,i=r.pointerId.toString();n.type==Me.POINTERUP?delete this.trackedPointers_[i]:(n.type==Me.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=r),this.targetPointers=FH(this.trackedPointers_)}},t}(wa);function ig(e){var t=arguments;return function(n){for(var r=!0,i=0,o=t.length;i<o&&(r=r&&t[i](n));++i);return r}}var dG=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Lb=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){return e.target.getTargetElement().contains(document.activeElement)}(e)},pG=ca,kb=function(e){var t=e.originalEvent;return 0==t.button&&!(u8&&l8&&t.ctrlKey)},Vb=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},gG=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},jb=function(e){var n=e.originalEvent.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n},og=function(e){var t=e.originalEvent;return Ee(void 0!==t,56),"mouse"==t.pointerType},_G=function(e){var t=e.originalEvent;return Ee(void 0!==t,56),t.isPrimary&&0===t.button},mG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const vG=function(e){function t(n){var r=e.call(this,{stopDown:Vl})||this,i=n||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.panning_=!1;var o=i.condition?i.condition:ig(Vb,_G);return r.condition_=i.onFocusOnly?ig(Lb,o):o,r.noKinetic_=!1,r}return mG(t,e),t.prototype.handleDragEvent=function(n){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=rg(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=n.map.getView();(function(e,t){e[0]*=t,e[1]*=t})(o,a.getResolution()),Ap(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,n.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(n){var r=n.map,i=r.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),u=r.getPixelFromCoordinateInternal(a),l=r.getCoordinateFromPixelInternal([u[0]-o*Math.cos(s),u[1]-o*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:jo})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>0&&this.condition_(n)){var i=n.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(Da);var EG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const wG=function(e){function t(n){var r=this,i=n||{};return(r=e.call(this,{stopDown:Vl})||this).condition_=i.condition?i.condition:dG,r.lastAngle_=void 0,r.duration_=void 0!==i.duration?i.duration:250,r}return EG(t,e),t.prototype.handleDragEvent=function(n){if(og(n)){var r=n.map,i=r.getView();if(i.getConstraints().rotation!==Wp){var o=r.getSize(),s=n.pixel,a=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(a-this.lastAngle_)),this.lastAngle_=a}}},t.prototype.handleUpEvent=function(n){return!og(n)||(n.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(n){return!(!og(n)||!kb(n)||!this.condition_(n)||(n.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},t}(Da);var DG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const IG=function(e){function t(n){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+n,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return DG(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var n=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(n[0],r[0])+i,o.top=Math.min(n[1],r[1])+i,o.width=Math.abs(r[0]-n[0])+i,o.height=Math.abs(r[1]-n[1])+i},t.prototype.setMap=function(n){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=n,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(n,r){this.startPixel_=n,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var n=this.startPixel_,r=this.endPixel_,o=[n,[n[0],r[1]],r,[r[0],n[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new PU([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(Fl);var Bb=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sg=function(e){function t(n,r,i){var o=e.call(this,n)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return Bb(t,e),t}(lr);const xG=function(e){function t(n){var r=e.call(this)||this,i=n||{};return r.box_=new IG(i.className||"ol-dragbox"),r.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:kb,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return Bb(t,e),t.prototype.defaultBoxEndCondition=function(n,r,i){var o=i[0]-r[0],s=i[1]-r[1];return o*o+s*s>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(n){this.box_.setPixels(this.startPixel_,n.pixel),this.dispatchEvent(new sg("boxdrag",n.coordinate,n))},t.prototype.handleUpEvent=function(n){this.box_.setMap(null);var r=this.boxEndCondition_(n,this.startPixel_,n.pixel);return r&&this.onBoxEnd(n),this.dispatchEvent(new sg(r?"boxend":"boxcancel",n.coordinate,n)),!1},t.prototype.handleDownEvent=function(n){return!!this.condition_(n)&&(this.startPixel_=n.pixel,this.box_.setMap(n.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new sg("boxstart",n.coordinate,n)),!0)},t.prototype.onBoxEnd=function(n){},t}(Da);var MG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const AG=function(e){function t(n){var r=this,i=n||{};return(r=e.call(this,{condition:i.condition?i.condition:gG,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,r.out_=void 0!==i.out&&i.out,r}return MG(t,e),t.prototype.onBoxEnd=function(n){var r=this.getMap(),i=r.getView(),o=r.getSize(),s=this.getGeometry().getExtent();if(this.out_){var a=i.calculateExtentInternal(o),u=function(e,t){return function(e,t){for(var n=0,r=t.length;n<r;++n)ha(e,t[n]);return e}(Mo(void 0),e)}([r.getPixelFromCoordinateInternal(Ao(s)),r.getPixelFromCoordinateInternal(Po(s))]);(function(e,t){var n=(e[2]-e[0])/2*(t-1),r=(e[3]-e[1])/2*(t-1);e[0]-=n,e[2]+=n,e[1]-=r,e[3]+=r})(a,1/i.getResolutionForExtentInternal(u,o)),s=a}var c=i.getConstrainedResolution(i.getResolutionForExtentInternal(s,o)),f=i.getConstrainedCenter(Or(s),c);i.animateInternal({resolution:c,center:f,duration:this.duration_,easing:jo})},t}(xG);var PG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const OG=function(e){function t(n){var r=e.call(this)||this,i=n||{};return r.defaultCondition_=function(o){return Vb(o)&&jb(o)},r.condition_=void 0!==i.condition?i.condition:r.defaultCondition_,r.duration_=void 0!==i.duration?i.duration:100,r.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,r}return PG(t,e),t.prototype.handleEvent=function(n){var r=!1;if("keydown"==n.type){var i=n.originalEvent,o=i.keyCode;if(this.condition_(n)&&(40==o||37==o||39==o||38==o)){var a=n.map.getView(),u=a.getResolution()*this.pixelDelta_,l=0,c=0;40==o?c=-u:37==o?l=-u:39==o?l=u:c=u;var f=[l,c];Ap(f,a.getRotation()),function(e,t,n){var r=e.getCenterInternal();r&&e.animateInternal({duration:void 0!==n?n:250,easing:sU,center:e.getConstrainedCenter([r[0]+t[0],r[1]+t[1]])})}(a,f,this.duration_),i.preventDefault(),r=!0}}return!r},t}(wa);var NG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const LG=function(e){function t(n){var r=e.call(this)||this,i=n||{};return r.condition_=i.condition?i.condition:jb,r.delta_=i.delta?i.delta:1,r.duration_=void 0!==i.duration?i.duration:100,r}return NG(t,e),t.prototype.handleEvent=function(n){var r=!1;if("keydown"==n.type||"keypress"==n.type){var i=n.originalEvent,o=i.charCode;if(this.condition_(n)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var s=n.map,a=o=="+".charCodeAt(0)?this.delta_:-this.delta_;ng(s.getView(),a,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},t}(wa),VG=function(){function e(t,n,r){this.decay_=t,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(t,n){this.points_.push(t,n,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;for(var r=n-3;r>0&&this.points_[r+2]>t;)r-=3;var i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[n]-this.points_[r],s=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}();var jG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const HG=function(e){function t(n){var r=this,i=n||{};(r=e.call(this,i)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,r.duration_=void 0!==i.duration?i.duration:250,r.timeout_=void 0!==i.timeout?i.timeout:80,r.useAnchor_=void 0===i.useAnchor||i.useAnchor,r.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var o=i.condition?i.condition:pG;return r.condition_=i.onFocusOnly?ig(Lb,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.mode_=void 0,r.trackpadEventGap_=400,r.deltaPerZoom_=300,r}return jG(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(n){if(!this.condition_(n))return!0;if("wheel"!==n.type)return!0;var s,i=n.map,o=n.originalEvent;if(o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=n.coordinate),"wheel"==n.type&&(s=o.deltaY,a8&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Zl),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;var a=Date.now();void 0===this.startTime_&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");var u=i.getView();if("trackpad"===this.mode_&&!u.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;var l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1},t.prototype.handleWheelZoom_=function(n){var r=n.getView();r.getAnimating()&&r.cancelAnimations();var i=-et(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),ng(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(n){this.useAnchor_=n,n||(this.lastAnchor_=null)},t}(wa);var UG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const $G=function(e){function t(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=Vl),(r=e.call(this,o)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==i.threshold?i.threshold:.3,r.duration_=void 0!==i.duration?i.duration:250,r}return UG(t,e),t.prototype.handleDragEvent=function(n){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(void 0!==this.lastAngle_){var a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=a}this.lastAngle_=s;var u=n.map,l=u.getView();if(l.getConstraints().rotation!==Wp){var c=u.getViewport().getBoundingClientRect(),f=rg(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),this.rotating_&&(u.render(),l.adjustRotationInternal(r,this.anchor_))}},t.prototype.handleUpEvent=function(n){return!(this.targetPointers.length<2&&(n.map.getView().endInteraction(this.duration_),1))},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}return!1},t}(Da);var zG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const KG=function(e){function t(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=Vl),(r=e.call(this,o)||this).anchor_=null,r.duration_=void 0!==i.duration?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return zG(t,e),t.prototype.handleDragEvent=function(n){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],s=i.clientX-o.clientX,a=i.clientY-o.clientY,u=Math.sqrt(s*s+a*a);void 0!==this.lastDistance_&&(r=this.lastDistance_/u),this.lastDistance_=u;var l=n.map,c=l.getView();1!=r&&(this.lastScaleDelta_=r);var f=l.getViewport().getBoundingClientRect(),d=rg(this.targetPointers);d[0]-=f.left,d[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(d),l.render(),c.adjustResolutionInternal(r,this.anchor_)},t.prototype.handleUpEvent=function(n){return!(this.targetPointers.length<2&&(n.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}return!1},t}(Da);var ZG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const XG=function(e){function t(n){return(n=tt({},n)).controls||(n.controls=function(e){var t={},n=new zn;return(void 0===t.zoom||t.zoom)&&n.push(new tG(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&n.push(new QU(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&n.push(new ZU(t.attributionOptions)),n}()),n.interactions||(n.interactions=function(e){var t={onFocusOnly:!0}||{},n=new zn,r=new VG(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&n.push(new wG),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&n.push(new uG({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&n.push(new vG({onFocusOnly:t.onFocusOnly,kinetic:r})),(void 0===t.pinchRotate||t.pinchRotate)&&n.push(new $G),(void 0===t.pinchZoom||t.pinchZoom)&&n.push(new KG({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(n.push(new OG),n.push(new LG({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&n.push(new HG({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&n.push(new AG({duration:t.zoomDuration})),n}()),e.call(this,n)||this}return ZG(t,e),t.prototype.createRenderer=function(){return new _8(this)},t}($U);var QG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const e4=function(e){function t(n){var r=this,i=n||{},o=tt({},i);return delete o.preload,delete o.useInterimTilesOnError,(r=e.call(this,o)||this).setPreload(void 0!==i.preload?i.preload:0),r.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),r}return QG(t,e),t.prototype.getPreload=function(){return this.get("preload")},t.prototype.setPreload=function(n){this.set("preload",n)},t.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},t.prototype.setUseInterimTilesOnError=function(n){this.set("useInterimTilesOnError",n)},t}(jD);var t4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const r4=function(e){function t(n){var r=e.call(this)||this;return r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=n,r.declutterExecutorGroup=null,r}return t4(t,e),t.prototype.getFeatures=function(n){return ve()},t.prototype.prepareFrame=function(n){return ve()},t.prototype.renderFrame=function(n,r){return ve()},t.prototype.loadedTileCallback=function(n,r,i){n[r]||(n[r]={}),n[r][i.tileCoord.toString()]=i},t.prototype.createLoadedTileFinder=function(n,r,i){return function(o,s){var a=this.loadedTileCallback.bind(this,i,o);return n.forEachLoadedTile(r,o,s,a)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,s){},t.prototype.getDataAtPixel=function(n,r,i){return ve()},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(n){2===n.target.getState()&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(n){var r=n.getState();return 2!=r&&3!=r&&n.addEventListener("change",this.boundHandleImageChange_),0==r&&(n.load(),r=n.getState()),2==r},t.prototype.renderIfReadyAndVisible=function(){var n=this.getLayer();n.getVisible()&&"ready"==n.getSourceState()&&n.changed()},t}(FD);var i4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Hb=function(e){function t(n){var r=e.call(this,n)||this;return r.container=null,r.tempTransform=[1,0,0,1,0,0],r.pixelTransform=[1,0,0,1,0,0],r.inversePixelTransform=[1,0,0,1,0,0],r.context=null,r.containerReused=!1,r}return i4(t,e),t.prototype.useContainer=function(n,r,i){var s,a,o=this.getLayer().getClassName();if(n&&""===n.style.opacity&&n.className===o&&(u=n.firstElementChild)instanceof HTMLCanvasElement&&(a=u.getContext("2d")),!a||0!==a.canvas.width&&a.canvas.style.transform!==r?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=n,this.context=a,this.containerReused=!0),!this.container){(s=document.createElement("div")).className=o;var u,l=s.style;l.position="absolute",l.width="100%",l.height="100%",a=fr(),s.appendChild(u=a.canvas),(l=u.style).position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=a}},t.prototype.clip=function(n,r,i){var o=r.pixelRatio,s=r.size[0]*o/2,a=r.size[1]*o/2,u=r.viewState.rotation,l=Fr(i),c=Po(i),f=pa(i),d=Ao(i);rt(r.coordinateToPixelTransform,l),rt(r.coordinateToPixelTransform,c),rt(r.coordinateToPixelTransform,f),rt(r.coordinateToPixelTransform,d),n.save(),YD(n,-u,s,a),n.beginPath(),n.moveTo(l[0]*o,l[1]*o),n.lineTo(c[0]*o,c[1]*o),n.lineTo(f[0]*o,f[1]*o),n.lineTo(d[0]*o,d[1]*o),n.clip(),YD(n,u,s,a)},t.prototype.clipUnrotated=function(n,r,i){var o=Fr(i),s=Po(i),a=pa(i),u=Ao(i);rt(r.coordinateToPixelTransform,o),rt(r.coordinateToPixelTransform,s),rt(r.coordinateToPixelTransform,a),rt(r.coordinateToPixelTransform,u);var l=this.inversePixelTransform;rt(l,o),rt(l,s),rt(l,a),rt(l,u),n.save(),n.beginPath(),n.moveTo(Math.round(o[0]),Math.round(o[1])),n.lineTo(Math.round(s[0]),Math.round(s[1])),n.lineTo(Math.round(a[0]),Math.round(a[1])),n.lineTo(Math.round(u[0]),Math.round(u[1])),n.clip()},t.prototype.dispatchRenderEvent_=function(n,r,i){var o=this.getLayer();if(o.hasListener(n)){var s=new UD(n,this.inversePixelTransform,i,r);o.dispatchEvent(s)}},t.prototype.preRender=function(n,r){this.dispatchRenderEvent_("prerender",n,r)},t.prototype.postRender=function(n,r){this.dispatchRenderEvent_("postrender",n,r)},t.prototype.getRenderTransform=function(n,r,i,o,s,a,u){var f=o/r;return Sr(this.tempTransform,s/2,a/2,f,-f,-i,-n[0]+u,-n[1])},t.prototype.getDataAtPixel=function(n,r,i){var c,o=rt(this.inversePixelTransform,n.slice()),s=this.context,u=this.getLayer().getExtent();if(u&&!xp(u,rt(r.pixelToCoordinateTransform,n.slice())))return null;try{var f=Math.round(o[0]),d=Math.round(o[1]),h=document.createElement("canvas"),p=h.getContext("2d");h.width=1,h.height=1,p.clearRect(0,0,1,1),p.drawImage(s.canvas,f,d,1,1,0,0,1,1),c=p.getImageData(0,0,1,1).data}catch(_){return"SecurityError"===_.name?new Uint8Array:c}return 0===c[3]?null:c},t}(r4);var Ub=function(){function e(t,n,r,i){this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}return e.prototype.contains=function(t){return this.containsXY(t[1],t[2])},e.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},e.prototype.containsXY=function(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY},e.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},e.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e}();function ug(e,t,n,r,i){return void 0!==i?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new Ub(e,t,n,r)}const Gb=Ub;var s4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const a4=function(e){function t(n){var r=e.call(this,n)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedProjection=null,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=[1/0,1/0,-1/0,-1/0],r.tmpTileRange_=new Gb(0,0,0,0),r}return s4(t,e),t.prototype.isDrawableTile=function(n){var r=this.getLayer(),i=n.getState(),o=r.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!o},t.prototype.getTile=function(n,r,i,o){var s=o.pixelRatio,a=o.viewState.projection,u=this.getLayer(),c=u.getSource().getTile(n,r,i,s,a);return 3==c.getState()&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):c.setState(2)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},t.prototype.loadedTileCallback=function(n,r,i){return!!this.isDrawableTile(i)&&e.prototype.loadedTileCallback.call(this,n,r,i)},t.prototype.prepareFrame=function(n){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(n,r){var i=n.layerStatesArray[n.layerIndex],o=n.viewState,s=o.projection,a=o.resolution,u=o.center,l=o.rotation,c=n.pixelRatio,f=this.getLayer(),d=f.getSource(),h=d.getRevision(),p=d.getTileGridForProjection(s),_=p.getZForResolution(a,d.zDirection),g=p.getResolution(_),m=n.extent,y=i.extent&&jr(i.extent);y&&(m=Nr(m,jr(i.extent)));var v=d.getTilePixelRatio(c),E=Math.round(n.size[0]*v),w=Math.round(n.size[1]*v);if(l){var x=Math.round(Math.sqrt(E*E+w*w));E=x,w=x}var R=g*E/2/v,A=g*w/2/v,k=[u[0]-R,u[1]-A,u[0]+R,u[1]+A],F=p.getTileRangeForExtentAndZ(m,_),M={};M[_]={};var B=this.createLoadedTileFinder(d,s,M),V=this.tmpExtent,C=this.tmpTileRange_;this.newTiles_=!1;for(var b=F.minX;b<=F.maxX;++b)for(var D=F.minY;D<=F.maxY;++D){var T=this.getTile(_,b,D,n);if(this.isDrawableTile(T)){var N=xt(this);if(2==T.getState()){M[_][T.tileCoord.toString()]=T;var S=T.inTransition(N);!this.newTiles_&&(S||-1===this.renderedTiles.indexOf(T))&&(this.newTiles_=!0)}if(1===T.getAlpha(N,n.time))continue}var L=p.getTileCoordChildTileRange(T.tileCoord,C,V),H=!1;L&&(H=B(_+1,L)),H||p.forEachTileCoordParentTileRange(T.tileCoord,B,C,V)}var $=g/a;Sr(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/v,1/v,l,-E/2,-w/2);var ze=XD(this.pixelTransform);this.useContainer(r,ze,i.opacity);var W=this.context,pe=W.canvas;Bl(this.inversePixelTransform,this.pixelTransform),Sr(this.tempTransform,E/2,w/2,$,$,0,-E/2,-w/2),pe.width!=E||pe.height!=w?(pe.width=E,pe.height=w):this.containerReused||W.clearRect(0,0,E,w),y&&this.clipUnrotated(W,n,y),tt(W,d.getContextOptions()),this.preRender(W,n),this.renderedTiles.length=0;var ue,be,ot,Se=Object.keys(M).map(Number);Se.sort(Ll),1!==i.opacity||this.containerReused&&!d.getOpaque(n.viewState.projection)?(ue=[],be=[]):Se=Se.reverse();for(var gr=Se.length-1;gr>=0;--gr){var xn=Se[gr],ba=d.getTilePixelSize(xn,c,s),Ia=p.getResolution(xn)/g,yc=ba[0]*Ia*$,vc=ba[1]*Ia*$,Q=p.getTileCoordForCoordAndZ(Fr(k),xn),Ve=p.getTileCoordExtent(Q),Hr=rt(this.tempTransform,[v*(Ve[0]-k[0])/g,v*(k[3]-Ve[3])/g]),Kn=v*d.getGutterForProjection(s),_I=M[xn];for(var M5 in _I){var mI=(T=_I[M5]).tileCoord,yI=Hr[0]-(Q[1]-mI[1])*yc,R5=Math.round(yI+yc),vI=Hr[1]-(Q[2]-mI[2])*vc,A5=Math.round(vI+vc),Ec=R5-(b=Math.round(yI)),Cc=A5-(D=Math.round(vI)),EI=_===xn;if(!(S=EI&&1!==T.getAlpha(xt(this),n.time)))if(ue){W.save(),ot=[b,D,b+Ec,D,b+Ec,D+Cc,b,D+Cc];for(var wc=0,P5=ue.length;wc<P5;++wc)if(_!==xn&&xn<be[wc]){var Ur=ue[wc];W.beginPath(),W.moveTo(ot[0],ot[1]),W.lineTo(ot[2],ot[3]),W.lineTo(ot[4],ot[5]),W.lineTo(ot[6],ot[7]),W.moveTo(Ur[6],Ur[7]),W.lineTo(Ur[4],Ur[5]),W.lineTo(Ur[2],Ur[3]),W.lineTo(Ur[0],Ur[1]),W.clip()}ue.push(ot),be.push(xn)}else W.clearRect(b,D,Ec,Cc);this.drawTileImage(T,n,b,D,Ec,Cc,Kn,EI,i.opacity),ue&&!S&&W.restore(),this.renderedTiles.push(T),this.updateUsedTiles(n.usedTiles,d,T)}}return this.renderedRevision=h,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!Ro(this.renderedExtent_,k),this.renderedExtent_=k,this.renderedPixelRatio=c,this.renderedProjection=s,this.manageTilePyramid(n,d,p,c,s,m,_,f.getPreload()),this.scheduleExpireCache(n,d),this.postRender(W,n),i.extent&&W.restore(),ze!==pe.style.transform&&(pe.style.transform=ze),this.container},t.prototype.drawTileImage=function(n,r,i,o,s,a,u,l,c){var f=this.getTileImage(n);if(f){var d=xt(this),h=l?n.getAlpha(d,r.time):1,p=c*h,_=p!==this.context.globalAlpha;_&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(f,u,u,f.width-2*u,f.height-2*u,i,o,s,a),_&&this.context.restore(),1!==h?r.animate=!0:l&&n.endTransition(d)}},t.prototype.getImage=function(){var n=this.context;return n?n.canvas:null},t.prototype.getTileImage=function(n){return n.getImage()},t.prototype.scheduleExpireCache=function(n,r){if(r.canExpireCache()){var i=function(o,s,a){var u=xt(o);u in a.usedTiles&&o.expireCache(a.viewState.projection,a.usedTiles[u])}.bind(null,r);n.postRenderFunctions.push(i)}},t.prototype.updateUsedTiles=function(n,r,i){var o=xt(r);o in n||(n[o]={}),n[o][i.getKey()]=!0},t.prototype.manageTilePyramid=function(n,r,i,o,s,a,u,l,c){var f=xt(r);f in n.wantedTiles||(n.wantedTiles[f]={});var g,m,y,v,E,w,d=n.wantedTiles[f],h=n.tileQueue,_=0;for(w=i.getMinZoom();w<=u;++w)for(m=i.getTileRangeForExtentAndZ(a,w,m),y=i.getResolution(w),v=m.minX;v<=m.maxX;++v)for(E=m.minY;E<=m.maxY;++E)u-w<=l?(++_,0==(g=r.getTile(w,v,E,o,s)).getState()&&(d[g.getKey()]=!0,h.isKeyQueued(g.getKey())||h.enqueue([g,f,i.getTileCoordCenter(g.tileCoord),y])),void 0!==c&&c(g)):r.useTile(w,v,E,s);r.updateCacheSize(_,s)},t}(Hb);var u4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const zb=function(e){function t(n){return e.call(this,n)||this}return u4(t,e),t.prototype.createRenderer=function(){return new a4(this)},t}(e4);var c4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const d4=function(e){function t(n){return e.call(this,n||{})||this}return c4(t,e),t}(jD);var h4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const g4=function(e){function t(n){var r=e.call(this,n)||this;return r.image_=null,r}return h4(t,e),t.prototype.getImage=function(){return this.image_?this.image_.getImage():null},t.prototype.prepareFrame=function(n){var r=n.layerStatesArray[n.layerIndex],i=n.pixelRatio,o=n.viewState,s=o.resolution,a=this.getLayer().getSource(),u=n.viewHints,l=n.extent;if(void 0!==r.extent&&(l=Nr(l,jr(r.extent))),!u[0]&&!u[1]&&!Gl(l))if(a){var d=a.getImage(l,s,i,o.projection);d&&this.loadImage(d)&&(this.image_=d)}else this.image_=null;return!!this.image_},t.prototype.renderFrame=function(n,r){var i=this.image_,o=i.getExtent(),s=i.getResolution(),a=i.getPixelRatio(),u=n.layerStatesArray[n.layerIndex],l=n.pixelRatio,c=n.viewState,f=c.center,h=n.size,p=l*s/(c.resolution*a),_=Math.round(h[0]*l),g=Math.round(h[1]*l),m=c.rotation;if(m){var y=Math.round(Math.sqrt(_*_+g*g));_=y,g=y}Sr(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/l,1/l,m,-_/2,-g/2),Bl(this.inversePixelTransform,this.pixelTransform);var v=XD(this.pixelTransform);this.useContainer(r,v,u.opacity);var E=this.context,w=E.canvas;w.width!=_||w.height!=g?(w.width=_,w.height=g):this.containerReused||E.clearRect(0,0,_,g);var x=!1;if(u.extent){var R=jr(u.extent);(x=!wD(R,n.extent)&&Ul(R,n.extent))&&this.clipUnrotated(E,n,R)}var A=i.getImage(),k=Sr(this.tempTransform,_/2,g/2,p,p,0,a*(o[0]-f[0])/s,a*(f[1]-o[3])/s);this.renderedResolution=s*l/a;var F=k[4],M=k[5],B=A.width*k[0],V=A.height*k[3];if(tt(E,this.getLayer().getSource().getContextOptions()),this.preRender(E,n),B>=.5&&V>=.5){var C=u.opacity,b=void 0;1!==C&&(b=this.context.globalAlpha,this.context.globalAlpha=C),this.context.drawImage(A,0,0,+A.width,+A.height,Math.round(F),Math.round(M),Math.round(B),Math.round(V)),1!==C&&(this.context.globalAlpha=b)}return this.postRender(E,n),x&&E.restore(),v!==w.style.transform&&(w.style.transform=v),this.container},t}(Hb);var _4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const hc=function(e){function t(n){return e.call(this,n)||this}return _4(t,e),t.prototype.createRenderer=function(){return new g4(this)},t}(d4);var y4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const lg=function(e){function t(n,r,i,o){var s=e.call(this)||this;return s.extent=n,s.pixelRatio_=i,s.resolution=r,s.state=o,s}return y4(t,e),t.prototype.changed=function(){this.dispatchEvent("change")},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return ve()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){ve()},t}(_a);var E4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const w4=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,r,i,void 0!==s?0:2)||this).loader_=void 0!==s?s:null,a.canvas_=o,a.error_=null,a}return E4(t,e),t.prototype.getError=function(){return this.error_},t.prototype.handleLoad_=function(n){n?(this.error_=n,this.state=3):this.state=2,this.changed()},t.prototype.load=function(){0==this.state&&(this.state=1,this.changed(),this.loader_(this.handleLoad_.bind(this)))},t.prototype.getImage=function(){return this.canvas_},t}(lg),qb=function(){function e(t,n,r,i,o,s){this.sourceProj_=t,this.targetProj_=n;var a={},u=Ca(this.targetProj_,this.sourceProj_);this.transformInv_=function(v){var E=v[0]+"/"+v[1];return a[E]||(a[E]=u(v)),a[E]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Le(i)==Le(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Le(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Le(this.targetProj_.getExtent()):null;var l=Fr(r),c=Po(r),f=pa(r),d=Ao(r),h=this.transformInv_(l),p=this.transformInv_(c),_=this.transformInv_(f),g=this.transformInv_(d),m=10+(s?Math.max(0,Math.ceil(IH(Hl(r)/(s*s*256*256)))):0);if(this.addQuad_(l,c,f,d,h,p,_,g,m),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(v,E,w){y=Math.min(y,v.source[0][0],v.source[1][0],v.source[2][0])}),this.triangles_.forEach(function(v){if(Math.max(v.source[0][0],v.source[1][0],v.source[2][0])-y>this.sourceWorldWidth_/2){var E=[[v.source[0][0],v.source[0][1]],[v.source[1][0],v.source[1][1]],[v.source[2][0],v.source[2][1]]];E[0][0]-y>this.sourceWorldWidth_/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-y>this.sourceWorldWidth_/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-y>this.sourceWorldWidth_/2&&(E[2][0]-=this.sourceWorldWidth_);var w=Math.min(E[0][0],E[1][0],E[2][0]);Math.max(E[0][0],E[1][0],E[2][0])-w<this.sourceWorldWidth_/2&&(v.source=E)}}.bind(this))}a={}}return e.prototype.addTriangle_=function(t,n,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[t,n,r]})},e.prototype.addQuad_=function(t,n,r,i,o,s,a,u,l){var c=ED([o,s,a,u]),f=this.sourceWorldWidth_?Le(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&f>.5&&f<1,p=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=Le(ED([t,n,r,i]))/this.targetWorldWidth_>.25||p),!h&&this.sourceProj_.isGlobal()&&f&&(p=f>.25||p)),!(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||Ul(c,this.maxSourceExtent_)){var m=0;if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(u[0])&&isFinite(u[1])))if(l>0)p=!0;else if(1!=(m=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=m&&4!=m&&8!=m)return;if(l>0){if(!p){var v=this.transformInv_([(t[0]+r[0])/2,(t[1]+r[1])/2]),E=void 0;E=h?(Oo(o[0],d)+Oo(a[0],d))/2-Oo(v[0],d):(o[0]+a[0])/2-v[0];var x=(o[1]+a[1])/2-v[1];p=E*E+x*x>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var A=[(n[0]+r[0])/2,(n[1]+r[1])/2],k=this.transformInv_(A),F=[(i[0]+t[0])/2,(i[1]+t[1])/2],M=this.transformInv_(F);this.addQuad_(t,n,A,F,o,s,k,M,l-1),this.addQuad_(F,A,r,i,M,k,a,u,l-1)}else{var B=[(t[0]+n[0])/2,(t[1]+n[1])/2],V=this.transformInv_(B),C=[(r[0]+i[0])/2,(r[1]+i[1])/2],b=this.transformInv_(C);this.addQuad_(t,B,C,i,o,V,b,u,l-1),this.addQuad_(B,n,r,C,V,s,a,b,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&m)&&this.addTriangle_(t,r,i,o,a,u),0==(14&m)&&this.addTriangle_(t,r,n,o,a,s),m&&(0==(13&m)&&this.addTriangle_(n,i,t,s,u,o),0==(7&m)&&this.addTriangle_(n,i,r,s,u,a))}},e.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(n,r,i){var o=n.source;ha(t,o[0]),ha(t,o[1]),ha(t,o[2])}),t},e.prototype.getTriangles=function(){return this.triangles_},e}();var fg,cg={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function Zb(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function dg(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function hg(e,t,n,r){var i=Vo(n,t,e),o=sb(t,r,n),s=t.getMetersPerUnit();void 0!==s&&(o*=s);var a=e.getMetersPerUnit();void 0!==a&&(o/=a);var u=e.getExtent();if(!u||xp(u,i)){var l=sb(e,o,i)/o;isFinite(l)&&l>0&&(o/=l)}return o}function Yb(e,t,n,r,i,o,s,a,u,l,c,f){var d=fr(Math.round(n*e),Math.round(n*t));if(tt(d,f),0===u.length)return d.canvas;function h(E){return Math.round(E*n)/n}d.scale(n,n),d.globalCompositeOperation="lighter";var p=[1/0,1/0,-1/0,-1/0];u.forEach(function(E,w,x){!function(e,t){t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3])}(p,E.extent)});var _=Le(p),g=Mt(p),m=fr(Math.round(n*_/r),Math.round(n*g/r));tt(m,f);var y=n/r;u.forEach(function(E,w,x){var R=E.extent[0]-p[0],A=-(E.extent[3]-p[3]),k=Le(E.extent),F=Mt(E.extent);E.image.width>0&&E.image.height>0&&m.drawImage(E.image,l,l,E.image.width-2*l,E.image.height-2*l,R*y,A*y,k*y,F*y)});var v=Fr(s);return a.getTriangles().forEach(function(E,w,x){var R=E.source,A=E.target,k=R[0][0],F=R[0][1],M=R[1][0],B=R[1][1],V=R[2][0],C=R[2][1],b=h((A[0][0]-v[0])/o),D=h(-(A[0][1]-v[1])/o),T=h((A[1][0]-v[0])/o),N=h(-(A[1][1]-v[1])/o),S=h((A[2][0]-v[0])/o),L=h(-(A[2][1]-v[1])/o),H=k,$=F;k=0,F=0;var W=function(e){for(var t=e.length,n=0;n<t;n++){for(var r=n,i=Math.abs(e[n][n]),o=n+1;o<t;o++){var s=Math.abs(e[o][n]);s>i&&(i=s,r=o)}if(0===i)return null;var a=e[r];e[r]=e[n],e[n]=a;for(var u=n+1;u<t;u++)for(var l=-e[u][n]/e[n][n],c=n;c<t+1;c++)n==c?e[u][c]=0:e[u][c]+=l*e[n][c]}for(var f=new Array(t),d=t-1;d>=0;d--){f[d]=e[d][t]/e[d][d];for(var h=d-1;h>=0;h--)e[h][t]-=e[h][d]*f[d]}return f}([[M-=H,B-=$,0,0,T-b],[V-=H,C-=$,0,0,S-b],[0,0,M,B,N-D],[0,0,V,C,L-D]]);if(W){if(d.save(),d.beginPath(),function(){if(void 0===fg){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",Zb(e,4,5,4,0),Zb(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;fg=dg(t,0)||dg(t,4)||dg(t,8)}return fg}()||f===cg){d.moveTo(T,N);for(var Se=b-T,ue=D-N,be=0;be<4;be++)d.lineTo(T+h((be+1)*Se/4),N+h(be*ue/3)),3!=be&&d.lineTo(T+h((be+1)*Se/4),N+h((be+1)*ue/3));d.lineTo(S,L)}else d.moveTo(T,N),d.lineTo(b,D),d.lineTo(S,L);d.clip(),d.transform(W[0],W[2],W[1],W[3],b,D),d.translate(p[0]-H,p[3]-$),d.scale(r/n,-r/n),d.drawImage(m.canvas,0,0),d.restore()}}),c&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(E,w,x){var R=E.target,A=(R[0][0]-v[0])/o,k=-(R[0][1]-v[1])/o,F=(R[1][0]-v[0])/o,M=-(R[1][1]-v[1])/o,B=(R[2][0]-v[0])/o,V=-(R[2][1]-v[1])/o;d.beginPath(),d.moveTo(F,M),d.lineTo(A,k),d.lineTo(B,V),d.closePath(),d.stroke()}),d.restore()),d.canvas}var x4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const R4=function(e){function t(n,r,i,o,s,a,u){var l=this,c=n.getExtent(),f=r.getExtent(),d=f?Nr(i,f):i,p=hg(n,r,Or(d),o),g=new qb(n,r,d,c,.5*p,o),y=a(g.calculateSourceExtent(),p,s),v=y?0:4,E=y?y.getPixelRatio():1;return(l=e.call(this,i,o,E,v)||this).targetProj_=r,l.maxSourceExtent_=c,l.triangulation_=g,l.targetResolution_=o,l.targetExtent_=i,l.sourceImage_=y,l.sourcePixelRatio_=E,l.contextOptions_=u,l.canvas_=null,l.sourceListenerKey_=null,l}return x4(t,e),t.prototype.disposeInternal=function(){1==this.state&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.getProjection=function(){return this.targetProj_},t.prototype.reproject_=function(){var n=this.sourceImage_.getState();if(2==n){var r=Le(this.targetExtent_)/this.targetResolution_,i=Mt(this.targetExtent_)/this.targetResolution_;this.canvas_=Yb(r,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),0,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=n,this.changed()},t.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var n=this.sourceImage_.getState();2==n||3==n?this.reproject_():(this.sourceListenerKey_=Ce(this.sourceImage_,"change",function(r){var i=this.sourceImage_.getState();(2==i||3==i)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},t.prototype.unlistenSource_=function(){ke(this.sourceListenerKey_),this.sourceListenerKey_=null},t}(lg);var A4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Xb(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}const pc=function(e){function t(n){var r=e.call(this)||this;return r.projection_=At(n.projection),r.attributions_=Xb(n.attributions),r.attributionsCollapsible_=void 0===n.attributionsCollapsible||n.attributionsCollapsible,r.loading=!1,r.state_=void 0!==n.state?n.state:"ready",r.wrapX_=void 0!==n.wrapX&&n.wrapX,r}return A4(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolutions=function(){return ve()},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getContextOptions=function(){},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(n){this.attributions_=Xb(n),this.changed()},t.prototype.setState=function(n){this.state_=n,this.changed()},t}(cr);var Qb=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gg=function(e){function t(n,r){var i=e.call(this,n)||this;return i.image=r,i}return Qb(t,e),t}(lr);const Jb=function(e){function t(n){var r=e.call(this,{attributions:n.attributions,projection:n.projection,state:n.state})||this;return r.resolutions_=void 0!==n.resolutions?n.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r.contextOptions_=!1===n.imageSmoothing?cg:void 0,r}return Qb(t,e),t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getContextOptions=function(){return this.contextOptions_},t.prototype.findNearestResolution=function(n){if(this.resolutions_){var r=kl(this.resolutions_,n,0);n=this.resolutions_[r]}return n},t.prototype.getImage=function(n,r,i,o){var s=this.getProjection();if(!s||!o||Vr(s,o))return s&&(o=s),this.getImageInternal(n,r,i,o);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Vr(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==r&&Ro(this.reprojectedImage_.getExtent(),n))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new R4(s,o,n,r,i,function(a,u,l){return this.getImageInternal(a,u,l,s)}.bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},t.prototype.getImageInternal=function(n,r,i,o){return ve()},t.prototype.handleImageChange=function(n){var r=n.target;switch(r.getState()){case 1:this.loading=!0,this.dispatchEvent(new gg("imageloadstart",r));break;case 2:this.loading=!1,this.dispatchEvent(new gg("imageloadend",r));break;case 3:this.loading=!1,this.dispatchEvent(new gg("imageloaderror",r))}},t}(pc),N4=function(){function e(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var n=this.oldest_;n;)t(n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t,n){var r=this.entries_[t];return Ee(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},e.prototype.remove=function(t){var n=this.entries_[t];return Ee(void 0!==n,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var r,t=new Array(this.count_),n=0;for(r=this.newest_;r;r=r.older)t[n++]=r.key_;return t},e.prototype.getValues=function(){var r,t=new Array(this.count_),n=0;for(r=this.newest_;r;r=r.older)t[n++]=r.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,n){this.get(t),this.entries_[t].value_=n},e.prototype.set=function(t,n){Ee(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}();function eI(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function gc(e,t,n){return e+"/"+t+"/"+n}function tI(e){return gc(e[0],e[1],e[2])}var V4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const nI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V4(t,e),t.prototype.expireCache=function(n){for(;this.canExpireCache()&&!(this.peekLast().getKey()in n);)this.pop().release()},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var i=function(e){return e.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(tI(o.tileCoord)),o.release())}.bind(this))}},t}(N4);var B4=[0,0,0];const rI=function(){function e(t){var n;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Ee(function(e,t,n){var r=function(s,a){return a-s}||Ll;return e.every(function(i,o){if(0===o)return!0;var s=r(e[o-1],i);return!(s>0||0===s)})}(this.resolutions_),17),!t.origins)for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(n){if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}else n=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Ee(this.origins_.length==this.resolutions_.length,20));var o=t.extent;void 0!==o&&!this.origin_&&!this.origins_&&(this.origin_=Fr(o)),Ee(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Ee(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,Ee(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(s,a){var u=new Gb(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var l=this.getTileRangeForExtentAndZ(o,a);u.minX=Math.max(l.minX,u.minX),u.maxX=Math.min(l.maxX,u.maxX),u.minY=Math.max(l.minY,u.minY),u.maxY=Math.min(l.maxY,u.maxY)}return u},this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(t,n,r){for(var i=this.getTileRangeForExtentAndZ(t,n),o=i.minX,s=i.maxX;o<=s;++o)for(var a=i.minY,u=i.maxY;a<=u;++a)r([n,o,a])},e.prototype.forEachTileCoordParentTileRange=function(t,n,r,i){var s,a,u=null,l=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):u=this.getTileCoordExtent(t,i);l>=this.minZoom;){if(n(l,2===this.zoomFactor_?ug(s=Math.floor(s/2),s,a=Math.floor(a/2),a,r):this.getTileRangeForExtentAndZ(u,l,r)))return!0;--l}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},e.prototype.getResolution=function(t){return this.resolutions_[t]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(t,n,r){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],o=2*t[2];return ug(i,i+1,o,o+1,n)}var s=this.getTileCoordExtent(t,r);return this.getTileRangeForExtentAndZ(s,t[0]+1,n)}return null},e.prototype.getTileRangeExtent=function(t,n,r){var i=this.getOrigin(t),o=this.getResolution(t),s=Br(this.getTileSize(t),this.tmpSize_);return pi(i[0]+n.minX*s[0]*o,i[1]+n.minY*s[1]*o,i[0]+(n.maxX+1)*s[0]*o,i[1]+(n.maxY+1)*s[1]*o,r)},e.prototype.getTileRangeForExtentAndZ=function(t,n,r){var i=B4;this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,i);var o=i[1],s=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,i),ug(o,i[1],s,i[2],r)},e.prototype.getTileCoordCenter=function(t){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=Br(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*i[0]*r,n[1]-(t[2]+.5)*i[1]*r]},e.prototype.getTileCoordExtent=function(t,n){var r=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=Br(this.getTileSize(t[0]),this.tmpSize_),s=r[0]+t[1]*o[0]*i,a=r[1]-(t[2]+1)*o[1]*i;return pi(s,a,s+o[0]*i,a+o[1]*i,n)},e.prototype.getTileCoordForCoordAndResolution=function(t,n,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(t,n,r,i,o){var s=this.getZForResolution(r),a=r/this.getResolution(s),u=this.getOrigin(s),l=Br(this.getTileSize(s),this.tmpSize_),f=i?.5:0,d=Math.floor((t-u[0])/r+(i?.5:0)),h=Math.floor((u[1]-n)/r+f),p=a*d/l[0],_=a*h/l[1];return i?(p=Math.ceil(p)-1,_=Math.ceil(_)-1):(p=Math.floor(p),_=Math.floor(_)),eI(s,p,_,o)},e.prototype.getTileCoordForXYAndZ_=function(t,n,r,i,o){var s=this.getOrigin(r),a=this.getResolution(r),u=Br(this.getTileSize(r),this.tmpSize_),c=i?.5:0,f=Math.floor((t-s[0])/a+(i?.5:0)),d=Math.floor((s[1]-n)/a+c),h=f/u[0],p=d/u[1];return i?(h=Math.ceil(h)-1,p=Math.ceil(p)-1):(h=Math.floor(h),p=Math.floor(p)),eI(r,h,p,o)},e.prototype.getTileCoordForCoordAndZ=function(t,n,r){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,r)},e.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},e.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},e.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},e.prototype.getZForResolution=function(t,n){return et(kl(this.resolutions_,t,n||0),this.minZoom,this.maxZoom)},e.prototype.calculateTileRanges_=function(t){for(var n=this.resolutions_.length,r=new Array(n),i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r},e}();function iI(e){var t=e.getDefaultTileGrid();return t||(t=function(e,t,n,r){return function(e,t,n,r){var o=oI(e,undefined,n);return new rI({extent:e,origin:vH(e,"top-left"),resolutions:o,tileSize:n})}(_g(e),0,void 0)}(e),e.setDefaultTileGrid(t)),t}function _c(e){var t=e||{},n=t.extent||At("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:oI(n,t.maxZoom,t.tileSize,t.maxResolution)};return new rI(r)}function oI(e,t,n,r){for(var i=void 0!==t?t:42,o=Mt(e),s=Le(e),a=Br(void 0!==n?n:256),u=r>0?r:Math.max(s/a[0],o/a[1]),l=i+1,c=new Array(l),f=0;f<l;++f)c[f]=u/Math.pow(2,f);return c}function _g(e){var t=(e=At(e)).getExtent();if(!t){var n=180*hr[kr.DEGREES]/e.getMetersPerUnit();t=pi(-n,-n,n,n)}return t}var sI=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z4=function(e){function t(n){var r=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,projection:n.projection,state:n.state,wrapX:n.wrapX})||this;r.opaque_=void 0!==n.opaque&&n.opaque,r.tilePixelRatio_=void 0!==n.tilePixelRatio?n.tilePixelRatio:1,r.tileGrid=void 0!==n.tileGrid?n.tileGrid:null;var o=n.tileGrid;return o&&Br(o.getTileSize(o.getMinZoom()),[256,256]),r.tileCache=new nI(n.cacheSize||0),r.tmpSize=[0,0],r.key_=n.key||"",r.tileOptions={transition:n.transition},r.zDirection=n.zDirection?n.zDirection:0,r}return sI(t,e),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);i&&i.expireCache(r)},t.prototype.forEachLoadedTile=function(n,r,i,o){var s=this.getTileCacheForProjection(n);if(!s)return!1;for(var u,l,c,a=!0,f=i.minX;f<=i.maxX;++f)for(var d=i.minY;d<=i.maxY;++d)l=gc(r,f,d),c=!1,s.containsKey(l)&&(c=2===(u=s.get(l)).getState())&&(c=!1!==o(u)),c||(a=!1);return a},t.prototype.getGutterForProjection=function(n){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(n){this.key_!==n&&(this.key_=n,this.changed())},t.prototype.getOpaque=function(n){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(n,r,i,o,s){return ve()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(n){return this.tileGrid?this.tileGrid:iI(n)},t.prototype.getTileCacheForProjection=function(n){return Ee(Vr(this.getProjection(),n),68),this.tileCache},t.prototype.getTilePixelRatio=function(n){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(n,r,i){var o=this.getTileGridForProjection(i),s=this.getTilePixelRatio(r),a=Br(o.getTileSize(n),this.tmpSize);return 1==s?a:function(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}(a,s,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(n,r){var i=void 0!==r?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(n=function(e,t,n){var r=t[0],i=e.getTileCoordCenter(t),o=_g(n);if(xp(o,i))return t;var s=Le(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,e.getTileCoordForCoordAndZ(i,r)}(o,n,i)),function(e,t){var n=e[0],r=e[1],i=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var o=t.getFullTileRange(n);return!o||o.containsXY(r,i)}(n,o)?n:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(n,r){var i=this.getTileCacheForProjection(r);n>i.highWaterMark&&(i.highWaterMark=n)},t.prototype.useTile=function(n,r,i,o){},t}(pc),W4=function(e){function t(n,r){var i=e.call(this,n)||this;return i.tile=r,i}return sI(t,e),t}(lr);const aI=z4;var mg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uI=!0;try{new ImageData(10,10)}catch(e){uI=!1}var K4=document.createElement("canvas").getContext("2d");function lI(e){var t=!0;try{new ImageData(10,10)}catch(r){t=!1}function n(r,i,o){return t?new ImageData(r,i,o):{data:r,width:i,height:o}}return function(r){var f,d,i=r.buffers,o=r.meta,a=r.width,u=r.height,l=i.length,c=i[0].byteLength;if(r.imageOps){var h=new Array(l);for(d=0;d<l;++d)h[d]=n(new Uint8ClampedArray(i[d]),a,u);f=e(h,o).data}else{f=new Uint8ClampedArray(c);var p=new Array(l),_=new Array(l);for(d=0;d<l;++d)p[d]=new Uint8ClampedArray(i[d]),_[d]=[0,0,0,0];for(var g=0;g<c;g+=4){for(var m=0;m<l;++m){var y=p[m];_[m][0]=y[g],_[m][1]=y[g+1],_[m][2]=y[g+2],_[m][3]=y[g+3]}var v=e(_,o);f[g]=v[0],f[g+1]=v[1],f[g+2]=v[2],f[g+3]=v[3]}}return f.buffer}}function Z4(e,t){var r=Object.keys(e.lib||{}).map(function(a){return"var "+a+" = "+e.lib[a].toString()+";"}).concat(["var __minion__ = ("+lI.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Blob(r,{type:"text/javascript"}),o=URL.createObjectURL(i),s=new Worker(o);return s.addEventListener("message",t),s}var X4=function(e){function t(n){var i,r=e.call(this)||this;r._imageOps=!!n.imageOps;var o=[];if(i=0===n.threads?0:r._imageOps?1:n.threads||1)for(var s=0;s<i;++s)o[s]=Z4(n,r._onWorkerMessage.bind(r,s));else o[0]=function(e,t){var n=lI(e.operation),r=!1;return{postMessage:function(i){setTimeout(function(){r||t({data:{buffer:n(i),meta:i.meta}})},0)},terminate:function(){r=!0}}}(n,r._onWorkerMessage.bind(r,0));return r._workers=o,r._queue=[],r._maxQueueLength=n.queue||1/0,r._running=0,r._dataLookup={},r._job=null,r}return mg(t,e),t.prototype.process=function(n,r,i){this._enqueue({inputs:n,meta:r,callback:i}),this._dispatch()},t.prototype._enqueue=function(n){for(this._queue.push(n);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},t.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var n=this._queue.shift();this._job=n;var r=n.inputs[0].width,i=n.inputs[0].height,o=n.inputs.map(function(p){return p.data.buffer}),s=this._workers.length;if(this._running=s,1===s)this._workers[0].postMessage({buffers:o,meta:n.meta,imageOps:this._imageOps,width:r,height:i},o);else for(var u=4*Math.ceil(n.inputs[0].data.length/4/s),l=0;l<s;++l){for(var c=l*u,f=[],d=0,h=o.length;d<h;++d)f.push(o[d].slice(c,c+u));this._workers[l].postMessage({buffers:f,meta:n.meta,imageOps:this._imageOps,width:r,height:i},f)}}},t.prototype._onWorkerMessage=function(n,r){this.disposed||(this._dataLookup[n]=r.data,--this._running,0===this._running&&this._resolveJob())},t.prototype._resolveJob=function(){var i,o,n=this._job,r=this._workers.length;if(1===r)i=new Uint8ClampedArray(this._dataLookup[0].buffer),o=this._dataLookup[0].meta;else{var s=n.inputs[0].data.length;i=new Uint8ClampedArray(s),o=new Array(s);for(var a=4*Math.ceil(s/4/r),u=0;u<r;++u){var c=u*a;i.set(new Uint8ClampedArray(this._dataLookup[u].buffer),c),o[u]=this._dataLookup[u].meta}}this._job=null,this._dataLookup={},n.callback(null,function(e,t,n){if(uI)return new ImageData(e,t,n);var r=K4.createImageData(t,n);return r.data.set(e),r}(i,n.inputs[0].width,n.inputs[0].height),o),this._dispatch()},t.prototype.disposeInternal=function(){for(var n=0;n<this._workers.length;++n)this._workers[n].terminate();this._workers.length=0},t}(Fl),dI=function(e){function t(n,r,i){var o=e.call(this,n)||this;return o.extent=r.extent,o.resolution=r.viewState.resolution/r.pixelRatio,o.data=i,o}return mg(t,e),t}(lr),hI=function(e){function t(n){var r=e.call(this,{projection:null})||this;r.processor_=null,r.operationType_=void 0!==n.operationType?n.operationType:"pixel",r.threads_=void 0!==n.threads?n.threads:1,r.layers_=function(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=t5(e[r]);return n}(n.sources);for(var i=r.changed.bind(r),o=0,s=r.layers_.length;o<s;++o)r.layers_[o].addEventListener("change",i);return r.tileQueue_=new eb(function(){return 1},r.changed.bind(r)),r.renderedImageCanvas_=null,r.frameState_={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:J4(r.layers_),pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],tileQueue:r.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},r.setAttributions(function(a){for(var u=[],l=0,c=n.sources.length;l<c;++l){var f=n.sources[l],h=(f instanceof pc?f:f.getSource()).getAttributions();if("function"==typeof h){var p=h(a);u.push.apply(u,p)}}return 0!==u.length?u:null}),void 0!==n.operation&&r.setOperation(n.operation,n.lib),r}return mg(t,e),t.prototype.setOperation=function(n,r){this.processor_&&this.processor_.dispose(),this.processor_=new X4({operation:n,imageOps:"image"===this.operationType_,queue:1,lib:r,threads:this.threads_}),this.changed()},t.prototype.updateFrameState_=function(n,r,i){var o=tt({},this.frameState_);o.viewState=tt({},o.viewState);var s=Or(n);o.extent=n.slice(),o.size[0]=Math.round(Le(n)/r),o.size[1]=Math.round(Mt(n)/r),o.time=1/0;var a=o.viewState;return a.center=s,a.projection=i,a.resolution=r,o},t.prototype.allSourcesReady_=function(){for(var n=!0,i=0,o=this.layers_.length;i<o;++i)if("ready"!==this.layers_[i].getSource().getState()){n=!1;break}return n},t.prototype.getImage=function(n,r,i,o){if(!this.allSourcesReady_())return null;var s=this.updateFrameState_(n,r,o);if(this.requestedFrameState_=s,this.renderedImageCanvas_){var a=this.renderedImageCanvas_.getResolution(),u=this.renderedImageCanvas_.getExtent();(r!==a||!Ro(n,u))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),s.tileQueue.loadMoreTiles(16,16),s.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},t.prototype.processSources_=function(){for(var n=this.requestedFrameState_,r=this.layers_.length,i=new Array(r),o=0;o<r;++o){n.layerIndex=o;var s=Q4(this.layers_[o],n);if(!s)return;i[o]=s}var a={};this.dispatchEvent(new dI("beforeoperations",n,a)),this.processor_.process(i,a,this.onWorkerComplete_.bind(this,n))},t.prototype.onWorkerComplete_=function(n,r,i,o){if(!r&&i){var u,s=n.extent,a=n.viewState.resolution;if(a===this.requestedFrameState_.viewState.resolution&&Ro(s,this.requestedFrameState_.extent))this.renderedImageCanvas_?u=this.renderedImageCanvas_.getImage().getContext("2d"):(u=fr(Math.round(Le(s)/a),Math.round(Mt(s)/a)),this.renderedImageCanvas_=new w4(s,a,1,u.canvas)),u.putImageData(i,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new dI("afteroperations",n,o))}},t.prototype.getImageInternal=function(){return null},t.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose(),e.prototype.disposeInternal.call(this)},t}(Jb),Ei=null;function Q4(e,t){var n=e.getRenderer();if(!n)throw new Error("Unsupported layer type: "+e);if(!n.prepareFrame(t))return null;var r=t.size[0],i=t.size[1];if(0===r||0===i)return null;var s,o=n.renderFrame(t,null);if(o&&(s=o.firstElementChild),!(s instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+s);if(s.width===r&&s.height===i)return s.getContext("2d").getImageData(0,0,r,i);if(Ei){var u=Ei.canvas;u.width!==r||u.height!==i?Ei=fr(r,i):Ei.clearRect(0,0,r,i)}else Ei=fr(r,i);return Ei.drawImage(s,0,0,r,i),Ei.getImageData(0,0,r,i)}function J4(e){return e.map(function(t){return t.getLayerState()})}function t5(e){var t;return e instanceof pc?e instanceof aI?t=new zb({source:e}):e instanceof Jb&&(t=new hc({source:e})):t=e,t}const yg=hI;var n5=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pI=function(e){function t(n,r,i){var o=e.call(this)||this,s=i||{};return o.tileCoord=n,o.state=r,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===s.transition?250:s.transition,o.transitionStarts_={},o}return n5(t,e),t.prototype.changed=function(){this.dispatchEvent("change")},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var n=this.interimTile;do{if(2==n.getState())return this.transition_=0,n;n=n.interimTile}while(n);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var n=this.interimTile,r=this;do{if(2==n.getState()){n.interimTile=null;break}1==n.getState()?r=n:0==n.getState()?r.interimTile=n.interimTile:r=n,n=r.interimTile}while(n)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(n){if(3!==this.state&&this.state>n)throw new Error("Tile load sequence violation");this.state=n,this.changed()},t.prototype.load=function(){ve()},t.prototype.getAlpha=function(n,r){if(!this.transition_)return 1;var i=this.transitionStarts_[n];if(i){if(-1===i)return 1}else this.transitionStarts_[n]=i=r;var o=r-i+1e3/60;return o>=this.transition_?1:hb(o/this.transition_)},t.prototype.inTransition=function(n){return!!this.transition_&&-1!==this.transitionStarts_[n]},t.prototype.endTransition=function(n){this.transition_&&(this.transitionStarts_[n]=-1)},t}(_a);var i5=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function gI(e,t,n){var r=e;if(r.src&&WD){var i=r.decode(),o=!0;return i.then(function(){o&&t()}).catch(function(u){o&&("EncodingError"===u.name&&"Invalid image type."===u.message?t():n())}),function(){o=!1}}var a=[zl(r,"load",t),zl(r,"error",n)];return function(){a.forEach(ke)}}!function(e){function t(n,r,i,o,s,a){var u=e.call(this,n,r,i,0)||this;return u.src_=o,u.image_=new Image,null!==s&&(u.image_.crossOrigin=s),u.unlisten_=null,u.state=0,u.imageLoadFunction_=a,u}i5(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Mt(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=gI(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(n){this.image_=n},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(lg);var o5=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const u5=function(e){function t(n,r,i,o,s,a){var u=e.call(this,n,r,a)||this;return u.crossOrigin_=o,u.src_=i,u.key=i,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.tileLoadFunction_=s,u}return o5(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function(){var e=fr(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()},t.prototype.handleImageLoad_=function(){var n=this.image_;this.state=n.naturalWidth&&n.naturalHeight?2:4,this.unlistenImage_(),this.changed()},t.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=gI(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(pI);var l5=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const f5=function(e){function t(n,r,i,o,s,a,u,l,c,f,d,h){var p=e.call(this,s,0)||this;p.renderEdges_=void 0!==d&&d,p.contextOptions_=h,p.pixelRatio_=u,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=r,p.targetTileGrid_=o,p.wrappedTileCoord_=a||s,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var _=o.getTileCoordExtent(p.wrappedTileCoord_),g=p.targetTileGrid_.getExtent(),m=p.sourceTileGrid_.getExtent(),y=g?Nr(_,g):_;if(0===Hl(y))return p.state=4,p;var v=n.getExtent();v&&(m=m?Nr(m,v):v);var E=o.getResolution(p.wrappedTileCoord_[0]),w=function(e,t,n,r){var i=Or(n),o=hg(e,t,i,r);return(!isFinite(o)||o<=0)&&xD(n,function(s){return o=hg(e,t,s,r),isFinite(o)&&o>0}),o}(n,i,y,E);if(!isFinite(w)||w<=0)return p.state=4,p;if(p.triangulation_=new qb(n,i,y,m,w*(void 0!==f?f:.5),E),0===p.triangulation_.getTriangles().length)return p.state=4,p;p.sourceZ_=r.getZForResolution(w);var R=p.triangulation_.calculateSourceExtent();if(m&&(n.canWrapX()?(R[1]=et(R[1],m[1],m[3]),R[3]=et(R[3],m[1],m[3])):R=Nr(R,m)),Hl(R)){for(var A=r.getTileRangeForExtentAndZ(R,p.sourceZ_),k=A.minX;k<=A.maxX;k++)for(var F=A.minY;F<=A.maxY;F++){var M=c(p.sourceZ_,k,F,u);M&&p.sourceTiles_.push(M)}0===p.sourceTiles_.length&&(p.state=4)}else p.state=4;return p}return l5(t,e),t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var n=[];if(this.sourceTiles_.forEach(function(c,f,d){c&&2==c.getState()&&n.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===n.length)this.state=3;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o="number"==typeof i?i:i[0],s="number"==typeof i?i:i[1],a=this.targetTileGrid_.getResolution(r),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Yb(o,s,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,n,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},t.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var n=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(r,i,o){var s=r.getState();if(0==s||1==s){n++;var a=Ce(r,"change",function(u){var l=r.getState();(2==l||3==l||4==l)&&(ke(a),0==--n&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}.bind(this)),this.sourceTiles_.forEach(function(r,i,o){0==r.getState()&&r.load()}),0===n&&setTimeout(this.reproject_.bind(this),0)}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ke),this.sourcesListenerKeys_=null},t}(pI);function d5(e,t){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,u){if(s)return e.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var c=t.getFullTileRange(s[0]);return Ee(c,55),(c.getHeight()-s[2]-1).toString()})}}var _5=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const y5=function(e){function t(n){var r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===t.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return _5(t,e),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(n){var s,r=n.target,i=xt(r),o=r.getState();1==o?(this.tileLoadingKeys_[i]=!0,s="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=3==o?"tileloaderror":2==o?"tileloadend":void 0),null!=s&&this.dispatchEvent(new W4(s,r))},t.prototype.setTileLoadFunction=function(n){this.tileCache.clear(),this.tileLoadFunction=n,this.changed()},t.prototype.setTileUrlFunction=function(n,r){this.tileUrlFunction=n,this.tileCache.pruneExceptNewestZ(),void 0!==r?this.setKey(r):this.changed()},t.prototype.setUrl=function(n){var r=function(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)t.push(e.replace(n[0],a.toString()));return t}return t.push(e),t}(n);this.urls=r,this.setUrls(r)},t.prototype.setUrls=function(n){this.urls=n;var r=n.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=d5(e[i],t);return function(e){return 1===e.length?e[0]:function(t,n,r){if(t){var o=Oo(function(e){return(e[1]<<e[0])+e[2]}(t),e.length);return e[o](t,n,r)}}}(r)}(n,this.tileGrid),r):this.setKey(r)},t.prototype.tileUrlFunction=function(n,r,i){},t.prototype.useTile=function(n,r,i){var o=gc(n,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},t}(aI);var v5=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function C5(e,t){e.getImage().src=t}const w5=function(e){function t(n){var r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction?n.tileLoadFunction:C5,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.crossOrigin=void 0!==n.crossOrigin?n.crossOrigin:null,r.tileClass=void 0!==n.tileClass?n.tileClass:u5,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=n.reprojectionErrorThreshold,r.contextOptions_=!1===n.imageSmoothing?cg:void 0,r.renderReprojectionEdges_=!1,r}return v5(t,e),t.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var n in this.tileCacheForProjection)if(this.tileCacheForProjection[n].canExpireCache())return!0;return!1},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);for(var o in this.tileCache.expireCache(this.tileCache==i?r:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==i?r:{})}},t.prototype.getContextOptions=function(){return this.contextOptions_},t.prototype.getGutterForProjection=function(n){return this.getProjection()&&n&&!Vr(this.getProjection(),n)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){return e.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},t.prototype.getOpaque=function(n){return!(this.getProjection()&&n&&!Vr(this.getProjection(),n))&&e.prototype.getOpaque.call(this,n)},t.prototype.getTileGridForProjection=function(n){var r=this.getProjection();if(this.tileGrid&&(!r||Vr(r,n)))return this.tileGrid;var i=xt(n);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=iI(n)),this.tileGridForProjection[i]},t.prototype.getTileCacheForProjection=function(n){var r=this.getProjection();if(!r||Vr(r,n))return this.tileCache;var i=xt(n);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new nI(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(n,r,i,o,s,a){var u=[n,r,i],l=this.getTileCoordForTileUrlFunction(u,s),c=l?this.tileUrlFunction(l,o,s):void 0,f=new this.tileClass(u,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=a,f.addEventListener("change",this.handleTileChange.bind(this)),f},t.prototype.getTile=function(n,r,i,o,s){var a=this.getProjection();if(!a||!s||Vr(a,s))return this.getTileInternal(n,r,i,o,a||s);var u=this.getTileCacheForProjection(s),l=[n,r,i],c=void 0,f=tI(l);u.containsKey(f)&&(c=u.get(f));var d=this.getKey();if(c&&c.key==d)return c;var h=this.getTileGridForProjection(a),p=this.getTileGridForProjection(s),_=this.getTileCoordForTileUrlFunction(l,s),g=new f5(a,h,s,p,l,_,this.getTilePixelRatio(o),this.getGutter(),function(m,y,v,E){return this.getTileInternal(m,y,v,E,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return g.key=d,c?(g.interimTile=c,g.refreshInterimChain(),u.replace(f,g)):u.set(f,g),g},t.prototype.getTileInternal=function(n,r,i,o,s){var a=null,u=gc(n,r,i),l=this.getKey();if(this.tileCache.containsKey(u)){if((a=this.tileCache.get(u)).key!=l){var c=a;(a=this.createTile_(n,r,i,o,s,l)).interimTile=0==c.getState()?c.interimTile:c,a.refreshInterimChain(),this.tileCache.replace(u,a)}}else a=this.createTile_(n,r,i,o,s,l),this.tileCache.set(u,a);return a},t.prototype.setRenderReprojectionEdges=function(n){if(this.renderReprojectionEdges_!=n){for(var r in this.renderReprojectionEdges_=n,this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},t.prototype.setTileGridForProjection=function(n,r){var i=At(n);if(i){var o=xt(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}},t}(y5);var D5=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const mc=function(e){function t(n){var i=n||{},o=void 0!==i.projection?i.projection:"EPSG:3857",s=void 0!==i.tileGrid?i.tileGrid:_c({extent:_g(o),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return e.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:o,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return D5(t,e),t}(w5);let I5=(()=>{class e{constructor(){this.values=[{season:"Winter",value:0,percent:0},{season:"Spring/Fall",value:0,percent:0},{season:"Summer",value:0,percent:0}],this.childToParent=new Hn}ngAfterViewInit(){this.map=new XG({layers:[new zb({source:new mc({url:"https://api.maptiler.com/maps/pastel/256/{z}/{x}/{y}@2x.png?key=IxVihBOM4lBynzvniN1A"})})],view:new Nb({center:Vo([-87.6298,41.8781],"EPSG:4326","EPSG:3857"),zoom:15}),target:"map"});let n=new yg({sources:[new mc({url:"../../assets/chicago-shadows/chi-dec-21/{z}/{x}/{y}.png",tileGrid:_c({tileSize:256,minZoom:15,maxZoom:15})})],operation:function(u,l){var c=[0,0,0,0],f=u[0][3]/255;return c[0]=66*f,c[1]=113*f,c[2]=143*f,c[3]=255*f,c}}),r=new yg({sources:[new mc({url:"../../assets/chicago-shadows/chi-sep-22/{z}/{x}/{y}.png",tileGrid:_c({tileSize:256,minZoom:15,maxZoom:15})})],operation:function(u,l){var c=[0,0,0,0],f=u[0][3]/255;return c[0]=66*f,c[1]=113*f,c[2]=143*f,c[3]=255*f,c}}),i=new yg({sources:[new mc({url:"../../assets/chicago-shadows/chi-jun-21/{z}/{x}/{y}.png",tileGrid:_c({tileSize:256,minZoom:15,maxZoom:15})})],operation:function(u,l){var c=[0,0,0,0],f=u[0][3]/255;return c[0]=66*f,c[1]=113*f,c[2]=143*f,c[3]=255*f,c}}),o=new hc({source:n,zIndex:1}),s=new hc({source:r,zIndex:0}),a=new hc({source:i,zIndex:0});this.map.on("pointermove",u=>{this.mousePosition=u.pixel,this.map.render()}),o.on("postrender",u=>{var c=u.frameState.pixelRatio;if(this.mousePosition){var p=u.context.getImageData(this.mousePosition[0]*c,this.mousePosition[1]*c,1,1).data[3]/255*360;this.values[0].value=p,this.values[0].percent=100*p/360,this.updateValues(this.values)}}),s.on("postrender",u=>{var c=u.frameState.pixelRatio;if(this.mousePosition){var p=u.context.getImageData(this.mousePosition[0]*c,this.mousePosition[1]*c,1,1).data[3]/255*540;this.values[1].value=p,this.values[1].percent=100*p/540,this.updateValues(this.values)}}),a.on("postrender",u=>{var c=u.frameState.pixelRatio;if(this.mousePosition){var p=u.context.getImageData(this.mousePosition[0]*c,this.mousePosition[1]*c,1,1).data[3]/255*720;this.values[2].value=p,this.values[2].percent=100*p/720,this.updateValues(this.values)}}),this.map.addLayer(s),this.map.addLayer(a),this.map.addLayer(o)}updateValues(n){this.childToParent.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Wo({type:e,selectors:[["app-map"]],outputs:{childToParent:"childToParent"},decls:1,vars:0,consts:[["id","map"]],template:function(n,r){1&n&&Cu(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:100%;height:100%;z-index:2}"]}),e})(),T5=(()=>{class e{constructor(){this.title="shadow-maps"}onReceiveChildProps(n){this.values=n,this.updateValues(this.values)}updateValues(n){this.chart.updateValues(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Wo({type:e,selectors:[["app-root"]],viewQuery:function(n,r){if(1&n&&_E(mD,5),2&n){let i;gE(i=function(e,t){return e[19].queries[t].queryList}(I(),o_()))&&(r.chart=i.first)}},decls:2,vars:0,consts:[[3,"childToParent"]],template:function(n,r){1&n&&(fd(0,"app-map",0),pd("childToParent",function(o){return r.onReceiveChildProps(o)}),dd(),Cu(1,"app-chart"))},directives:[I5,mD],styles:[""]}),e})(),x5=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ko({type:e,bootstrap:[T5]}),e.\u0275inj=$r({providers:[],imports:[[O2]]}),e})();(function(){if(zE)throw new Error("Cannot enable prod mode after platform setup.");$E=!1})(),P2().bootstrapModule(x5).catch(e=>console.error(e))}},Ho=>{Ho(Ho.s=630)}]);